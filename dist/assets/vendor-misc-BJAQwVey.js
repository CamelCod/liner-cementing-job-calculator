import{c as e,g as n}from"./vendor-cFRcXG0Z.js";var l,u,h={exports:{}},d={};function requireScheduler(){return u||(u=1,h.exports=(l||(l=1,function(e){function f2(e,n){var l=e.length;e.push(n);e:for(;0<l;){var u=l-1>>>1,h=e[u];if(!(0<g(h,n)))break e;e[u]=n,e[l]=h,l=u}}function h2(e){return 0===e.length?null:e[0]}function k(e){if(0===e.length)return null;var n=e[0],l=e.pop();if(l!==n){e[0]=l;e:for(var u=0,h=e.length,d=h>>>1;u<d;){var f=2*(u+1)-1,P=e[f],V=f+1,B=e[V];if(0>g(P,l))V<h&&0>g(B,P)?(e[u]=B,e[V]=l,u=V):(e[u]=P,e[f]=l,u=f);else{if(!(V<h&&0>g(B,l)))break e;e[u]=B,e[V]=l,u=V}}}return n}function g(e,n){var l=e.sortIndex-n.sortIndex;return 0!==l?l:e.id-n.id}if("object"==typeof performance&&"function"==typeof performance.now){var n=performance;e.unstable_now=function(){return n.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var h=[],d=[],f=1,P=null,V=3,B=!1,b=!1,C=!1,S="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,E="undefined"!=typeof setImmediate?setImmediate:null;function G(e){for(var n=h2(d);null!==n;){if(null===n.callback)k(d);else{if(!(n.startTime<=e))break;k(d),n.sortIndex=n.expirationTime,f2(h,n)}n=h2(d)}}function H(e){if(C=!1,G(e),!b)if(null!==h2(h))b=!0,I(J);else{var n=h2(d);null!==n&&K(H,n.startTime-e)}}function J(n,l){b=!1,C&&(C=!1,x(q),q=-1),B=!0;var u=V;try{for(G(l),P=h2(h);null!==P&&(!(P.expirationTime>l)||n&&!M());){var f=P.callback;if("function"==typeof f){P.callback=null,V=P.priorityLevel;var S=f(P.expirationTime<=l);l=e.unstable_now(),"function"==typeof S?P.callback=S:P===h2(h)&&k(h),G(l)}else k(h);P=h2(h)}if(null!==P)var E=!0;else{var _=h2(d);null!==_&&K(H,_.startTime-l),E=!1}return E}finally{P=null,V=u,B=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,O=!1,A=null,q=-1,N=5,D=-1;function M(){return!(e.unstable_now()-D<N)}function R(){if(null!==A){var n=e.unstable_now();D=n;var l=!0;try{l=A(!0,n)}finally{l?_():(O=!1,A=null)}}else O=!1}if("function"==typeof E)_=function(){E(R)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,U=L.port2;L.port1.onmessage=R,_=function(){U.postMessage(null)}}else _=function(){S(R,0)};function I(e){A=e,O||(O=!0,_())}function K(n,l){q=S(function(){n(e.unstable_now())},l)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){b||B||(b=!0,I(J))},e.unstable_forceFrameRate=function(e){0>e||125<e||(N=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return V},e.unstable_getFirstCallbackNode=function(){return h2(h)},e.unstable_next=function(e){switch(V){case 1:case 2:case 3:var n=3;break;default:n=V}var l=V;V=n;try{return e()}finally{V=l}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var l=V;V=e;try{return n()}finally{V=l}},e.unstable_scheduleCallback=function(n,l,u){var P=e.unstable_now();switch(u="object"==typeof u&&null!==u&&"number"==typeof(u=u.delay)&&0<u?P+u:P,n){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return n={id:f++,callback:l,priorityLevel:n,startTime:u,expirationTime:V=u+V,sortIndex:-1},u>P?(n.sortIndex=u,f2(d,n),null===h2(h)&&n===h2(d)&&(C?(x(q),q=-1):C=!0,K(H,u-P))):(n.sortIndex=V,f2(h,n),b||B||(b=!0,I(J))),n},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(e){var n=V;return function(){var l=V;V=n;try{return e.apply(this,arguments)}finally{V=l}}}}(d)),d)),h.exports}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let f,P;function getBaseUrl(e,n,l,u){var h,d;if(!(null==e?void 0:e.baseUrl)){const e={geminiUrl:f,vertexUrl:P};return n?null!==(h=e.vertexUrl)&&void 0!==h?h:l:null!==(d=e.geminiUrl)&&void 0!==d?d:u}return e.baseUrl}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V{}function formatMap(e,n){return e.replace(/\{([^}]+)\}/g,(e,l)=>{if(Object.prototype.hasOwnProperty.call(n,l)){const e=n[l];return null!=e?String(e):""}throw new Error(`Key '${l}' not found in valueMap.`)})}function setValueByPath(e,n,l){for(let d=0;d<n.length-1;d++){const u=n[d];if(u.endsWith("[]")){const h=u.slice(0,-2);if(!(h in e)){if(!Array.isArray(l))throw new Error(`Value must be a list given an array path ${u}`);e[h]=Array.from({length:l.length},()=>({}))}if(Array.isArray(e[h])){const u=e[h];if(Array.isArray(l))for(let e=0;e<u.length;e++){setValueByPath(u[e],n.slice(d+1),l[e])}else for(const e of u)setValueByPath(e,n.slice(d+1),l)}return}if(u.endsWith("[0]")){const h=u.slice(0,-3);h in e||(e[h]=[{}]);return void setValueByPath(e[h][0],n.slice(d+1),l)}e[u]&&"object"==typeof e[u]||(e[u]={}),e=e[u]}const u=n[n.length-1],h=e[u];if(void 0!==h){if(!l||"object"==typeof l&&0===Object.keys(l).length)return;if(l===h)return;if("object"!=typeof h||"object"!=typeof l||null===h||null===l)throw new Error(`Cannot set value for an existing key. Key: ${u}`);Object.assign(h,l)}else e[u]=l}function getValueByPath(e,n){try{if(1===n.length&&"_self"===n[0])return e;for(let l=0;l<n.length;l++){if("object"!=typeof e||null===e)return;const u=n[l];if(u.endsWith("[]")){const h=u.slice(0,-2);if(h in e){const u=e[h];if(!Array.isArray(u))return;return u.map(e=>getValueByPath(e,n.slice(l+1)))}return}e=e[u]}return e}catch(l){if(l instanceof TypeError)return;throw l}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tBytes$1(e){if("string"!=typeof e)throw new Error("fromImageBytes must be a string");return e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var B,b,C,S,x,E,_,O,A,q,N,D,L,U,j,$,z,W,Y,X,Q,Z,ee,te,ne,re,ae,ie,oe,se,le,ue,ce,he,ye,de,fe,ge,pe,me,Pe,ve,Ve,Be,be,Te,Ce,Se,xe,Ee,_e,Oe,Ae,we,Ie,Me,qe,Ne,Re,ke,De,Le,Fe,Ue,je,Ge,He,$e,ze,Je,We,Ye,Ke,Xe,Qe,Ze,et,tt,nt,rt,at,it,ot,st,lt,ut,ct,ht;(b=B||(B={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",b.OUTCOME_OK="OUTCOME_OK",b.OUTCOME_FAILED="OUTCOME_FAILED",b.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(S=C||(C={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",S.PYTHON="PYTHON",(E=x||(x={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",E.STRING="STRING",E.NUMBER="NUMBER",E.INTEGER="INTEGER",E.BOOLEAN="BOOLEAN",E.ARRAY="ARRAY",E.OBJECT="OBJECT",E.NULL="NULL",(O=_||(_={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",O.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",O.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",O.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",O.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",O.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",O.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",O.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",O.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",O.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",(q=A||(A={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",q.SEVERITY="SEVERITY",q.PROBABILITY="PROBABILITY",(D=N||(N={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",D.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",D.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",D.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",D.BLOCK_NONE="BLOCK_NONE",D.OFF="OFF",(U=L||(L={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",U.MODE_DYNAMIC="MODE_DYNAMIC",($=j||(j={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",$.NO_AUTH="NO_AUTH",$.API_KEY_AUTH="API_KEY_AUTH",$.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",$.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",$.OAUTH="OAUTH",$.OIDC_AUTH="OIDC_AUTH",(W=z||(z={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",W.SIMPLE_SEARCH="SIMPLE_SEARCH",W.ELASTIC_SEARCH="ELASTIC_SEARCH",(X=Y||(Y={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",X.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",(Z=Q||(Q={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",Z.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",Z.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",Z.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",Z.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(te=ee||(ee={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",te.STOP="STOP",te.MAX_TOKENS="MAX_TOKENS",te.SAFETY="SAFETY",te.RECITATION="RECITATION",te.LANGUAGE="LANGUAGE",te.OTHER="OTHER",te.BLOCKLIST="BLOCKLIST",te.PROHIBITED_CONTENT="PROHIBITED_CONTENT",te.SPII="SPII",te.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",te.IMAGE_SAFETY="IMAGE_SAFETY",te.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",(re=ne||(ne={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",re.NEGLIGIBLE="NEGLIGIBLE",re.LOW="LOW",re.MEDIUM="MEDIUM",re.HIGH="HIGH",(ie=ae||(ae={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",ie.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",ie.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",ie.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",ie.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",(se=oe||(oe={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",se.SAFETY="SAFETY",se.OTHER="OTHER",se.BLOCKLIST="BLOCKLIST",se.PROHIBITED_CONTENT="PROHIBITED_CONTENT",se.IMAGE_SAFETY="IMAGE_SAFETY",(ue=le||(le={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",ue.ON_DEMAND="ON_DEMAND",ue.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(he=ce||(ce={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",he.TEXT="TEXT",he.IMAGE="IMAGE",he.AUDIO="AUDIO",(de=ye||(ye={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",de.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",de.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",de.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(ge=fe||(fe={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",ge.JOB_STATE_QUEUED="JOB_STATE_QUEUED",ge.JOB_STATE_PENDING="JOB_STATE_PENDING",ge.JOB_STATE_RUNNING="JOB_STATE_RUNNING",ge.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",ge.JOB_STATE_FAILED="JOB_STATE_FAILED",ge.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",ge.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",ge.JOB_STATE_PAUSED="JOB_STATE_PAUSED",ge.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",ge.JOB_STATE_UPDATING="JOB_STATE_UPDATING",ge.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(me=pe||(pe={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",me.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",me.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",me.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",me.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",me.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",me.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(ve=Pe||(Pe={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",ve.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",ve.BALANCED="BALANCED",ve.PRIORITIZE_COST="PRIORITIZE_COST",(Be=Ve||(Ve={})).UNSPECIFIED="UNSPECIFIED",Be.BLOCKING="BLOCKING",Be.NON_BLOCKING="NON_BLOCKING",(Te=be||(be={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",Te.MODE_DYNAMIC="MODE_DYNAMIC",(Se=Ce||(Ce={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",Se.AUTO="AUTO",Se.ANY="ANY",Se.NONE="NONE",(Ee=xe||(xe={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",Ee.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",Ee.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",Ee.BLOCK_NONE="BLOCK_NONE",(Oe=_e||(_e={})).DONT_ALLOW="DONT_ALLOW",Oe.ALLOW_ADULT="ALLOW_ADULT",Oe.ALLOW_ALL="ALLOW_ALL",(we=Ae||(Ae={})).auto="auto",we.en="en",we.ja="ja",we.ko="ko",we.hi="hi",we.zh="zh",we.pt="pt",we.es="es",(Me=Ie||(Ie={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",Me.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",Me.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",Me.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",Me.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",(Ne=qe||(qe={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",Ne.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",Ne.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",Ne.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(ke=Re||(Re={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",ke.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",ke.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",ke.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(Le=De||(De={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",Le.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",Le.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",Le.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",Le.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",Le.EDIT_MODE_STYLE="EDIT_MODE_STYLE",Le.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",Le.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(Ue=Fe||(Fe={})).OPTIMIZED="OPTIMIZED",Ue.LOSSLESS="LOSSLESS",(Ge=je||(je={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",Ge.PROCESSING="PROCESSING",Ge.ACTIVE="ACTIVE",Ge.FAILED="FAILED",($e=He||(He={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",$e.UPLOADED="UPLOADED",$e.GENERATED="GENERATED",(Je=ze||(ze={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Je.TEXT="TEXT",Je.IMAGE="IMAGE",Je.VIDEO="VIDEO",Je.AUDIO="AUDIO",Je.DOCUMENT="DOCUMENT",(Ye=We||(We={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",Ye.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",Ye.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(Xe=Ke||(Ke={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",Xe.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",Xe.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(Ze=Qe||(Qe={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",Ze.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",Ze.NO_INTERRUPTION="NO_INTERRUPTION",(tt=et||(et={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",tt.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",tt.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(rt=nt||(nt={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",rt.SILENT="SILENT",rt.WHEN_IDLE="WHEN_IDLE",rt.INTERRUPT="INTERRUPT",(it=at||(at={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",it.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",it.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",it.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",it.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",it.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",it.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",it.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",it.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",it.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",it.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",it.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",it.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",(st=ot||(ot={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",st.QUALITY="QUALITY",st.DIVERSITY="DIVERSITY",st.VOCALIZATION="VOCALIZATION",(ut=lt||(lt={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",ut.PLAY="PLAY",ut.PAUSE="PAUSE",ut.STOP="STOP",ut.RESET_CONTEXT="RESET_CONTEXT";class yt{constructor(e){const n={};for(const l of e.headers.entries())n[l[0]]=l[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class dt{get text(){var e,n,l,u,h,d,f,P;if(0===(null===(u=null===(l=null===(n=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===n?void 0:n.content)||void 0===l?void 0:l.parts)||void 0===u?void 0:u.length))return;this.candidates&&this.candidates.length;let V="",B=!1;const b=[];for(const C of null!==(P=null===(f=null===(d=null===(h=this.candidates)||void 0===h?void 0:h[0])||void 0===d?void 0:d.content)||void 0===f?void 0:f.parts)&&void 0!==P?P:[]){for(const[e,n]of Object.entries(C))"text"===e||"thought"===e||null===n&&void 0===n||b.push(e);if("string"==typeof C.text){if("boolean"==typeof C.thought&&C.thought)continue;B=!0,V+=C.text}}return b.length,B?V:void 0}get data(){var e,n,l,u,h,d,f,P;if(0===(null===(u=null===(l=null===(n=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===n?void 0:n.content)||void 0===l?void 0:l.parts)||void 0===u?void 0:u.length))return;this.candidates&&this.candidates.length;let V="";const B=[];for(const b of null!==(P=null===(f=null===(d=null===(h=this.candidates)||void 0===h?void 0:h[0])||void 0===d?void 0:d.content)||void 0===f?void 0:f.parts)&&void 0!==P?P:[]){for(const[e,n]of Object.entries(b))"inlineData"===e||null===n&&void 0===n||B.push(e);b.inlineData&&"string"==typeof b.inlineData.data&&(V+=atob(b.inlineData.data))}return B.length,V.length>0?btoa(V):void 0}get functionCalls(){var e,n,l,u,h,d,f,P;if(0===(null===(u=null===(l=null===(n=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===n?void 0:n.content)||void 0===l?void 0:l.parts)||void 0===u?void 0:u.length))return;this.candidates&&this.candidates.length;const V=null===(P=null===(f=null===(d=null===(h=this.candidates)||void 0===h?void 0:h[0])||void 0===d?void 0:d.content)||void 0===f?void 0:f.parts)||void 0===P?void 0:P.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null==V?void 0:V.length)?V:void 0}get executableCode(){var e,n,l,u,h,d,f,P,V;if(0===(null===(u=null===(l=null===(n=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===n?void 0:n.content)||void 0===l?void 0:l.parts)||void 0===u?void 0:u.length))return;this.candidates&&this.candidates.length;const B=null===(P=null===(f=null===(d=null===(h=this.candidates)||void 0===h?void 0:h[0])||void 0===d?void 0:d.content)||void 0===f?void 0:f.parts)||void 0===P?void 0:P.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null==B?void 0:B.length)?null===(V=null==B?void 0:B[0])||void 0===V?void 0:V.code:void 0}get codeExecutionResult(){var e,n,l,u,h,d,f,P,V;if(0===(null===(u=null===(l=null===(n=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===n?void 0:n.content)||void 0===l?void 0:l.parts)||void 0===u?void 0:u.length))return;this.candidates&&this.candidates.length;const B=null===(P=null===(f=null===(d=null===(h=this.candidates)||void 0===h?void 0:h[0])||void 0===d?void 0:d.content)||void 0===f?void 0:f.parts)||void 0===P?void 0:P.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null==B?void 0:B.length)?null===(V=null==B?void 0:B[0])||void 0===V?void 0:V.output:void 0}}class ft{}class gt{}class pt{}class mt{}class Pt{}class vt{}class Vt{}class Bt{}class bt{}class Tt{}class Ct{}class St{}class xt{}class Et{}class _t{}class Ot{}class At{}class wt{get text(){var e,n,l;let u="",h=!1;const d=[];for(const f of null!==(l=null===(n=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===n?void 0:n.parts)&&void 0!==l?l:[]){for(const[e,n]of Object.entries(f))"text"!==e&&"thought"!==e&&null!==n&&d.push(e);if("string"==typeof f.text){if("boolean"==typeof f.thought&&f.thought)continue;h=!0,u+=f.text}}return d.length,h?u:void 0}get data(){var e,n,l;let u="";const h=[];for(const d of null!==(l=null===(n=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===n?void 0:n.parts)&&void 0!==l?l:[]){for(const[e,n]of Object.entries(d))"inlineData"!==e&&null!==n&&h.push(e);d.inlineData&&"string"==typeof d.inlineData.data&&(u+=atob(d.inlineData.data))}return h.length,u.length>0?btoa(u):void 0}}class It{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const l=new It;if(l.name=e.name,l.metadata=e.metadata,l.done=e.done,l.error=e.error,n){const n=e.response;if(n){const e=new Tt,u=n.videos;e.generatedVideos=null==u?void 0:u.map(e=>({video:{uri:e.gcsUri,videoBytes:e.bytesBase64Encoded?tBytes$1(e.bytesBase64Encoded):void 0,mimeType:e.mimeType}})),e.raiMediaFilteredCount=n.raiMediaFilteredCount,e.raiMediaFilteredReasons=n.raiMediaFilteredReasons,l.response=e}}else{const n=e.response;if(n){const e=new Tt,u=n.generateVideoResponse,h=null==u?void 0:u.generatedSamples;e.generatedVideos=null==h?void 0:h.map(e=>{const n=e.video;return{video:{uri:null==n?void 0:n.uri,videoBytes:(null==n?void 0:n.encodedVideo)?tBytes$1(null==n?void 0:n.encodedVideo):void 0,mimeType:e.encoding}}}),e.raiMediaFilteredCount=null==u?void 0:u.raiMediaFilteredCount,e.raiMediaFilteredReasons=null==u?void 0:u.raiMediaFilteredReasons,l.response=e}}return l}}class Mt{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tModel(e,n){if(!n||"string"!=typeof n)throw new Error("model is required and must be a string");if(e.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const e=n.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${n}`}return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function tCachesModel(e,n){const l=tModel(e,n);return l?l.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${l}`:l.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${l}`:l:""}function tBlobs(e){return Array.isArray(e)?e.map(e=>tBlob(e)):[tBlob(e)]}function tBlob(e){if("object"==typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof e)}function tImageBlob(e){const n=tBlob(e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function tAudioBlob(e){const n=tBlob(e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function tPart(e){if(null==e)throw new Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw new Error("Unsupported part type: "+typeof e)}function tParts(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>tPart(e)):[tPart(e)]}function _isContent(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function _isFunctionCallPart(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function _isFunctionResponsePart(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function tContent(e){if(null==e)throw new Error("ContentUnion is required");return _isContent(e)?e:{role:"user",parts:tParts(e)}}function tContentsForEmbed(e,n){if(!n)return[];if(e.isVertexAI()&&Array.isArray(n))return n.flatMap(e=>{const n=tContent(e);return n.parts&&n.parts.length>0&&void 0!==n.parts[0].text?[n.parts[0].text]:[]});if(e.isVertexAI()){const e=tContent(n);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(n)?n.map(e=>tContent(e)):[tContent(n)]}function tContents(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(_isFunctionCallPart(e)||_isFunctionResponsePart(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tContent(e)]}const n=[],l=[],u=_isContent(e[0]);for(const h of e){const e=_isContent(h);if(e!=u)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)n.push(h);else{if(_isFunctionCallPart(h)||_isFunctionResponsePart(h))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(h)}}return u||n.push({role:"user",parts:tParts(l)}),n}function processJsonSchema(e){const n={},l=["items"],u=["anyOf"],h=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=e.anyOf;null!=d&&2==d.length&&("null"===d[0].type?(n.nullable=!0,e=d[1]):"null"===d[1].type&&(n.nullable=!0,e=d[0])),e.type instanceof Array&&function(e,n){e.includes("null")&&(n.nullable=!0);const l=e.filter(e=>"null"!==e);if(1===l.length)n.type=Object.values(x).includes(l[0].toUpperCase())?l[0].toUpperCase():x.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const e of l)n.anyOf.push({type:Object.values(x).includes(e.toUpperCase())?e.toUpperCase():x.TYPE_UNSPECIFIED})}}(e.type,n);for(const[f,P]of Object.entries(e))if(null!=P)if("type"==f){if("null"===P)throw new Error("type: null can not be the only possible type for the field.");if(P instanceof Array)continue;n.type=Object.values(x).includes(P.toUpperCase())?P.toUpperCase():x.TYPE_UNSPECIFIED}else if(l.includes(f))n[f]=processJsonSchema(P);else if(u.includes(f)){const e=[];for(const l of P)"null"!=l.type?e.push(processJsonSchema(l)):n.nullable=!0;n[f]=e}else if(h.includes(f)){const e={};for(const[n,l]of Object.entries(P))e[n]=processJsonSchema(l);n[f]=e}else{if("additionalProperties"===f)continue;n[f]=P}return n}function tSchema(e){return processJsonSchema(e)}function tSpeechConfig(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: "+typeof e)}function tLiveSpeechConfig(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function tTool(e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=processJsonSchema(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=processJsonSchema(n.response));return e}function tTools(e){if(null==e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const l of e)n.push(l);return n}function tCachedContentName(e,n){if("string"!=typeof n)throw new Error("name must be a string");return function(e,n,l,u=1){const h=!n.startsWith(`${l}/`)&&n.split("/").length===u;return e.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${e.getProject()}/${n}`:n.startsWith(`${l}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:h?`projects/${e.getProject()}/locations/${e.getLocation()}/${l}/${n}`:n:h?`${l}/${n}`:n}(e,n,"cachedContents")}function tTuningJobStatus(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function tBytes(e){return tBytes$1(e)}function tFileName(e){var n;let l;var u;if(null!=(u=e)&&"object"==typeof u&&"name"in u&&(l=e.name),!(function(e){return null!=e&&"object"==typeof e&&"uri"in e}(e)&&(l=e.uri,void 0===l)||function(e){return null!=e&&"object"==typeof e&&"video"in e}(e)&&(l=null===(n=e.video)||void 0===n?void 0:n.uri,void 0===l))){if("string"==typeof e&&(l=e),void 0===l)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const e=l.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${l}`);l=e[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function tModelsUrl(e,n){let l;return l=e.isVertexAI()?n?"publishers/google/models":"models":n?"models":"tunedModels",l}function tExtractModels(e){for(const n of["models","tunedModels","publisherModels"])if(hasField(e,n))return e[n];return[]}function hasField(e,n){return null!==e&&"object"==typeof e&&n in e}function mcpToGeminiTool(e,n={}){const l=e,u={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};n.behavior&&(u.behavior=n.behavior);return{functionDeclarations:[u]}}function tBatchJobSource(e,n){if("string"!=typeof n&&!Array.isArray(n)){if(e&&e.isVertexAI()){if(n.gcsUri&&n.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!n.gcsUri&&!n.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(n.inlinedRequests&&n.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!n.inlinedRequests&&!n.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return n}if(Array.isArray(n))return{inlinedRequests:n};if("string"==typeof n){if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:[n]};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};if(n.startsWith("files/"))return{fileName:n}}throw new Error(`Unsupported source: ${n}`)}function tBatchJobName(e,n){const l=n;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function tJobState(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function partToMldev$4(e){const n={},l=getValueByPath(e,["videoMetadata"]);null!=l&&setValueByPath(n,["videoMetadata"],function(e){const n={},l=getValueByPath(e,["fps"]);null!=l&&setValueByPath(n,["fps"],l);const u=getValueByPath(e,["endOffset"]);null!=u&&setValueByPath(n,["endOffset"],u);const h=getValueByPath(e,["startOffset"]);return null!=h&&setValueByPath(n,["startOffset"],h),n}(l));const u=getValueByPath(e,["thought"]);null!=u&&setValueByPath(n,["thought"],u);const h=getValueByPath(e,["inlineData"]);null!=h&&setValueByPath(n,["inlineData"],function(e){const n={};if(void 0!==getValueByPath(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const l=getValueByPath(e,["data"]);null!=l&&setValueByPath(n,["data"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(h));const d=getValueByPath(e,["fileData"]);null!=d&&setValueByPath(n,["fileData"],function(e){const n={};if(void 0!==getValueByPath(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const l=getValueByPath(e,["fileUri"]);null!=l&&setValueByPath(n,["fileUri"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(d));const f=getValueByPath(e,["thoughtSignature"]);null!=f&&setValueByPath(n,["thoughtSignature"],f);const P=getValueByPath(e,["codeExecutionResult"]);null!=P&&setValueByPath(n,["codeExecutionResult"],P);const V=getValueByPath(e,["executableCode"]);null!=V&&setValueByPath(n,["executableCode"],V);const B=getValueByPath(e,["functionCall"]);null!=B&&setValueByPath(n,["functionCall"],B);const b=getValueByPath(e,["functionResponse"]);null!=b&&setValueByPath(n,["functionResponse"],b);const C=getValueByPath(e,["text"]);return null!=C&&setValueByPath(n,["text"],C),n}function contentToMldev$4(e){const n={},l=getValueByPath(e,["parts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>partToMldev$4(e))),setValueByPath(n,["parts"],e)}const u=getValueByPath(e,["role"]);return null!=u&&setValueByPath(n,["role"],u),n}function googleSearchToMldev$4(e){const n={},l=getValueByPath(e,["timeRangeFilter"]);return null!=l&&setValueByPath(n,["timeRangeFilter"],function(e){const n={},l=getValueByPath(e,["startTime"]);null!=l&&setValueByPath(n,["startTime"],l);const u=getValueByPath(e,["endTime"]);return null!=u&&setValueByPath(n,["endTime"],u),n}(l)),n}function googleSearchRetrievalToMldev$4(e){const n={},l=getValueByPath(e,["dynamicRetrievalConfig"]);return null!=l&&setValueByPath(n,["dynamicRetrievalConfig"],function(e){const n={},l=getValueByPath(e,["mode"]);null!=l&&setValueByPath(n,["mode"],l);const u=getValueByPath(e,["dynamicThreshold"]);return null!=u&&setValueByPath(n,["dynamicThreshold"],u),n}(l)),n}function toolToMldev$4(e){const n={},l=getValueByPath(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["behavior"]);null!=l&&setValueByPath(n,["behavior"],l);const u=getValueByPath(e,["description"]);null!=u&&setValueByPath(n,["description"],u);const h=getValueByPath(e,["name"]);null!=h&&setValueByPath(n,["name"],h);const d=getValueByPath(e,["parameters"]);null!=d&&setValueByPath(n,["parameters"],d);const f=getValueByPath(e,["parametersJsonSchema"]);null!=f&&setValueByPath(n,["parametersJsonSchema"],f);const P=getValueByPath(e,["response"]);null!=P&&setValueByPath(n,["response"],P);const V=getValueByPath(e,["responseJsonSchema"]);return null!=V&&setValueByPath(n,["responseJsonSchema"],V),n}(e))),setValueByPath(n,["functionDeclarations"],e)}if(void 0!==getValueByPath(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const u=getValueByPath(e,["googleSearch"]);null!=u&&setValueByPath(n,["googleSearch"],googleSearchToMldev$4(u));const h=getValueByPath(e,["googleSearchRetrieval"]);if(null!=h&&setValueByPath(n,["googleSearchRetrieval"],googleSearchRetrievalToMldev$4(h)),void 0!==getValueByPath(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=getValueByPath(e,["urlContext"])&&setValueByPath(n,["urlContext"],{});const d=getValueByPath(e,["codeExecution"]);null!=d&&setValueByPath(n,["codeExecution"],d);const f=getValueByPath(e,["computerUse"]);return null!=f&&setValueByPath(n,["computerUse"],f),n}function retrievalConfigToMldev$2(e){const n={},l=getValueByPath(e,["latLng"]);null!=l&&setValueByPath(n,["latLng"],function(e){const n={},l=getValueByPath(e,["latitude"]);null!=l&&setValueByPath(n,["latitude"],l);const u=getValueByPath(e,["longitude"]);return null!=u&&setValueByPath(n,["longitude"],u),n}(l));const u=getValueByPath(e,["languageCode"]);return null!=u&&setValueByPath(n,["languageCode"],u),n}function toolConfigToMldev$2(e){const n={},l=getValueByPath(e,["functionCallingConfig"]);null!=l&&setValueByPath(n,["functionCallingConfig"],function(e){const n={},l=getValueByPath(e,["mode"]);null!=l&&setValueByPath(n,["mode"],l);const u=getValueByPath(e,["allowedFunctionNames"]);return null!=u&&setValueByPath(n,["allowedFunctionNames"],u),n}(l));const u=getValueByPath(e,["retrievalConfig"]);return null!=u&&setValueByPath(n,["retrievalConfig"],retrievalConfigToMldev$2(u)),n}function voiceConfigToMldev$3(e){const n={},l=getValueByPath(e,["prebuiltVoiceConfig"]);return null!=l&&setValueByPath(n,["prebuiltVoiceConfig"],function(e){const n={},l=getValueByPath(e,["voiceName"]);return null!=l&&setValueByPath(n,["voiceName"],l),n}(l)),n}function multiSpeakerVoiceConfigToMldev$3(e){const n={},l=getValueByPath(e,["speakerVoiceConfigs"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["speaker"]);null!=l&&setValueByPath(n,["speaker"],l);const u=getValueByPath(e,["voiceConfig"]);return null!=u&&setValueByPath(n,["voiceConfig"],voiceConfigToMldev$3(u)),n}(e))),setValueByPath(n,["speakerVoiceConfigs"],e)}return n}function generateContentConfigToMldev$1(e,n,l){const u={},h=getValueByPath(n,["systemInstruction"]);void 0!==l&&null!=h&&setValueByPath(l,["systemInstruction"],contentToMldev$4(tContent(h)));const d=getValueByPath(n,["temperature"]);null!=d&&setValueByPath(u,["temperature"],d);const f=getValueByPath(n,["topP"]);null!=f&&setValueByPath(u,["topP"],f);const P=getValueByPath(n,["topK"]);null!=P&&setValueByPath(u,["topK"],P);const V=getValueByPath(n,["candidateCount"]);null!=V&&setValueByPath(u,["candidateCount"],V);const B=getValueByPath(n,["maxOutputTokens"]);null!=B&&setValueByPath(u,["maxOutputTokens"],B);const b=getValueByPath(n,["stopSequences"]);null!=b&&setValueByPath(u,["stopSequences"],b);const C=getValueByPath(n,["responseLogprobs"]);null!=C&&setValueByPath(u,["responseLogprobs"],C);const S=getValueByPath(n,["logprobs"]);null!=S&&setValueByPath(u,["logprobs"],S);const x=getValueByPath(n,["presencePenalty"]);null!=x&&setValueByPath(u,["presencePenalty"],x);const E=getValueByPath(n,["frequencyPenalty"]);null!=E&&setValueByPath(u,["frequencyPenalty"],E);const _=getValueByPath(n,["seed"]);null!=_&&setValueByPath(u,["seed"],_);const O=getValueByPath(n,["responseMimeType"]);null!=O&&setValueByPath(u,["responseMimeType"],O);const A=getValueByPath(n,["responseSchema"]);null!=A&&setValueByPath(u,["responseSchema"],function(e){const n={},l=getValueByPath(e,["anyOf"]);null!=l&&setValueByPath(n,["anyOf"],l);const u=getValueByPath(e,["default"]);null!=u&&setValueByPath(n,["default"],u);const h=getValueByPath(e,["description"]);null!=h&&setValueByPath(n,["description"],h);const d=getValueByPath(e,["enum"]);null!=d&&setValueByPath(n,["enum"],d);const f=getValueByPath(e,["example"]);null!=f&&setValueByPath(n,["example"],f);const P=getValueByPath(e,["format"]);null!=P&&setValueByPath(n,["format"],P);const V=getValueByPath(e,["items"]);null!=V&&setValueByPath(n,["items"],V);const B=getValueByPath(e,["maxItems"]);null!=B&&setValueByPath(n,["maxItems"],B);const b=getValueByPath(e,["maxLength"]);null!=b&&setValueByPath(n,["maxLength"],b);const C=getValueByPath(e,["maxProperties"]);null!=C&&setValueByPath(n,["maxProperties"],C);const S=getValueByPath(e,["maximum"]);null!=S&&setValueByPath(n,["maximum"],S);const x=getValueByPath(e,["minItems"]);null!=x&&setValueByPath(n,["minItems"],x);const E=getValueByPath(e,["minLength"]);null!=E&&setValueByPath(n,["minLength"],E);const _=getValueByPath(e,["minProperties"]);null!=_&&setValueByPath(n,["minProperties"],_);const O=getValueByPath(e,["minimum"]);null!=O&&setValueByPath(n,["minimum"],O);const A=getValueByPath(e,["nullable"]);null!=A&&setValueByPath(n,["nullable"],A);const q=getValueByPath(e,["pattern"]);null!=q&&setValueByPath(n,["pattern"],q);const N=getValueByPath(e,["properties"]);null!=N&&setValueByPath(n,["properties"],N);const D=getValueByPath(e,["propertyOrdering"]);null!=D&&setValueByPath(n,["propertyOrdering"],D);const L=getValueByPath(e,["required"]);null!=L&&setValueByPath(n,["required"],L);const U=getValueByPath(e,["title"]);null!=U&&setValueByPath(n,["title"],U);const j=getValueByPath(e,["type"]);return null!=j&&setValueByPath(n,["type"],j),n}(tSchema(A)));const q=getValueByPath(n,["responseJsonSchema"]);if(null!=q&&setValueByPath(u,["responseJsonSchema"],q),void 0!==getValueByPath(n,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==getValueByPath(n,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=getValueByPath(n,["safetySettings"]);if(void 0!==l&&null!=N){let e=N;Array.isArray(e)&&(e=e.map(e=>function(e){const n={};if(void 0!==getValueByPath(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const l=getValueByPath(e,["category"]);null!=l&&setValueByPath(n,["category"],l);const u=getValueByPath(e,["threshold"]);return null!=u&&setValueByPath(n,["threshold"],u),n}(e))),setValueByPath(l,["safetySettings"],e)}const D=getValueByPath(n,["tools"]);if(void 0!==l&&null!=D){let e=tTools(D);Array.isArray(e)&&(e=e.map(e=>toolToMldev$4(tTool(e)))),setValueByPath(l,["tools"],e)}const L=getValueByPath(n,["toolConfig"]);if(void 0!==l&&null!=L&&setValueByPath(l,["toolConfig"],toolConfigToMldev$2(L)),void 0!==getValueByPath(n,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const U=getValueByPath(n,["cachedContent"]);void 0!==l&&null!=U&&setValueByPath(l,["cachedContent"],tCachedContentName(e,U));const j=getValueByPath(n,["responseModalities"]);null!=j&&setValueByPath(u,["responseModalities"],j);const $=getValueByPath(n,["mediaResolution"]);null!=$&&setValueByPath(u,["mediaResolution"],$);const z=getValueByPath(n,["speechConfig"]);if(null!=z&&setValueByPath(u,["speechConfig"],function(e){const n={},l=getValueByPath(e,["voiceConfig"]);null!=l&&setValueByPath(n,["voiceConfig"],voiceConfigToMldev$3(l));const u=getValueByPath(e,["multiSpeakerVoiceConfig"]);null!=u&&setValueByPath(n,["multiSpeakerVoiceConfig"],multiSpeakerVoiceConfigToMldev$3(u));const h=getValueByPath(e,["languageCode"]);return null!=h&&setValueByPath(n,["languageCode"],h),n}(tSpeechConfig(z))),void 0!==getValueByPath(n,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=getValueByPath(n,["thinkingConfig"]);return null!=W&&setValueByPath(u,["thinkingConfig"],function(e){const n={},l=getValueByPath(e,["includeThoughts"]);null!=l&&setValueByPath(n,["includeThoughts"],l);const u=getValueByPath(e,["thinkingBudget"]);return null!=u&&setValueByPath(n,["thinkingBudget"],u),n}(W)),u}function batchJobSourceToMldev(e,n){const l={};if(void 0!==getValueByPath(n,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==getValueByPath(n,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==getValueByPath(n,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const u=getValueByPath(n,["fileName"]);null!=u&&setValueByPath(l,["fileName"],u);const h=getValueByPath(n,["inlinedRequests"]);if(null!=h){let n=h;Array.isArray(n)&&(n=n.map(n=>function(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["request","model"],tModel(e,u));const h=getValueByPath(n,["contents"]);if(null!=h){let e=tContents(h);Array.isArray(e)&&(e=e.map(e=>contentToMldev$4(e))),setValueByPath(l,["request","contents"],e)}const d=getValueByPath(n,["config"]);return null!=d&&setValueByPath(l,["request","generationConfig"],generateContentConfigToMldev$1(e,d,l)),l}(e,n))),setValueByPath(l,["requests","requests"],n)}return l}function createBatchJobParametersToMldev(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["src"]);null!=h&&setValueByPath(l,["batch","inputConfig"],batchJobSourceToMldev(e,tBatchJobSource(e,h)));const d=getValueByPath(n,["config"]);return null!=d&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["displayName"]);if(void 0!==n&&null!=l&&setValueByPath(n,["batch","displayName"],l),void 0!==getValueByPath(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.");return{}}(d,l)),l}function listBatchJobsParametersToMldev(e){const n={},l=getValueByPath(e,["config"]);return null!=l&&setValueByPath(n,["config"],function(e,n){const l=getValueByPath(e,["pageSize"]);void 0!==n&&null!=l&&setValueByPath(n,["_query","pageSize"],l);const u=getValueByPath(e,["pageToken"]);if(void 0!==n&&null!=u&&setValueByPath(n,["_query","pageToken"],u),void 0!==getValueByPath(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.");return{}}(l,n)),n}function createBatchJobConfigToVertex(e,n){const l=getValueByPath(e,["displayName"]);void 0!==n&&null!=l&&setValueByPath(n,["displayName"],l);const u=getValueByPath(e,["dest"]);return void 0!==n&&null!=u&&setValueByPath(n,["outputConfig"],function(e){const n={},l=getValueByPath(e,["format"]);null!=l&&setValueByPath(n,["predictionsFormat"],l);const u=getValueByPath(e,["gcsUri"]);null!=u&&setValueByPath(n,["gcsDestination","outputUriPrefix"],u);const h=getValueByPath(e,["bigqueryUri"]);if(null!=h&&setValueByPath(n,["bigqueryDestination","outputUri"],h),void 0!==getValueByPath(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==getValueByPath(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return n}(function(e){if("string"!=typeof e)return e;const n=e;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}(u))),{}}function createBatchJobParametersToVertex(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["model"],tModel(e,u));const h=getValueByPath(n,["src"]);null!=h&&setValueByPath(l,["inputConfig"],function(e){const n={},l=getValueByPath(e,["format"]);null!=l&&setValueByPath(n,["instancesFormat"],l);const u=getValueByPath(e,["gcsUri"]);null!=u&&setValueByPath(n,["gcsSource","uris"],u);const h=getValueByPath(e,["bigqueryUri"]);if(null!=h&&setValueByPath(n,["bigquerySource","inputUri"],h),void 0!==getValueByPath(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==getValueByPath(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}(tBatchJobSource(e,h)));const d=getValueByPath(n,["config"]);return null!=d&&setValueByPath(l,["config"],createBatchJobConfigToVertex(d,l)),l}function listBatchJobsParametersToVertex(e){const n={},l=getValueByPath(e,["config"]);return null!=l&&setValueByPath(n,["config"],function(e,n){const l=getValueByPath(e,["pageSize"]);void 0!==n&&null!=l&&setValueByPath(n,["_query","pageSize"],l);const u=getValueByPath(e,["pageToken"]);void 0!==n&&null!=u&&setValueByPath(n,["_query","pageToken"],u);const h=getValueByPath(e,["filter"]);return void 0!==n&&null!=h&&setValueByPath(n,["_query","filter"],h),{}}(l,n)),n}function partFromMldev$2(e){const n={},l=getValueByPath(e,["videoMetadata"]);null!=l&&setValueByPath(n,["videoMetadata"],function(e){const n={},l=getValueByPath(e,["fps"]);null!=l&&setValueByPath(n,["fps"],l);const u=getValueByPath(e,["endOffset"]);null!=u&&setValueByPath(n,["endOffset"],u);const h=getValueByPath(e,["startOffset"]);return null!=h&&setValueByPath(n,["startOffset"],h),n}(l));const u=getValueByPath(e,["thought"]);null!=u&&setValueByPath(n,["thought"],u);const h=getValueByPath(e,["inlineData"]);null!=h&&setValueByPath(n,["inlineData"],function(e){const n={},l=getValueByPath(e,["data"]);null!=l&&setValueByPath(n,["data"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(h));const d=getValueByPath(e,["fileData"]);null!=d&&setValueByPath(n,["fileData"],function(e){const n={},l=getValueByPath(e,["fileUri"]);null!=l&&setValueByPath(n,["fileUri"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(d));const f=getValueByPath(e,["thoughtSignature"]);null!=f&&setValueByPath(n,["thoughtSignature"],f);const P=getValueByPath(e,["codeExecutionResult"]);null!=P&&setValueByPath(n,["codeExecutionResult"],P);const V=getValueByPath(e,["executableCode"]);null!=V&&setValueByPath(n,["executableCode"],V);const B=getValueByPath(e,["functionCall"]);null!=B&&setValueByPath(n,["functionCall"],B);const b=getValueByPath(e,["functionResponse"]);null!=b&&setValueByPath(n,["functionResponse"],b);const C=getValueByPath(e,["text"]);return null!=C&&setValueByPath(n,["text"],C),n}function urlContextMetadataFromMldev$2(e){const n={},l=getValueByPath(e,["urlMetadata"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["retrievedUrl"]);null!=l&&setValueByPath(n,["retrievedUrl"],l);const u=getValueByPath(e,["urlRetrievalStatus"]);return null!=u&&setValueByPath(n,["urlRetrievalStatus"],u),n}(e))),setValueByPath(n,["urlMetadata"],e)}return n}function candidateFromMldev$1(e){const n={},l=getValueByPath(e,["content"]);null!=l&&setValueByPath(n,["content"],function(e){const n={},l=getValueByPath(e,["parts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>partFromMldev$2(e))),setValueByPath(n,["parts"],e)}const u=getValueByPath(e,["role"]);return null!=u&&setValueByPath(n,["role"],u),n}(l));const u=getValueByPath(e,["citationMetadata"]);null!=u&&setValueByPath(n,["citationMetadata"],function(e){const n={},l=getValueByPath(e,["citationSources"]);return null!=l&&setValueByPath(n,["citations"],l),n}(u));const h=getValueByPath(e,["tokenCount"]);null!=h&&setValueByPath(n,["tokenCount"],h);const d=getValueByPath(e,["finishReason"]);null!=d&&setValueByPath(n,["finishReason"],d);const f=getValueByPath(e,["urlContextMetadata"]);null!=f&&setValueByPath(n,["urlContextMetadata"],urlContextMetadataFromMldev$2(f));const P=getValueByPath(e,["avgLogprobs"]);null!=P&&setValueByPath(n,["avgLogprobs"],P);const V=getValueByPath(e,["groundingMetadata"]);null!=V&&setValueByPath(n,["groundingMetadata"],V);const B=getValueByPath(e,["index"]);null!=B&&setValueByPath(n,["index"],B);const b=getValueByPath(e,["logprobsResult"]);null!=b&&setValueByPath(n,["logprobsResult"],b);const C=getValueByPath(e,["safetyRatings"]);return null!=C&&setValueByPath(n,["safetyRatings"],C),n}function jobErrorFromMldev(e){const n={},l=getValueByPath(e,["details"]);null!=l&&setValueByPath(n,["details"],l);const u=getValueByPath(e,["code"]);null!=u&&setValueByPath(n,["code"],u);const h=getValueByPath(e,["message"]);return null!=h&&setValueByPath(n,["message"],h),n}function inlinedResponseFromMldev(e){const n={},l=getValueByPath(e,["response"]);null!=l&&setValueByPath(n,["response"],function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["candidates"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>candidateFromMldev$1(e))),setValueByPath(n,["candidates"],e)}const h=getValueByPath(e,["modelVersion"]);null!=h&&setValueByPath(n,["modelVersion"],h);const d=getValueByPath(e,["promptFeedback"]);null!=d&&setValueByPath(n,["promptFeedback"],d);const f=getValueByPath(e,["responseId"]);null!=f&&setValueByPath(n,["responseId"],f);const P=getValueByPath(e,["usageMetadata"]);return null!=P&&setValueByPath(n,["usageMetadata"],P),n}(l));const u=getValueByPath(e,["error"]);return null!=u&&setValueByPath(n,["error"],jobErrorFromMldev(u)),n}function batchJobFromMldev(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["name"],l);const u=getValueByPath(e,["metadata","displayName"]);null!=u&&setValueByPath(n,["displayName"],u);const h=getValueByPath(e,["metadata","state"]);null!=h&&setValueByPath(n,["state"],tJobState(h));const d=getValueByPath(e,["metadata","createTime"]);null!=d&&setValueByPath(n,["createTime"],d);const f=getValueByPath(e,["metadata","endTime"]);null!=f&&setValueByPath(n,["endTime"],f);const P=getValueByPath(e,["metadata","updateTime"]);null!=P&&setValueByPath(n,["updateTime"],P);const V=getValueByPath(e,["metadata","model"]);null!=V&&setValueByPath(n,["model"],V);const B=getValueByPath(e,["metadata","output"]);return null!=B&&setValueByPath(n,["dest"],function(e){const n={},l=getValueByPath(e,["responsesFile"]);null!=l&&setValueByPath(n,["fileName"],l);const u=getValueByPath(e,["inlinedResponses","inlinedResponses"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>inlinedResponseFromMldev(e))),setValueByPath(n,["inlinedResponses"],e)}return n}(B)),n}function jobErrorFromVertex(e){const n={},l=getValueByPath(e,["details"]);null!=l&&setValueByPath(n,["details"],l);const u=getValueByPath(e,["code"]);null!=u&&setValueByPath(n,["code"],u);const h=getValueByPath(e,["message"]);return null!=h&&setValueByPath(n,["message"],h),n}function batchJobFromVertex(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["name"],l);const u=getValueByPath(e,["displayName"]);null!=u&&setValueByPath(n,["displayName"],u);const h=getValueByPath(e,["state"]);null!=h&&setValueByPath(n,["state"],tJobState(h));const d=getValueByPath(e,["error"]);null!=d&&setValueByPath(n,["error"],jobErrorFromVertex(d));const f=getValueByPath(e,["createTime"]);null!=f&&setValueByPath(n,["createTime"],f);const P=getValueByPath(e,["startTime"]);null!=P&&setValueByPath(n,["startTime"],P);const V=getValueByPath(e,["endTime"]);null!=V&&setValueByPath(n,["endTime"],V);const B=getValueByPath(e,["updateTime"]);null!=B&&setValueByPath(n,["updateTime"],B);const b=getValueByPath(e,["model"]);null!=b&&setValueByPath(n,["model"],b);const C=getValueByPath(e,["inputConfig"]);null!=C&&setValueByPath(n,["src"],function(e){const n={},l=getValueByPath(e,["instancesFormat"]);null!=l&&setValueByPath(n,["format"],l);const u=getValueByPath(e,["gcsSource","uris"]);null!=u&&setValueByPath(n,["gcsUri"],u);const h=getValueByPath(e,["bigquerySource","inputUri"]);return null!=h&&setValueByPath(n,["bigqueryUri"],h),n}(C));const S=getValueByPath(e,["outputConfig"]);return null!=S&&setValueByPath(n,["dest"],function(e){const n={},l=getValueByPath(e,["predictionsFormat"]);null!=l&&setValueByPath(n,["format"],l);const u=getValueByPath(e,["gcsDestination","outputUriPrefix"]);null!=u&&setValueByPath(n,["gcsUri"],u);const h=getValueByPath(e,["bigqueryDestination","outputUri"]);return null!=h&&setValueByPath(n,["bigqueryUri"],h),n}(S)),n}(ht=ct||(ct={})).PAGED_ITEM_BATCH_JOBS="batchJobs",ht.PAGED_ITEM_MODELS="models",ht.PAGED_ITEM_TUNING_JOBS="tuningJobs",ht.PAGED_ITEM_FILES="files",ht.PAGED_ITEM_CACHED_CONTENTS="cachedContents";class qt{constructor(e,n,l,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,l,u)}init(e,n,l){var u,h;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=null==n?void 0:n.sdkHttpResponse,this.idxInternal=0;let d={config:{}};d=l&&0!==Object.keys(l).length?"object"==typeof l?Object.assign({},l):l:{config:{}},d.config&&(d.config.pageToken=n.nextPageToken),this.paramsInternal=d,this.pageInternalSize=null!==(h=null===(u=d.config)||void 0===u?void 0:u.pageSize)&&void 0!==h?h:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nt extends V{constructor(e){super(),this.apiClient=e,this.create=async e=>{if(this.apiClient.isVertexAI()){const n=Date.now().toString();if(Array.isArray(e.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(e.config=e.config||{},void 0===e.config.displayName&&(e.config.displayName="genaiBatchJob_${timestampStr}"),void 0===e.config.dest&&"string"==typeof e.src)if(e.src.startsWith("gs://")&&e.src.endsWith(".jsonl"))e.config.dest=`${e.src.slice(0,-6)}/dest`;else{if(!e.src.startsWith("bq://"))throw new Error("Unsupported source:"+e.src);e.config.dest=`${e.src}_dest_${n}`}}return await this.createInternal(e)},this.list=async(e={})=>new qt(ct.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e)}async createInternal(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=createBatchJobParametersToVertex(this.apiClient,e);return f=formatMap("batchPredictionJobs",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),d.then(e=>batchJobFromVertex(e))}{const n=createBatchJobParametersToMldev(this.apiClient,e);return f=formatMap("{model}:batchGenerateContent",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json()),d.then(e=>batchJobFromMldev(e))}}async get(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=function(e,n){const l={},u=getValueByPath(n,["name"]);null!=u&&setValueByPath(l,["_url","name"],tBatchJobName(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);return f=formatMap("batchPredictionJobs/{name}",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),d.then(e=>batchJobFromVertex(e))}{const n=function(e,n){const l={},u=getValueByPath(n,["name"]);null!=u&&setValueByPath(l,["_url","name"],tBatchJobName(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);return f=formatMap("batches/{name}",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json()),d.then(e=>batchJobFromMldev(e))}}async cancel(e){var n,l,u,h;let d="",f={};if(this.apiClient.isVertexAI()){const u=function(e,n){const l={},u=getValueByPath(n,["name"]);null!=u&&setValueByPath(l,["_url","name"],tBatchJobName(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);d=formatMap("batchPredictionJobs/{name}:cancel",u._url),f=u._query,delete u.config,delete u._url,delete u._query,await this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal})}else{const n=function(e,n){const l={},u=getValueByPath(n,["name"]);null!=u&&setValueByPath(l,["_url","name"],tBatchJobName(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);d=formatMap("batches/{name}:cancel",n._url),f=n._query,delete n.config,delete n._url,delete n._query,await this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal})}}async listInternal(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=listBatchJobsParametersToVertex(e);return f=formatMap("batchPredictionJobs",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["nextPageToken"]);null!=u&&setValueByPath(n,["nextPageToken"],u);const h=getValueByPath(e,["batchPredictionJobs"]);if(null!=h){let e=h;Array.isArray(e)&&(e=e.map(e=>batchJobFromVertex(e))),setValueByPath(n,["batchJobs"],e)}return n}(e),l=new At;return Object.assign(l,n),l})}{const n=listBatchJobsParametersToMldev(e);return f=formatMap("batches",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["nextPageToken"]);null!=u&&setValueByPath(n,["nextPageToken"],u);const h=getValueByPath(e,["operations"]);if(null!=h){let e=h;Array.isArray(e)&&(e=e.map(e=>batchJobFromMldev(e))),setValueByPath(n,["batchJobs"],e)}return n}(e),l=new At;return Object.assign(l,n),l})}}async delete(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=function(e,n){const l={},u=getValueByPath(n,["name"]);null!=u&&setValueByPath(l,["_url","name"],tBatchJobName(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);return f=formatMap("batchPredictionJobs/{name}",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["name"]);null!=u&&setValueByPath(n,["name"],u);const h=getValueByPath(e,["done"]);null!=h&&setValueByPath(n,["done"],h);const d=getValueByPath(e,["error"]);return null!=d&&setValueByPath(n,["error"],jobErrorFromVertex(d)),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e))}{const n=function(e,n){const l={},u=getValueByPath(n,["name"]);null!=u&&setValueByPath(l,["_url","name"],tBatchJobName(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);return f=formatMap("batches/{name}",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"DELETE",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["name"]);null!=u&&setValueByPath(n,["name"],u);const h=getValueByPath(e,["done"]);null!=h&&setValueByPath(n,["done"],h);const d=getValueByPath(e,["error"]);return null!=d&&setValueByPath(n,["error"],jobErrorFromMldev(d)),n}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function partToMldev$3(e){const n={},l=getValueByPath(e,["videoMetadata"]);null!=l&&setValueByPath(n,["videoMetadata"],function(e){const n={},l=getValueByPath(e,["fps"]);null!=l&&setValueByPath(n,["fps"],l);const u=getValueByPath(e,["endOffset"]);null!=u&&setValueByPath(n,["endOffset"],u);const h=getValueByPath(e,["startOffset"]);return null!=h&&setValueByPath(n,["startOffset"],h),n}(l));const u=getValueByPath(e,["thought"]);null!=u&&setValueByPath(n,["thought"],u);const h=getValueByPath(e,["inlineData"]);null!=h&&setValueByPath(n,["inlineData"],function(e){const n={};if(void 0!==getValueByPath(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const l=getValueByPath(e,["data"]);null!=l&&setValueByPath(n,["data"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(h));const d=getValueByPath(e,["fileData"]);null!=d&&setValueByPath(n,["fileData"],function(e){const n={};if(void 0!==getValueByPath(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const l=getValueByPath(e,["fileUri"]);null!=l&&setValueByPath(n,["fileUri"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(d));const f=getValueByPath(e,["thoughtSignature"]);null!=f&&setValueByPath(n,["thoughtSignature"],f);const P=getValueByPath(e,["codeExecutionResult"]);null!=P&&setValueByPath(n,["codeExecutionResult"],P);const V=getValueByPath(e,["executableCode"]);null!=V&&setValueByPath(n,["executableCode"],V);const B=getValueByPath(e,["functionCall"]);null!=B&&setValueByPath(n,["functionCall"],B);const b=getValueByPath(e,["functionResponse"]);null!=b&&setValueByPath(n,["functionResponse"],b);const C=getValueByPath(e,["text"]);return null!=C&&setValueByPath(n,["text"],C),n}function contentToMldev$3(e){const n={},l=getValueByPath(e,["parts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>partToMldev$3(e))),setValueByPath(n,["parts"],e)}const u=getValueByPath(e,["role"]);return null!=u&&setValueByPath(n,["role"],u),n}function googleSearchToMldev$3(e){const n={},l=getValueByPath(e,["timeRangeFilter"]);return null!=l&&setValueByPath(n,["timeRangeFilter"],function(e){const n={},l=getValueByPath(e,["startTime"]);null!=l&&setValueByPath(n,["startTime"],l);const u=getValueByPath(e,["endTime"]);return null!=u&&setValueByPath(n,["endTime"],u),n}(l)),n}function googleSearchRetrievalToMldev$3(e){const n={},l=getValueByPath(e,["dynamicRetrievalConfig"]);return null!=l&&setValueByPath(n,["dynamicRetrievalConfig"],function(e){const n={},l=getValueByPath(e,["mode"]);null!=l&&setValueByPath(n,["mode"],l);const u=getValueByPath(e,["dynamicThreshold"]);return null!=u&&setValueByPath(n,["dynamicThreshold"],u),n}(l)),n}function toolToMldev$3(e){const n={},l=getValueByPath(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["behavior"]);null!=l&&setValueByPath(n,["behavior"],l);const u=getValueByPath(e,["description"]);null!=u&&setValueByPath(n,["description"],u);const h=getValueByPath(e,["name"]);null!=h&&setValueByPath(n,["name"],h);const d=getValueByPath(e,["parameters"]);null!=d&&setValueByPath(n,["parameters"],d);const f=getValueByPath(e,["parametersJsonSchema"]);null!=f&&setValueByPath(n,["parametersJsonSchema"],f);const P=getValueByPath(e,["response"]);null!=P&&setValueByPath(n,["response"],P);const V=getValueByPath(e,["responseJsonSchema"]);return null!=V&&setValueByPath(n,["responseJsonSchema"],V),n}(e))),setValueByPath(n,["functionDeclarations"],e)}if(void 0!==getValueByPath(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const u=getValueByPath(e,["googleSearch"]);null!=u&&setValueByPath(n,["googleSearch"],googleSearchToMldev$3(u));const h=getValueByPath(e,["googleSearchRetrieval"]);if(null!=h&&setValueByPath(n,["googleSearchRetrieval"],googleSearchRetrievalToMldev$3(h)),void 0!==getValueByPath(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=getValueByPath(e,["urlContext"])&&setValueByPath(n,["urlContext"],{});const d=getValueByPath(e,["codeExecution"]);null!=d&&setValueByPath(n,["codeExecution"],d);const f=getValueByPath(e,["computerUse"]);return null!=f&&setValueByPath(n,["computerUse"],f),n}function retrievalConfigToMldev$1(e){const n={},l=getValueByPath(e,["latLng"]);null!=l&&setValueByPath(n,["latLng"],function(e){const n={},l=getValueByPath(e,["latitude"]);null!=l&&setValueByPath(n,["latitude"],l);const u=getValueByPath(e,["longitude"]);return null!=u&&setValueByPath(n,["longitude"],u),n}(l));const u=getValueByPath(e,["languageCode"]);return null!=u&&setValueByPath(n,["languageCode"],u),n}function toolConfigToMldev$1(e){const n={},l=getValueByPath(e,["functionCallingConfig"]);null!=l&&setValueByPath(n,["functionCallingConfig"],function(e){const n={},l=getValueByPath(e,["mode"]);null!=l&&setValueByPath(n,["mode"],l);const u=getValueByPath(e,["allowedFunctionNames"]);return null!=u&&setValueByPath(n,["allowedFunctionNames"],u),n}(l));const u=getValueByPath(e,["retrievalConfig"]);return null!=u&&setValueByPath(n,["retrievalConfig"],retrievalConfigToMldev$1(u)),n}function createCachedContentParametersToMldev(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["model"],tCachesModel(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["ttl"]);void 0!==n&&null!=l&&setValueByPath(n,["ttl"],l);const u=getValueByPath(e,["expireTime"]);void 0!==n&&null!=u&&setValueByPath(n,["expireTime"],u);const h=getValueByPath(e,["displayName"]);void 0!==n&&null!=h&&setValueByPath(n,["displayName"],h);const d=getValueByPath(e,["contents"]);if(void 0!==n&&null!=d){let e=tContents(d);Array.isArray(e)&&(e=e.map(e=>contentToMldev$3(e))),setValueByPath(n,["contents"],e)}const f=getValueByPath(e,["systemInstruction"]);void 0!==n&&null!=f&&setValueByPath(n,["systemInstruction"],contentToMldev$3(tContent(f)));const P=getValueByPath(e,["tools"]);if(void 0!==n&&null!=P){let e=P;Array.isArray(e)&&(e=e.map(e=>toolToMldev$3(e))),setValueByPath(n,["tools"],e)}const V=getValueByPath(e,["toolConfig"]);if(void 0!==n&&null!=V&&setValueByPath(n,["toolConfig"],toolConfigToMldev$1(V)),void 0!==getValueByPath(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}(h,l)),l}function updateCachedContentParametersToMldev(e,n){const l={},u=getValueByPath(n,["name"]);null!=u&&setValueByPath(l,["_url","name"],tCachedContentName(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["ttl"]);void 0!==n&&null!=l&&setValueByPath(n,["ttl"],l);const u=getValueByPath(e,["expireTime"]);return void 0!==n&&null!=u&&setValueByPath(n,["expireTime"],u),{}}(h,l)),l}function listCachedContentsParametersToMldev(e){const n={},l=getValueByPath(e,["config"]);return null!=l&&setValueByPath(n,["config"],function(e,n){const l=getValueByPath(e,["pageSize"]);void 0!==n&&null!=l&&setValueByPath(n,["_query","pageSize"],l);const u=getValueByPath(e,["pageToken"]);return void 0!==n&&null!=u&&setValueByPath(n,["_query","pageToken"],u),{}}(l,n)),n}function partToVertex$2(e){const n={},l=getValueByPath(e,["videoMetadata"]);null!=l&&setValueByPath(n,["videoMetadata"],function(e){const n={},l=getValueByPath(e,["fps"]);null!=l&&setValueByPath(n,["fps"],l);const u=getValueByPath(e,["endOffset"]);null!=u&&setValueByPath(n,["endOffset"],u);const h=getValueByPath(e,["startOffset"]);return null!=h&&setValueByPath(n,["startOffset"],h),n}(l));const u=getValueByPath(e,["thought"]);null!=u&&setValueByPath(n,["thought"],u);const h=getValueByPath(e,["inlineData"]);null!=h&&setValueByPath(n,["inlineData"],function(e){const n={},l=getValueByPath(e,["displayName"]);null!=l&&setValueByPath(n,["displayName"],l);const u=getValueByPath(e,["data"]);null!=u&&setValueByPath(n,["data"],u);const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(h));const d=getValueByPath(e,["fileData"]);null!=d&&setValueByPath(n,["fileData"],function(e){const n={},l=getValueByPath(e,["displayName"]);null!=l&&setValueByPath(n,["displayName"],l);const u=getValueByPath(e,["fileUri"]);null!=u&&setValueByPath(n,["fileUri"],u);const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(d));const f=getValueByPath(e,["thoughtSignature"]);null!=f&&setValueByPath(n,["thoughtSignature"],f);const P=getValueByPath(e,["codeExecutionResult"]);null!=P&&setValueByPath(n,["codeExecutionResult"],P);const V=getValueByPath(e,["executableCode"]);null!=V&&setValueByPath(n,["executableCode"],V);const B=getValueByPath(e,["functionCall"]);null!=B&&setValueByPath(n,["functionCall"],B);const b=getValueByPath(e,["functionResponse"]);null!=b&&setValueByPath(n,["functionResponse"],b);const C=getValueByPath(e,["text"]);return null!=C&&setValueByPath(n,["text"],C),n}function contentToVertex$2(e){const n={},l=getValueByPath(e,["parts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>partToVertex$2(e))),setValueByPath(n,["parts"],e)}const u=getValueByPath(e,["role"]);return null!=u&&setValueByPath(n,["role"],u),n}function googleSearchToVertex$2(e){const n={},l=getValueByPath(e,["timeRangeFilter"]);return null!=l&&setValueByPath(n,["timeRangeFilter"],function(e){const n={},l=getValueByPath(e,["startTime"]);null!=l&&setValueByPath(n,["startTime"],l);const u=getValueByPath(e,["endTime"]);return null!=u&&setValueByPath(n,["endTime"],u),n}(l)),n}function googleSearchRetrievalToVertex$2(e){const n={},l=getValueByPath(e,["dynamicRetrievalConfig"]);return null!=l&&setValueByPath(n,["dynamicRetrievalConfig"],function(e){const n={},l=getValueByPath(e,["mode"]);null!=l&&setValueByPath(n,["mode"],l);const u=getValueByPath(e,["dynamicThreshold"]);return null!=u&&setValueByPath(n,["dynamicThreshold"],u),n}(l)),n}function authConfigToVertex$2(e){const n={},l=getValueByPath(e,["apiKeyConfig"]);null!=l&&setValueByPath(n,["apiKeyConfig"],function(e){const n={},l=getValueByPath(e,["apiKeyString"]);return null!=l&&setValueByPath(n,["apiKeyString"],l),n}(l));const u=getValueByPath(e,["authType"]);null!=u&&setValueByPath(n,["authType"],u);const h=getValueByPath(e,["googleServiceAccountConfig"]);null!=h&&setValueByPath(n,["googleServiceAccountConfig"],h);const d=getValueByPath(e,["httpBasicAuthConfig"]);null!=d&&setValueByPath(n,["httpBasicAuthConfig"],d);const f=getValueByPath(e,["oauthConfig"]);null!=f&&setValueByPath(n,["oauthConfig"],f);const P=getValueByPath(e,["oidcConfig"]);return null!=P&&setValueByPath(n,["oidcConfig"],P),n}function toolToVertex$2(e){const n={},l=getValueByPath(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={};if(void 0!==getValueByPath(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const l=getValueByPath(e,["description"]);null!=l&&setValueByPath(n,["description"],l);const u=getValueByPath(e,["name"]);null!=u&&setValueByPath(n,["name"],u);const h=getValueByPath(e,["parameters"]);null!=h&&setValueByPath(n,["parameters"],h);const d=getValueByPath(e,["parametersJsonSchema"]);null!=d&&setValueByPath(n,["parametersJsonSchema"],d);const f=getValueByPath(e,["response"]);null!=f&&setValueByPath(n,["response"],f);const P=getValueByPath(e,["responseJsonSchema"]);return null!=P&&setValueByPath(n,["responseJsonSchema"],P),n}(e))),setValueByPath(n,["functionDeclarations"],e)}const u=getValueByPath(e,["retrieval"]);null!=u&&setValueByPath(n,["retrieval"],u);const h=getValueByPath(e,["googleSearch"]);null!=h&&setValueByPath(n,["googleSearch"],googleSearchToVertex$2(h));const d=getValueByPath(e,["googleSearchRetrieval"]);null!=d&&setValueByPath(n,["googleSearchRetrieval"],googleSearchRetrievalToVertex$2(d));null!=getValueByPath(e,["enterpriseWebSearch"])&&setValueByPath(n,["enterpriseWebSearch"],{});const f=getValueByPath(e,["googleMaps"]);null!=f&&setValueByPath(n,["googleMaps"],function(e){const n={},l=getValueByPath(e,["authConfig"]);return null!=l&&setValueByPath(n,["authConfig"],authConfigToVertex$2(l)),n}(f));null!=getValueByPath(e,["urlContext"])&&setValueByPath(n,["urlContext"],{});const P=getValueByPath(e,["codeExecution"]);null!=P&&setValueByPath(n,["codeExecution"],P);const V=getValueByPath(e,["computerUse"]);return null!=V&&setValueByPath(n,["computerUse"],V),n}function retrievalConfigToVertex$1(e){const n={},l=getValueByPath(e,["latLng"]);null!=l&&setValueByPath(n,["latLng"],function(e){const n={},l=getValueByPath(e,["latitude"]);null!=l&&setValueByPath(n,["latitude"],l);const u=getValueByPath(e,["longitude"]);return null!=u&&setValueByPath(n,["longitude"],u),n}(l));const u=getValueByPath(e,["languageCode"]);return null!=u&&setValueByPath(n,["languageCode"],u),n}function toolConfigToVertex$1(e){const n={},l=getValueByPath(e,["functionCallingConfig"]);null!=l&&setValueByPath(n,["functionCallingConfig"],function(e){const n={},l=getValueByPath(e,["mode"]);null!=l&&setValueByPath(n,["mode"],l);const u=getValueByPath(e,["allowedFunctionNames"]);return null!=u&&setValueByPath(n,["allowedFunctionNames"],u),n}(l));const u=getValueByPath(e,["retrievalConfig"]);return null!=u&&setValueByPath(n,["retrievalConfig"],retrievalConfigToVertex$1(u)),n}function createCachedContentParametersToVertex(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["model"],tCachesModel(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["ttl"]);void 0!==n&&null!=l&&setValueByPath(n,["ttl"],l);const u=getValueByPath(e,["expireTime"]);void 0!==n&&null!=u&&setValueByPath(n,["expireTime"],u);const h=getValueByPath(e,["displayName"]);void 0!==n&&null!=h&&setValueByPath(n,["displayName"],h);const d=getValueByPath(e,["contents"]);if(void 0!==n&&null!=d){let e=tContents(d);Array.isArray(e)&&(e=e.map(e=>contentToVertex$2(e))),setValueByPath(n,["contents"],e)}const f=getValueByPath(e,["systemInstruction"]);void 0!==n&&null!=f&&setValueByPath(n,["systemInstruction"],contentToVertex$2(tContent(f)));const P=getValueByPath(e,["tools"]);if(void 0!==n&&null!=P){let e=P;Array.isArray(e)&&(e=e.map(e=>toolToVertex$2(e))),setValueByPath(n,["tools"],e)}const V=getValueByPath(e,["toolConfig"]);void 0!==n&&null!=V&&setValueByPath(n,["toolConfig"],toolConfigToVertex$1(V));const B=getValueByPath(e,["kmsKeyName"]);return void 0!==n&&null!=B&&setValueByPath(n,["encryption_spec","kmsKeyName"],B),{}}(h,l)),l}function updateCachedContentParametersToVertex(e,n){const l={},u=getValueByPath(n,["name"]);null!=u&&setValueByPath(l,["_url","name"],tCachedContentName(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["ttl"]);void 0!==n&&null!=l&&setValueByPath(n,["ttl"],l);const u=getValueByPath(e,["expireTime"]);return void 0!==n&&null!=u&&setValueByPath(n,["expireTime"],u),{}}(h,l)),l}function listCachedContentsParametersToVertex(e){const n={},l=getValueByPath(e,["config"]);return null!=l&&setValueByPath(n,["config"],function(e,n){const l=getValueByPath(e,["pageSize"]);void 0!==n&&null!=l&&setValueByPath(n,["_query","pageSize"],l);const u=getValueByPath(e,["pageToken"]);return void 0!==n&&null!=u&&setValueByPath(n,["_query","pageToken"],u),{}}(l,n)),n}function cachedContentFromMldev(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["name"],l);const u=getValueByPath(e,["displayName"]);null!=u&&setValueByPath(n,["displayName"],u);const h=getValueByPath(e,["model"]);null!=h&&setValueByPath(n,["model"],h);const d=getValueByPath(e,["createTime"]);null!=d&&setValueByPath(n,["createTime"],d);const f=getValueByPath(e,["updateTime"]);null!=f&&setValueByPath(n,["updateTime"],f);const P=getValueByPath(e,["expireTime"]);null!=P&&setValueByPath(n,["expireTime"],P);const V=getValueByPath(e,["usageMetadata"]);return null!=V&&setValueByPath(n,["usageMetadata"],V),n}function cachedContentFromVertex(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["name"],l);const u=getValueByPath(e,["displayName"]);null!=u&&setValueByPath(n,["displayName"],u);const h=getValueByPath(e,["model"]);null!=h&&setValueByPath(n,["model"],h);const d=getValueByPath(e,["createTime"]);null!=d&&setValueByPath(n,["createTime"],d);const f=getValueByPath(e,["updateTime"]);null!=f&&setValueByPath(n,["updateTime"],f);const P=getValueByPath(e,["expireTime"]);null!=P&&setValueByPath(n,["expireTime"],P);const V=getValueByPath(e,["usageMetadata"]);return null!=V&&setValueByPath(n,["usageMetadata"],V),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Rt extends V{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new qt(ct.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=createCachedContentParametersToVertex(this.apiClient,e);return f=formatMap("cachedContents",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),d.then(e=>cachedContentFromVertex(e))}{const n=createCachedContentParametersToMldev(this.apiClient,e);return f=formatMap("cachedContents",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json()),d.then(e=>cachedContentFromMldev(e))}}async get(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=function(e,n){const l={},u=getValueByPath(n,["name"]);null!=u&&setValueByPath(l,["_url","name"],tCachedContentName(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);return f=formatMap("{name}",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),d.then(e=>cachedContentFromVertex(e))}{const n=function(e,n){const l={},u=getValueByPath(n,["name"]);null!=u&&setValueByPath(l,["_url","name"],tCachedContentName(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);return f=formatMap("{name}",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json()),d.then(e=>cachedContentFromMldev(e))}}async delete(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=function(e,n){const l={},u=getValueByPath(n,["name"]);null!=u&&setValueByPath(l,["_url","name"],tCachedContentName(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);return f=formatMap("{name}",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),d.then(()=>{const e={},n=new St;return Object.assign(n,e),n})}{const n=function(e,n){const l={},u=getValueByPath(n,["name"]);null!=u&&setValueByPath(l,["_url","name"],tCachedContentName(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);return f=formatMap("{name}",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"DELETE",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json()),d.then(()=>{const e={},n=new St;return Object.assign(n,e),n})}}async update(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=updateCachedContentParametersToVertex(this.apiClient,e);return f=formatMap("{name}",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),d.then(e=>cachedContentFromVertex(e))}{const n=updateCachedContentParametersToMldev(this.apiClient,e);return f=formatMap("{name}",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"PATCH",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json()),d.then(e=>cachedContentFromMldev(e))}}async listInternal(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=listCachedContentsParametersToVertex(e);return f=formatMap("cachedContents",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["nextPageToken"]);null!=u&&setValueByPath(n,["nextPageToken"],u);const h=getValueByPath(e,["cachedContents"]);if(null!=h){let e=h;Array.isArray(e)&&(e=e.map(e=>cachedContentFromVertex(e))),setValueByPath(n,["cachedContents"],e)}return n}(e),l=new xt;return Object.assign(l,n),l})}{const n=listCachedContentsParametersToMldev(e);return f=formatMap("cachedContents",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["nextPageToken"]);null!=u&&setValueByPath(n,["nextPageToken"],u);const h=getValueByPath(e,["cachedContents"]);if(null!=h){let e=h;Array.isArray(e)&&(e=e.map(e=>cachedContentFromMldev(e))),setValueByPath(n,["cachedContents"],e)}return n}(e),l=new xt;return Object.assign(l,n),l})}}}function __values(e){var n="function"==typeof Symbol&&Symbol.iterator,l=n&&e[n],u=0;if(l)return l.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&u>=e.length&&(e=void 0),{value:e&&e[u++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,n,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,h=l.apply(e,n||[]),d=[];return u=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),verb("next"),verb("throw"),verb("return",function(e){return function(n){return Promise.resolve(n).then(e,reject)}}),u[Symbol.asyncIterator]=function(){return this},u;function verb(e,n){h[e]&&(u[e]=function(n){return new Promise(function(l,u){d.push([e,n,l,u])>1||resume(e,n)})},n&&(u[e]=n(u[e])))}function resume(e,n){try{(l=h[e](n)).value instanceof __await?Promise.resolve(l.value.v).then(fulfill,reject):settle(d[0][2],l)}catch(u){settle(d[0][3],u)}var l}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,n){e(n),d.shift(),d.length&&resume(d[0][0],d[0][1])}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,l=e[Symbol.asyncIterator];return l?l.call(e):(e=__values(e),n={},verb("next"),verb("throw"),verb("return"),n[Symbol.asyncIterator]=function(){return this},n);function verb(l){n[l]=e[l]&&function(n){return new Promise(function(u,h){(function(e,n,l,u){Promise.resolve(u).then(function(n){e({value:n,done:l})},n)})(u,h,(n=e[l](n)).done,n.value)})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function isValidResponse(e){var n;if(null==e.candidates||0===e.candidates.length)return!1;const l=null===(n=e.candidates[0])||void 0===n?void 0:n.content;return void 0!==l&&isValidContent(l)}function isValidContent(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const n of e.parts){if(void 0===n||0===Object.keys(n).length)return!1;if(!n.thought&&void 0!==n.text&&""===n.text)return!1}return!0}function extractCuratedHistory(e){if(void 0===e||0===e.length)return[];const n=[],l=e.length;let u=0;for(;u<l;)if("user"===e[u].role)n.push(e[u]),u++;else{const h=[];let d=!0;for(;u<l&&"model"===e[u].role;)h.push(e[u]),d&&!isValidContent(e[u])&&(d=!1),u++;d?n.push(...h):n.pop()}return n}"function"==typeof SuppressedError&&SuppressedError;class kt{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Dt(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Dt{constructor(e,n,l,u={},h=[]){this.apiClient=e,this.modelsModule=n,this.model=l,this.config=u,this.history=h,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const n of e)if("user"!==n.role&&"model"!==n.role)throw new Error(`Role must be user or model, but got ${n.role}.`)}(h)}async sendMessage(e){var n;await this.sendPromise;const l=tContent(e.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:null!==(n=e.config)&&void 0!==n?n:this.config});return this.sendPromise=(async()=>{var e,n,h;const d=await u,f=null===(n=null===(e=d.candidates)||void 0===e?void 0:e[0])||void 0===n?void 0:n.content,P=d.automaticFunctionCallingHistory,V=this.getHistory(!0).length;let B=[];null!=P&&(B=null!==(h=P.slice(V))&&void 0!==h?h:[]);const b=f?[f]:[];this.recordHistory(l,b,B)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(e){var n;await this.sendPromise;const l=tContent(e.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:null!==(n=e.config)&&void 0!==n?n:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const h=await u;return this.processStreamResponse(h,l)}getHistory(e=!1){const n=e?extractCuratedHistory(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var l,u;return __asyncGenerator(this,arguments,function*(){var h,d,f,P;const V=[];try{for(var B,b=!0,C=__asyncValues(e);!(h=(B=yield __await(C.next())).done);b=!0){P=B.value,b=!1;const e=P;if(isValidResponse(e)){const n=null===(u=null===(l=e.candidates)||void 0===l?void 0:l[0])||void 0===u?void 0:u.content;void 0!==n&&V.push(n)}yield yield __await(e)}}catch(S){d={error:S}}finally{try{b||h||!(f=C.return)||(yield __await(f.call(C)))}finally{if(d)throw d.error}}this.recordHistory(n,V)})}recordHistory(e,n,l){let u=[];n.length>0&&n.every(e=>void 0!==e.role)?u=n:u.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...extractCuratedHistory(l)):this.history.push(e),this.history.push(...u)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lt extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Lt.prototype)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function listFilesParametersToMldev(e){const n={},l=getValueByPath(e,["config"]);return null!=l&&setValueByPath(n,["config"],function(e,n){const l=getValueByPath(e,["pageSize"]);void 0!==n&&null!=l&&setValueByPath(n,["_query","pageSize"],l);const u=getValueByPath(e,["pageToken"]);return void 0!==n&&null!=u&&setValueByPath(n,["_query","pageToken"],u),{}}(l,n)),n}function fileToMldev(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["name"],l);const u=getValueByPath(e,["displayName"]);null!=u&&setValueByPath(n,["displayName"],u);const h=getValueByPath(e,["mimeType"]);null!=h&&setValueByPath(n,["mimeType"],h);const d=getValueByPath(e,["sizeBytes"]);null!=d&&setValueByPath(n,["sizeBytes"],d);const f=getValueByPath(e,["createTime"]);null!=f&&setValueByPath(n,["createTime"],f);const P=getValueByPath(e,["expirationTime"]);null!=P&&setValueByPath(n,["expirationTime"],P);const V=getValueByPath(e,["updateTime"]);null!=V&&setValueByPath(n,["updateTime"],V);const B=getValueByPath(e,["sha256Hash"]);null!=B&&setValueByPath(n,["sha256Hash"],B);const b=getValueByPath(e,["uri"]);null!=b&&setValueByPath(n,["uri"],b);const C=getValueByPath(e,["downloadUri"]);null!=C&&setValueByPath(n,["downloadUri"],C);const S=getValueByPath(e,["state"]);null!=S&&setValueByPath(n,["state"],S);const x=getValueByPath(e,["source"]);null!=x&&setValueByPath(n,["source"],x);const E=getValueByPath(e,["videoMetadata"]);null!=E&&setValueByPath(n,["videoMetadata"],E);const _=getValueByPath(e,["error"]);return null!=_&&setValueByPath(n,["error"],function(e){const n={},l=getValueByPath(e,["details"]);null!=l&&setValueByPath(n,["details"],l);const u=getValueByPath(e,["message"]);null!=u&&setValueByPath(n,["message"],u);const h=getValueByPath(e,["code"]);return null!=h&&setValueByPath(n,["code"],h),n}(_)),n}function fileFromMldev(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["name"],l);const u=getValueByPath(e,["displayName"]);null!=u&&setValueByPath(n,["displayName"],u);const h=getValueByPath(e,["mimeType"]);null!=h&&setValueByPath(n,["mimeType"],h);const d=getValueByPath(e,["sizeBytes"]);null!=d&&setValueByPath(n,["sizeBytes"],d);const f=getValueByPath(e,["createTime"]);null!=f&&setValueByPath(n,["createTime"],f);const P=getValueByPath(e,["expirationTime"]);null!=P&&setValueByPath(n,["expirationTime"],P);const V=getValueByPath(e,["updateTime"]);null!=V&&setValueByPath(n,["updateTime"],V);const B=getValueByPath(e,["sha256Hash"]);null!=B&&setValueByPath(n,["sha256Hash"],B);const b=getValueByPath(e,["uri"]);null!=b&&setValueByPath(n,["uri"],b);const C=getValueByPath(e,["downloadUri"]);null!=C&&setValueByPath(n,["downloadUri"],C);const S=getValueByPath(e,["state"]);null!=S&&setValueByPath(n,["state"],S);const x=getValueByPath(e,["source"]);null!=x&&setValueByPath(n,["source"],x);const E=getValueByPath(e,["videoMetadata"]);null!=E&&setValueByPath(n,["videoMetadata"],E);const _=getValueByPath(e,["error"]);return null!=_&&setValueByPath(n,["error"],function(e){const n={},l=getValueByPath(e,["details"]);null!=l&&setValueByPath(n,["details"],l);const u=getValueByPath(e,["message"]);null!=u&&setValueByPath(n,["message"],u);const h=getValueByPath(e,["code"]);return null!=h&&setValueByPath(n,["code"],h),n}(_)),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Ft extends V{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new qt(ct.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>fileFromMldev(e))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,l;let u,h="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=listFilesParametersToMldev(e);return h=formatMap("files",f._url),d=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:h,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),u.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["nextPageToken"]);null!=u&&setValueByPath(n,["nextPageToken"],u);const h=getValueByPath(e,["files"]);if(null!=h){let e=h;Array.isArray(e)&&(e=e.map(e=>fileFromMldev(e))),setValueByPath(n,["files"],e)}return n}(e),l=new Et;return Object.assign(l,n),l})}}async createInternal(e){var n,l;let u,h="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=function(e){const n={},l=getValueByPath(e,["file"]);null!=l&&setValueByPath(n,["file"],fileToMldev(l));const u=getValueByPath(e,["config"]);return null!=u&&setValueByPath(n,["config"],u),n}(e);return h=formatMap("upload/v1beta/files",f._url),d=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:h,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),u.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);return null!=l&&setValueByPath(n,["sdkHttpResponse"],l),n}(e),l=new _t;return Object.assign(l,n),l})}}async get(e){var n,l;let u,h="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=function(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["_url","file"],tFileName(l));const u=getValueByPath(e,["config"]);return null!=u&&setValueByPath(n,["config"],u),n}(e);return h=formatMap("files/{file}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:h,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),u.then(e=>fileFromMldev(e))}}async delete(e){var n,l;let u,h="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=function(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["_url","file"],tFileName(l));const u=getValueByPath(e,["config"]);return null!=u&&setValueByPath(n,["config"],u),n}(e);return h=formatMap("files/{file}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:h,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),u.then(()=>{const e={},n=new Ot;return Object.assign(n,e),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function voiceConfigToMldev$2(e){const n={},l=getValueByPath(e,["prebuiltVoiceConfig"]);return null!=l&&setValueByPath(n,["prebuiltVoiceConfig"],function(e){const n={},l=getValueByPath(e,["voiceName"]);return null!=l&&setValueByPath(n,["voiceName"],l),n}(l)),n}function multiSpeakerVoiceConfigToMldev$2(e){const n={},l=getValueByPath(e,["speakerVoiceConfigs"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["speaker"]);null!=l&&setValueByPath(n,["speaker"],l);const u=getValueByPath(e,["voiceConfig"]);return null!=u&&setValueByPath(n,["voiceConfig"],voiceConfigToMldev$2(u)),n}(e))),setValueByPath(n,["speakerVoiceConfigs"],e)}return n}function partToMldev$2(e){const n={},l=getValueByPath(e,["videoMetadata"]);null!=l&&setValueByPath(n,["videoMetadata"],function(e){const n={},l=getValueByPath(e,["fps"]);null!=l&&setValueByPath(n,["fps"],l);const u=getValueByPath(e,["endOffset"]);null!=u&&setValueByPath(n,["endOffset"],u);const h=getValueByPath(e,["startOffset"]);return null!=h&&setValueByPath(n,["startOffset"],h),n}(l));const u=getValueByPath(e,["thought"]);null!=u&&setValueByPath(n,["thought"],u);const h=getValueByPath(e,["inlineData"]);null!=h&&setValueByPath(n,["inlineData"],function(e){const n={};if(void 0!==getValueByPath(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const l=getValueByPath(e,["data"]);null!=l&&setValueByPath(n,["data"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(h));const d=getValueByPath(e,["fileData"]);null!=d&&setValueByPath(n,["fileData"],function(e){const n={};if(void 0!==getValueByPath(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const l=getValueByPath(e,["fileUri"]);null!=l&&setValueByPath(n,["fileUri"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(d));const f=getValueByPath(e,["thoughtSignature"]);null!=f&&setValueByPath(n,["thoughtSignature"],f);const P=getValueByPath(e,["codeExecutionResult"]);null!=P&&setValueByPath(n,["codeExecutionResult"],P);const V=getValueByPath(e,["executableCode"]);null!=V&&setValueByPath(n,["executableCode"],V);const B=getValueByPath(e,["functionCall"]);null!=B&&setValueByPath(n,["functionCall"],B);const b=getValueByPath(e,["functionResponse"]);null!=b&&setValueByPath(n,["functionResponse"],b);const C=getValueByPath(e,["text"]);return null!=C&&setValueByPath(n,["text"],C),n}function googleSearchToMldev$2(e){const n={},l=getValueByPath(e,["timeRangeFilter"]);return null!=l&&setValueByPath(n,["timeRangeFilter"],function(e){const n={},l=getValueByPath(e,["startTime"]);null!=l&&setValueByPath(n,["startTime"],l);const u=getValueByPath(e,["endTime"]);return null!=u&&setValueByPath(n,["endTime"],u),n}(l)),n}function googleSearchRetrievalToMldev$2(e){const n={},l=getValueByPath(e,["dynamicRetrievalConfig"]);return null!=l&&setValueByPath(n,["dynamicRetrievalConfig"],function(e){const n={},l=getValueByPath(e,["mode"]);null!=l&&setValueByPath(n,["mode"],l);const u=getValueByPath(e,["dynamicThreshold"]);return null!=u&&setValueByPath(n,["dynamicThreshold"],u),n}(l)),n}function toolToMldev$2(e){const n={},l=getValueByPath(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["behavior"]);null!=l&&setValueByPath(n,["behavior"],l);const u=getValueByPath(e,["description"]);null!=u&&setValueByPath(n,["description"],u);const h=getValueByPath(e,["name"]);null!=h&&setValueByPath(n,["name"],h);const d=getValueByPath(e,["parameters"]);null!=d&&setValueByPath(n,["parameters"],d);const f=getValueByPath(e,["parametersJsonSchema"]);null!=f&&setValueByPath(n,["parametersJsonSchema"],f);const P=getValueByPath(e,["response"]);null!=P&&setValueByPath(n,["response"],P);const V=getValueByPath(e,["responseJsonSchema"]);return null!=V&&setValueByPath(n,["responseJsonSchema"],V),n}(e))),setValueByPath(n,["functionDeclarations"],e)}if(void 0!==getValueByPath(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const u=getValueByPath(e,["googleSearch"]);null!=u&&setValueByPath(n,["googleSearch"],googleSearchToMldev$2(u));const h=getValueByPath(e,["googleSearchRetrieval"]);if(null!=h&&setValueByPath(n,["googleSearchRetrieval"],googleSearchRetrievalToMldev$2(h)),void 0!==getValueByPath(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=getValueByPath(e,["urlContext"])&&setValueByPath(n,["urlContext"],{});const d=getValueByPath(e,["codeExecution"]);null!=d&&setValueByPath(n,["codeExecution"],d);const f=getValueByPath(e,["computerUse"]);return null!=f&&setValueByPath(n,["computerUse"],f),n}function realtimeInputConfigToMldev$1(e){const n={},l=getValueByPath(e,["automaticActivityDetection"]);null!=l&&setValueByPath(n,["automaticActivityDetection"],function(e){const n={},l=getValueByPath(e,["disabled"]);null!=l&&setValueByPath(n,["disabled"],l);const u=getValueByPath(e,["startOfSpeechSensitivity"]);null!=u&&setValueByPath(n,["startOfSpeechSensitivity"],u);const h=getValueByPath(e,["endOfSpeechSensitivity"]);null!=h&&setValueByPath(n,["endOfSpeechSensitivity"],h);const d=getValueByPath(e,["prefixPaddingMs"]);null!=d&&setValueByPath(n,["prefixPaddingMs"],d);const f=getValueByPath(e,["silenceDurationMs"]);return null!=f&&setValueByPath(n,["silenceDurationMs"],f),n}(l));const u=getValueByPath(e,["activityHandling"]);null!=u&&setValueByPath(n,["activityHandling"],u);const h=getValueByPath(e,["turnCoverage"]);return null!=h&&setValueByPath(n,["turnCoverage"],h),n}function contextWindowCompressionConfigToMldev$1(e){const n={},l=getValueByPath(e,["triggerTokens"]);null!=l&&setValueByPath(n,["triggerTokens"],l);const u=getValueByPath(e,["slidingWindow"]);return null!=u&&setValueByPath(n,["slidingWindow"],function(e){const n={},l=getValueByPath(e,["targetTokens"]);return null!=l&&setValueByPath(n,["targetTokens"],l),n}(u)),n}function liveConnectConfigToMldev$1(e,n){const l=getValueByPath(e,["generationConfig"]);void 0!==n&&null!=l&&setValueByPath(n,["setup","generationConfig"],l);const u=getValueByPath(e,["responseModalities"]);void 0!==n&&null!=u&&setValueByPath(n,["setup","generationConfig","responseModalities"],u);const h=getValueByPath(e,["temperature"]);void 0!==n&&null!=h&&setValueByPath(n,["setup","generationConfig","temperature"],h);const d=getValueByPath(e,["topP"]);void 0!==n&&null!=d&&setValueByPath(n,["setup","generationConfig","topP"],d);const f=getValueByPath(e,["topK"]);void 0!==n&&null!=f&&setValueByPath(n,["setup","generationConfig","topK"],f);const P=getValueByPath(e,["maxOutputTokens"]);void 0!==n&&null!=P&&setValueByPath(n,["setup","generationConfig","maxOutputTokens"],P);const V=getValueByPath(e,["mediaResolution"]);void 0!==n&&null!=V&&setValueByPath(n,["setup","generationConfig","mediaResolution"],V);const B=getValueByPath(e,["seed"]);void 0!==n&&null!=B&&setValueByPath(n,["setup","generationConfig","seed"],B);const b=getValueByPath(e,["speechConfig"]);void 0!==n&&null!=b&&setValueByPath(n,["setup","generationConfig","speechConfig"],function(e){const n={},l=getValueByPath(e,["voiceConfig"]);null!=l&&setValueByPath(n,["voiceConfig"],voiceConfigToMldev$2(l));const u=getValueByPath(e,["multiSpeakerVoiceConfig"]);null!=u&&setValueByPath(n,["multiSpeakerVoiceConfig"],multiSpeakerVoiceConfigToMldev$2(u));const h=getValueByPath(e,["languageCode"]);return null!=h&&setValueByPath(n,["languageCode"],h),n}(tLiveSpeechConfig(b)));const C=getValueByPath(e,["enableAffectiveDialog"]);void 0!==n&&null!=C&&setValueByPath(n,["setup","generationConfig","enableAffectiveDialog"],C);const S=getValueByPath(e,["systemInstruction"]);void 0!==n&&null!=S&&setValueByPath(n,["setup","systemInstruction"],function(e){const n={},l=getValueByPath(e,["parts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>partToMldev$2(e))),setValueByPath(n,["parts"],e)}const u=getValueByPath(e,["role"]);return null!=u&&setValueByPath(n,["role"],u),n}(tContent(S)));const x=getValueByPath(e,["tools"]);if(void 0!==n&&null!=x){let e=tTools(x);Array.isArray(e)&&(e=e.map(e=>toolToMldev$2(tTool(e)))),setValueByPath(n,["setup","tools"],e)}const E=getValueByPath(e,["sessionResumption"]);void 0!==n&&null!=E&&setValueByPath(n,["setup","sessionResumption"],function(e){const n={},l=getValueByPath(e,["handle"]);if(null!=l&&setValueByPath(n,["handle"],l),void 0!==getValueByPath(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return n}(E));const _=getValueByPath(e,["inputAudioTranscription"]);void 0!==n&&null!=_&&setValueByPath(n,["setup","inputAudioTranscription"],{});const O=getValueByPath(e,["outputAudioTranscription"]);void 0!==n&&null!=O&&setValueByPath(n,["setup","outputAudioTranscription"],{});const A=getValueByPath(e,["realtimeInputConfig"]);void 0!==n&&null!=A&&setValueByPath(n,["setup","realtimeInputConfig"],realtimeInputConfigToMldev$1(A));const q=getValueByPath(e,["contextWindowCompression"]);void 0!==n&&null!=q&&setValueByPath(n,["setup","contextWindowCompression"],contextWindowCompressionConfigToMldev$1(q));const N=getValueByPath(e,["proactivity"]);return void 0!==n&&null!=N&&setValueByPath(n,["setup","proactivity"],function(e){const n={},l=getValueByPath(e,["proactiveAudio"]);return null!=l&&setValueByPath(n,["proactiveAudio"],l),n}(N)),{}}function liveSendRealtimeInputParametersToMldev(e){const n={},l=getValueByPath(e,["media"]);null!=l&&setValueByPath(n,["mediaChunks"],tBlobs(l));const u=getValueByPath(e,["audio"]);null!=u&&setValueByPath(n,["audio"],tAudioBlob(u));const h=getValueByPath(e,["audioStreamEnd"]);null!=h&&setValueByPath(n,["audioStreamEnd"],h);const d=getValueByPath(e,["video"]);null!=d&&setValueByPath(n,["video"],tImageBlob(d));const f=getValueByPath(e,["text"]);null!=f&&setValueByPath(n,["text"],f);null!=getValueByPath(e,["activityStart"])&&setValueByPath(n,["activityStart"],{});return null!=getValueByPath(e,["activityEnd"])&&setValueByPath(n,["activityEnd"],{}),n}function weightedPromptToMldev(e){const n={},l=getValueByPath(e,["text"]);null!=l&&setValueByPath(n,["text"],l);const u=getValueByPath(e,["weight"]);return null!=u&&setValueByPath(n,["weight"],u),n}function liveMusicGenerationConfigToMldev(e){const n={},l=getValueByPath(e,["temperature"]);null!=l&&setValueByPath(n,["temperature"],l);const u=getValueByPath(e,["topK"]);null!=u&&setValueByPath(n,["topK"],u);const h=getValueByPath(e,["seed"]);null!=h&&setValueByPath(n,["seed"],h);const d=getValueByPath(e,["guidance"]);null!=d&&setValueByPath(n,["guidance"],d);const f=getValueByPath(e,["bpm"]);null!=f&&setValueByPath(n,["bpm"],f);const P=getValueByPath(e,["density"]);null!=P&&setValueByPath(n,["density"],P);const V=getValueByPath(e,["brightness"]);null!=V&&setValueByPath(n,["brightness"],V);const B=getValueByPath(e,["scale"]);null!=B&&setValueByPath(n,["scale"],B);const b=getValueByPath(e,["muteBass"]);null!=b&&setValueByPath(n,["muteBass"],b);const C=getValueByPath(e,["muteDrums"]);null!=C&&setValueByPath(n,["muteDrums"],C);const S=getValueByPath(e,["onlyBassAndDrums"]);null!=S&&setValueByPath(n,["onlyBassAndDrums"],S);const x=getValueByPath(e,["musicGenerationMode"]);return null!=x&&setValueByPath(n,["musicGenerationMode"],x),n}function liveMusicClientSetupToMldev(e){const n={},l=getValueByPath(e,["model"]);return null!=l&&setValueByPath(n,["model"],l),n}function liveMusicClientContentToMldev(e){const n={},l=getValueByPath(e,["weightedPrompts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>weightedPromptToMldev(e))),setValueByPath(n,["weightedPrompts"],e)}return n}function liveMusicClientMessageToMldev(e){const n={},l=getValueByPath(e,["setup"]);null!=l&&setValueByPath(n,["setup"],liveMusicClientSetupToMldev(l));const u=getValueByPath(e,["clientContent"]);null!=u&&setValueByPath(n,["clientContent"],liveMusicClientContentToMldev(u));const h=getValueByPath(e,["musicGenerationConfig"]);null!=h&&setValueByPath(n,["musicGenerationConfig"],liveMusicGenerationConfigToMldev(h));const d=getValueByPath(e,["playbackControl"]);return null!=d&&setValueByPath(n,["playbackControl"],d),n}function voiceConfigToVertex$1(e){const n={},l=getValueByPath(e,["prebuiltVoiceConfig"]);return null!=l&&setValueByPath(n,["prebuiltVoiceConfig"],function(e){const n={},l=getValueByPath(e,["voiceName"]);return null!=l&&setValueByPath(n,["voiceName"],l),n}(l)),n}function partToVertex$1(e){const n={},l=getValueByPath(e,["videoMetadata"]);null!=l&&setValueByPath(n,["videoMetadata"],function(e){const n={},l=getValueByPath(e,["fps"]);null!=l&&setValueByPath(n,["fps"],l);const u=getValueByPath(e,["endOffset"]);null!=u&&setValueByPath(n,["endOffset"],u);const h=getValueByPath(e,["startOffset"]);return null!=h&&setValueByPath(n,["startOffset"],h),n}(l));const u=getValueByPath(e,["thought"]);null!=u&&setValueByPath(n,["thought"],u);const h=getValueByPath(e,["inlineData"]);null!=h&&setValueByPath(n,["inlineData"],function(e){const n={},l=getValueByPath(e,["displayName"]);null!=l&&setValueByPath(n,["displayName"],l);const u=getValueByPath(e,["data"]);null!=u&&setValueByPath(n,["data"],u);const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(h));const d=getValueByPath(e,["fileData"]);null!=d&&setValueByPath(n,["fileData"],function(e){const n={},l=getValueByPath(e,["displayName"]);null!=l&&setValueByPath(n,["displayName"],l);const u=getValueByPath(e,["fileUri"]);null!=u&&setValueByPath(n,["fileUri"],u);const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(d));const f=getValueByPath(e,["thoughtSignature"]);null!=f&&setValueByPath(n,["thoughtSignature"],f);const P=getValueByPath(e,["codeExecutionResult"]);null!=P&&setValueByPath(n,["codeExecutionResult"],P);const V=getValueByPath(e,["executableCode"]);null!=V&&setValueByPath(n,["executableCode"],V);const B=getValueByPath(e,["functionCall"]);null!=B&&setValueByPath(n,["functionCall"],B);const b=getValueByPath(e,["functionResponse"]);null!=b&&setValueByPath(n,["functionResponse"],b);const C=getValueByPath(e,["text"]);return null!=C&&setValueByPath(n,["text"],C),n}function googleSearchToVertex$1(e){const n={},l=getValueByPath(e,["timeRangeFilter"]);return null!=l&&setValueByPath(n,["timeRangeFilter"],function(e){const n={},l=getValueByPath(e,["startTime"]);null!=l&&setValueByPath(n,["startTime"],l);const u=getValueByPath(e,["endTime"]);return null!=u&&setValueByPath(n,["endTime"],u),n}(l)),n}function googleSearchRetrievalToVertex$1(e){const n={},l=getValueByPath(e,["dynamicRetrievalConfig"]);return null!=l&&setValueByPath(n,["dynamicRetrievalConfig"],function(e){const n={},l=getValueByPath(e,["mode"]);null!=l&&setValueByPath(n,["mode"],l);const u=getValueByPath(e,["dynamicThreshold"]);return null!=u&&setValueByPath(n,["dynamicThreshold"],u),n}(l)),n}function authConfigToVertex$1(e){const n={},l=getValueByPath(e,["apiKeyConfig"]);null!=l&&setValueByPath(n,["apiKeyConfig"],function(e){const n={},l=getValueByPath(e,["apiKeyString"]);return null!=l&&setValueByPath(n,["apiKeyString"],l),n}(l));const u=getValueByPath(e,["authType"]);null!=u&&setValueByPath(n,["authType"],u);const h=getValueByPath(e,["googleServiceAccountConfig"]);null!=h&&setValueByPath(n,["googleServiceAccountConfig"],h);const d=getValueByPath(e,["httpBasicAuthConfig"]);null!=d&&setValueByPath(n,["httpBasicAuthConfig"],d);const f=getValueByPath(e,["oauthConfig"]);null!=f&&setValueByPath(n,["oauthConfig"],f);const P=getValueByPath(e,["oidcConfig"]);return null!=P&&setValueByPath(n,["oidcConfig"],P),n}function toolToVertex$1(e){const n={},l=getValueByPath(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={};if(void 0!==getValueByPath(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const l=getValueByPath(e,["description"]);null!=l&&setValueByPath(n,["description"],l);const u=getValueByPath(e,["name"]);null!=u&&setValueByPath(n,["name"],u);const h=getValueByPath(e,["parameters"]);null!=h&&setValueByPath(n,["parameters"],h);const d=getValueByPath(e,["parametersJsonSchema"]);null!=d&&setValueByPath(n,["parametersJsonSchema"],d);const f=getValueByPath(e,["response"]);null!=f&&setValueByPath(n,["response"],f);const P=getValueByPath(e,["responseJsonSchema"]);return null!=P&&setValueByPath(n,["responseJsonSchema"],P),n}(e))),setValueByPath(n,["functionDeclarations"],e)}const u=getValueByPath(e,["retrieval"]);null!=u&&setValueByPath(n,["retrieval"],u);const h=getValueByPath(e,["googleSearch"]);null!=h&&setValueByPath(n,["googleSearch"],googleSearchToVertex$1(h));const d=getValueByPath(e,["googleSearchRetrieval"]);null!=d&&setValueByPath(n,["googleSearchRetrieval"],googleSearchRetrievalToVertex$1(d));null!=getValueByPath(e,["enterpriseWebSearch"])&&setValueByPath(n,["enterpriseWebSearch"],{});const f=getValueByPath(e,["googleMaps"]);null!=f&&setValueByPath(n,["googleMaps"],function(e){const n={},l=getValueByPath(e,["authConfig"]);return null!=l&&setValueByPath(n,["authConfig"],authConfigToVertex$1(l)),n}(f));null!=getValueByPath(e,["urlContext"])&&setValueByPath(n,["urlContext"],{});const P=getValueByPath(e,["codeExecution"]);null!=P&&setValueByPath(n,["codeExecution"],P);const V=getValueByPath(e,["computerUse"]);return null!=V&&setValueByPath(n,["computerUse"],V),n}function realtimeInputConfigToVertex(e){const n={},l=getValueByPath(e,["automaticActivityDetection"]);null!=l&&setValueByPath(n,["automaticActivityDetection"],function(e){const n={},l=getValueByPath(e,["disabled"]);null!=l&&setValueByPath(n,["disabled"],l);const u=getValueByPath(e,["startOfSpeechSensitivity"]);null!=u&&setValueByPath(n,["startOfSpeechSensitivity"],u);const h=getValueByPath(e,["endOfSpeechSensitivity"]);null!=h&&setValueByPath(n,["endOfSpeechSensitivity"],h);const d=getValueByPath(e,["prefixPaddingMs"]);null!=d&&setValueByPath(n,["prefixPaddingMs"],d);const f=getValueByPath(e,["silenceDurationMs"]);return null!=f&&setValueByPath(n,["silenceDurationMs"],f),n}(l));const u=getValueByPath(e,["activityHandling"]);null!=u&&setValueByPath(n,["activityHandling"],u);const h=getValueByPath(e,["turnCoverage"]);return null!=h&&setValueByPath(n,["turnCoverage"],h),n}function contextWindowCompressionConfigToVertex(e){const n={},l=getValueByPath(e,["triggerTokens"]);null!=l&&setValueByPath(n,["triggerTokens"],l);const u=getValueByPath(e,["slidingWindow"]);return null!=u&&setValueByPath(n,["slidingWindow"],function(e){const n={},l=getValueByPath(e,["targetTokens"]);return null!=l&&setValueByPath(n,["targetTokens"],l),n}(u)),n}function liveConnectConfigToVertex(e,n){const l=getValueByPath(e,["generationConfig"]);void 0!==n&&null!=l&&setValueByPath(n,["setup","generationConfig"],l);const u=getValueByPath(e,["responseModalities"]);void 0!==n&&null!=u&&setValueByPath(n,["setup","generationConfig","responseModalities"],u);const h=getValueByPath(e,["temperature"]);void 0!==n&&null!=h&&setValueByPath(n,["setup","generationConfig","temperature"],h);const d=getValueByPath(e,["topP"]);void 0!==n&&null!=d&&setValueByPath(n,["setup","generationConfig","topP"],d);const f=getValueByPath(e,["topK"]);void 0!==n&&null!=f&&setValueByPath(n,["setup","generationConfig","topK"],f);const P=getValueByPath(e,["maxOutputTokens"]);void 0!==n&&null!=P&&setValueByPath(n,["setup","generationConfig","maxOutputTokens"],P);const V=getValueByPath(e,["mediaResolution"]);void 0!==n&&null!=V&&setValueByPath(n,["setup","generationConfig","mediaResolution"],V);const B=getValueByPath(e,["seed"]);void 0!==n&&null!=B&&setValueByPath(n,["setup","generationConfig","seed"],B);const b=getValueByPath(e,["speechConfig"]);void 0!==n&&null!=b&&setValueByPath(n,["setup","generationConfig","speechConfig"],function(e){const n={},l=getValueByPath(e,["voiceConfig"]);if(null!=l&&setValueByPath(n,["voiceConfig"],voiceConfigToVertex$1(l)),void 0!==getValueByPath(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const u=getValueByPath(e,["languageCode"]);return null!=u&&setValueByPath(n,["languageCode"],u),n}(tLiveSpeechConfig(b)));const C=getValueByPath(e,["enableAffectiveDialog"]);void 0!==n&&null!=C&&setValueByPath(n,["setup","generationConfig","enableAffectiveDialog"],C);const S=getValueByPath(e,["systemInstruction"]);void 0!==n&&null!=S&&setValueByPath(n,["setup","systemInstruction"],function(e){const n={},l=getValueByPath(e,["parts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>partToVertex$1(e))),setValueByPath(n,["parts"],e)}const u=getValueByPath(e,["role"]);return null!=u&&setValueByPath(n,["role"],u),n}(tContent(S)));const x=getValueByPath(e,["tools"]);if(void 0!==n&&null!=x){let e=tTools(x);Array.isArray(e)&&(e=e.map(e=>toolToVertex$1(tTool(e)))),setValueByPath(n,["setup","tools"],e)}const E=getValueByPath(e,["sessionResumption"]);void 0!==n&&null!=E&&setValueByPath(n,["setup","sessionResumption"],function(e){const n={},l=getValueByPath(e,["handle"]);null!=l&&setValueByPath(n,["handle"],l);const u=getValueByPath(e,["transparent"]);return null!=u&&setValueByPath(n,["transparent"],u),n}(E));const _=getValueByPath(e,["inputAudioTranscription"]);void 0!==n&&null!=_&&setValueByPath(n,["setup","inputAudioTranscription"],{});const O=getValueByPath(e,["outputAudioTranscription"]);void 0!==n&&null!=O&&setValueByPath(n,["setup","outputAudioTranscription"],{});const A=getValueByPath(e,["realtimeInputConfig"]);void 0!==n&&null!=A&&setValueByPath(n,["setup","realtimeInputConfig"],realtimeInputConfigToVertex(A));const q=getValueByPath(e,["contextWindowCompression"]);void 0!==n&&null!=q&&setValueByPath(n,["setup","contextWindowCompression"],contextWindowCompressionConfigToVertex(q));const N=getValueByPath(e,["proactivity"]);return void 0!==n&&null!=N&&setValueByPath(n,["setup","proactivity"],function(e){const n={},l=getValueByPath(e,["proactiveAudio"]);return null!=l&&setValueByPath(n,["proactiveAudio"],l),n}(N)),{}}function liveSendRealtimeInputParametersToVertex(e){const n={},l=getValueByPath(e,["media"]);null!=l&&setValueByPath(n,["mediaChunks"],tBlobs(l));const u=getValueByPath(e,["audio"]);null!=u&&setValueByPath(n,["audio"],tAudioBlob(u));const h=getValueByPath(e,["audioStreamEnd"]);null!=h&&setValueByPath(n,["audioStreamEnd"],h);const d=getValueByPath(e,["video"]);null!=d&&setValueByPath(n,["video"],tImageBlob(d));const f=getValueByPath(e,["text"]);null!=f&&setValueByPath(n,["text"],f);null!=getValueByPath(e,["activityStart"])&&setValueByPath(n,["activityStart"],{});return null!=getValueByPath(e,["activityEnd"])&&setValueByPath(n,["activityEnd"],{}),n}function partFromMldev$1(e){const n={},l=getValueByPath(e,["videoMetadata"]);null!=l&&setValueByPath(n,["videoMetadata"],function(e){const n={},l=getValueByPath(e,["fps"]);null!=l&&setValueByPath(n,["fps"],l);const u=getValueByPath(e,["endOffset"]);null!=u&&setValueByPath(n,["endOffset"],u);const h=getValueByPath(e,["startOffset"]);return null!=h&&setValueByPath(n,["startOffset"],h),n}(l));const u=getValueByPath(e,["thought"]);null!=u&&setValueByPath(n,["thought"],u);const h=getValueByPath(e,["inlineData"]);null!=h&&setValueByPath(n,["inlineData"],function(e){const n={},l=getValueByPath(e,["data"]);null!=l&&setValueByPath(n,["data"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(h));const d=getValueByPath(e,["fileData"]);null!=d&&setValueByPath(n,["fileData"],function(e){const n={},l=getValueByPath(e,["fileUri"]);null!=l&&setValueByPath(n,["fileUri"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(d));const f=getValueByPath(e,["thoughtSignature"]);null!=f&&setValueByPath(n,["thoughtSignature"],f);const P=getValueByPath(e,["codeExecutionResult"]);null!=P&&setValueByPath(n,["codeExecutionResult"],P);const V=getValueByPath(e,["executableCode"]);null!=V&&setValueByPath(n,["executableCode"],V);const B=getValueByPath(e,["functionCall"]);null!=B&&setValueByPath(n,["functionCall"],B);const b=getValueByPath(e,["functionResponse"]);null!=b&&setValueByPath(n,["functionResponse"],b);const C=getValueByPath(e,["text"]);return null!=C&&setValueByPath(n,["text"],C),n}function transcriptionFromMldev(e){const n={},l=getValueByPath(e,["text"]);null!=l&&setValueByPath(n,["text"],l);const u=getValueByPath(e,["finished"]);return null!=u&&setValueByPath(n,["finished"],u),n}function urlContextMetadataFromMldev$1(e){const n={},l=getValueByPath(e,["urlMetadata"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["retrievedUrl"]);null!=l&&setValueByPath(n,["retrievedUrl"],l);const u=getValueByPath(e,["urlRetrievalStatus"]);return null!=u&&setValueByPath(n,["urlRetrievalStatus"],u),n}(e))),setValueByPath(n,["urlMetadata"],e)}return n}function liveServerContentFromMldev(e){const n={},l=getValueByPath(e,["modelTurn"]);null!=l&&setValueByPath(n,["modelTurn"],function(e){const n={},l=getValueByPath(e,["parts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>partFromMldev$1(e))),setValueByPath(n,["parts"],e)}const u=getValueByPath(e,["role"]);return null!=u&&setValueByPath(n,["role"],u),n}(l));const u=getValueByPath(e,["turnComplete"]);null!=u&&setValueByPath(n,["turnComplete"],u);const h=getValueByPath(e,["interrupted"]);null!=h&&setValueByPath(n,["interrupted"],h);const d=getValueByPath(e,["groundingMetadata"]);null!=d&&setValueByPath(n,["groundingMetadata"],d);const f=getValueByPath(e,["generationComplete"]);null!=f&&setValueByPath(n,["generationComplete"],f);const P=getValueByPath(e,["inputTranscription"]);null!=P&&setValueByPath(n,["inputTranscription"],transcriptionFromMldev(P));const V=getValueByPath(e,["outputTranscription"]);null!=V&&setValueByPath(n,["outputTranscription"],transcriptionFromMldev(V));const B=getValueByPath(e,["urlContextMetadata"]);return null!=B&&setValueByPath(n,["urlContextMetadata"],urlContextMetadataFromMldev$1(B)),n}function liveServerToolCallFromMldev(e){const n={},l=getValueByPath(e,["functionCalls"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["id"]);null!=l&&setValueByPath(n,["id"],l);const u=getValueByPath(e,["args"]);null!=u&&setValueByPath(n,["args"],u);const h=getValueByPath(e,["name"]);return null!=h&&setValueByPath(n,["name"],h),n}(e))),setValueByPath(n,["functionCalls"],e)}return n}function modalityTokenCountFromMldev(e){const n={},l=getValueByPath(e,["modality"]);null!=l&&setValueByPath(n,["modality"],l);const u=getValueByPath(e,["tokenCount"]);return null!=u&&setValueByPath(n,["tokenCount"],u),n}function liveServerMessageFromMldev(e){const n={};null!=getValueByPath(e,["setupComplete"])&&setValueByPath(n,["setupComplete"],{});const l=getValueByPath(e,["serverContent"]);null!=l&&setValueByPath(n,["serverContent"],liveServerContentFromMldev(l));const u=getValueByPath(e,["toolCall"]);null!=u&&setValueByPath(n,["toolCall"],liveServerToolCallFromMldev(u));const h=getValueByPath(e,["toolCallCancellation"]);null!=h&&setValueByPath(n,["toolCallCancellation"],function(e){const n={},l=getValueByPath(e,["ids"]);return null!=l&&setValueByPath(n,["ids"],l),n}(h));const d=getValueByPath(e,["usageMetadata"]);null!=d&&setValueByPath(n,["usageMetadata"],function(e){const n={},l=getValueByPath(e,["promptTokenCount"]);null!=l&&setValueByPath(n,["promptTokenCount"],l);const u=getValueByPath(e,["cachedContentTokenCount"]);null!=u&&setValueByPath(n,["cachedContentTokenCount"],u);const h=getValueByPath(e,["responseTokenCount"]);null!=h&&setValueByPath(n,["responseTokenCount"],h);const d=getValueByPath(e,["toolUsePromptTokenCount"]);null!=d&&setValueByPath(n,["toolUsePromptTokenCount"],d);const f=getValueByPath(e,["thoughtsTokenCount"]);null!=f&&setValueByPath(n,["thoughtsTokenCount"],f);const P=getValueByPath(e,["totalTokenCount"]);null!=P&&setValueByPath(n,["totalTokenCount"],P);const V=getValueByPath(e,["promptTokensDetails"]);if(null!=V){let e=V;Array.isArray(e)&&(e=e.map(e=>modalityTokenCountFromMldev(e))),setValueByPath(n,["promptTokensDetails"],e)}const B=getValueByPath(e,["cacheTokensDetails"]);if(null!=B){let e=B;Array.isArray(e)&&(e=e.map(e=>modalityTokenCountFromMldev(e))),setValueByPath(n,["cacheTokensDetails"],e)}const b=getValueByPath(e,["responseTokensDetails"]);if(null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>modalityTokenCountFromMldev(e))),setValueByPath(n,["responseTokensDetails"],e)}const C=getValueByPath(e,["toolUsePromptTokensDetails"]);if(null!=C){let e=C;Array.isArray(e)&&(e=e.map(e=>modalityTokenCountFromMldev(e))),setValueByPath(n,["toolUsePromptTokensDetails"],e)}return n}(d));const f=getValueByPath(e,["goAway"]);null!=f&&setValueByPath(n,["goAway"],function(e){const n={},l=getValueByPath(e,["timeLeft"]);return null!=l&&setValueByPath(n,["timeLeft"],l),n}(f));const P=getValueByPath(e,["sessionResumptionUpdate"]);return null!=P&&setValueByPath(n,["sessionResumptionUpdate"],function(e){const n={},l=getValueByPath(e,["newHandle"]);null!=l&&setValueByPath(n,["newHandle"],l);const u=getValueByPath(e,["resumable"]);null!=u&&setValueByPath(n,["resumable"],u);const h=getValueByPath(e,["lastConsumedClientMessageIndex"]);return null!=h&&setValueByPath(n,["lastConsumedClientMessageIndex"],h),n}(P)),n}function liveMusicClientContentFromMldev(e){const n={},l=getValueByPath(e,["weightedPrompts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["text"]);null!=l&&setValueByPath(n,["text"],l);const u=getValueByPath(e,["weight"]);return null!=u&&setValueByPath(n,["weight"],u),n}(e))),setValueByPath(n,["weightedPrompts"],e)}return n}function liveMusicSourceMetadataFromMldev(e){const n={},l=getValueByPath(e,["clientContent"]);null!=l&&setValueByPath(n,["clientContent"],liveMusicClientContentFromMldev(l));const u=getValueByPath(e,["musicGenerationConfig"]);return null!=u&&setValueByPath(n,["musicGenerationConfig"],function(e){const n={},l=getValueByPath(e,["temperature"]);null!=l&&setValueByPath(n,["temperature"],l);const u=getValueByPath(e,["topK"]);null!=u&&setValueByPath(n,["topK"],u);const h=getValueByPath(e,["seed"]);null!=h&&setValueByPath(n,["seed"],h);const d=getValueByPath(e,["guidance"]);null!=d&&setValueByPath(n,["guidance"],d);const f=getValueByPath(e,["bpm"]);null!=f&&setValueByPath(n,["bpm"],f);const P=getValueByPath(e,["density"]);null!=P&&setValueByPath(n,["density"],P);const V=getValueByPath(e,["brightness"]);null!=V&&setValueByPath(n,["brightness"],V);const B=getValueByPath(e,["scale"]);null!=B&&setValueByPath(n,["scale"],B);const b=getValueByPath(e,["muteBass"]);null!=b&&setValueByPath(n,["muteBass"],b);const C=getValueByPath(e,["muteDrums"]);null!=C&&setValueByPath(n,["muteDrums"],C);const S=getValueByPath(e,["onlyBassAndDrums"]);null!=S&&setValueByPath(n,["onlyBassAndDrums"],S);const x=getValueByPath(e,["musicGenerationMode"]);return null!=x&&setValueByPath(n,["musicGenerationMode"],x),n}(u)),n}function liveMusicServerContentFromMldev(e){const n={},l=getValueByPath(e,["audioChunks"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["data"]);null!=l&&setValueByPath(n,["data"],l);const u=getValueByPath(e,["mimeType"]);null!=u&&setValueByPath(n,["mimeType"],u);const h=getValueByPath(e,["sourceMetadata"]);return null!=h&&setValueByPath(n,["sourceMetadata"],liveMusicSourceMetadataFromMldev(h)),n}(e))),setValueByPath(n,["audioChunks"],e)}return n}function liveMusicServerMessageFromMldev(e){const n={};null!=getValueByPath(e,["setupComplete"])&&setValueByPath(n,["setupComplete"],{});const l=getValueByPath(e,["serverContent"]);null!=l&&setValueByPath(n,["serverContent"],liveMusicServerContentFromMldev(l));const u=getValueByPath(e,["filteredPrompt"]);return null!=u&&setValueByPath(n,["filteredPrompt"],function(e){const n={},l=getValueByPath(e,["text"]);null!=l&&setValueByPath(n,["text"],l);const u=getValueByPath(e,["filteredReason"]);return null!=u&&setValueByPath(n,["filteredReason"],u),n}(u)),n}function partFromVertex$1(e){const n={},l=getValueByPath(e,["videoMetadata"]);null!=l&&setValueByPath(n,["videoMetadata"],function(e){const n={},l=getValueByPath(e,["fps"]);null!=l&&setValueByPath(n,["fps"],l);const u=getValueByPath(e,["endOffset"]);null!=u&&setValueByPath(n,["endOffset"],u);const h=getValueByPath(e,["startOffset"]);return null!=h&&setValueByPath(n,["startOffset"],h),n}(l));const u=getValueByPath(e,["thought"]);null!=u&&setValueByPath(n,["thought"],u);const h=getValueByPath(e,["inlineData"]);null!=h&&setValueByPath(n,["inlineData"],function(e){const n={},l=getValueByPath(e,["displayName"]);null!=l&&setValueByPath(n,["displayName"],l);const u=getValueByPath(e,["data"]);null!=u&&setValueByPath(n,["data"],u);const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(h));const d=getValueByPath(e,["fileData"]);null!=d&&setValueByPath(n,["fileData"],function(e){const n={},l=getValueByPath(e,["displayName"]);null!=l&&setValueByPath(n,["displayName"],l);const u=getValueByPath(e,["fileUri"]);null!=u&&setValueByPath(n,["fileUri"],u);const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(d));const f=getValueByPath(e,["thoughtSignature"]);null!=f&&setValueByPath(n,["thoughtSignature"],f);const P=getValueByPath(e,["codeExecutionResult"]);null!=P&&setValueByPath(n,["codeExecutionResult"],P);const V=getValueByPath(e,["executableCode"]);null!=V&&setValueByPath(n,["executableCode"],V);const B=getValueByPath(e,["functionCall"]);null!=B&&setValueByPath(n,["functionCall"],B);const b=getValueByPath(e,["functionResponse"]);null!=b&&setValueByPath(n,["functionResponse"],b);const C=getValueByPath(e,["text"]);return null!=C&&setValueByPath(n,["text"],C),n}function transcriptionFromVertex(e){const n={},l=getValueByPath(e,["text"]);null!=l&&setValueByPath(n,["text"],l);const u=getValueByPath(e,["finished"]);return null!=u&&setValueByPath(n,["finished"],u),n}function liveServerContentFromVertex(e){const n={},l=getValueByPath(e,["modelTurn"]);null!=l&&setValueByPath(n,["modelTurn"],function(e){const n={},l=getValueByPath(e,["parts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>partFromVertex$1(e))),setValueByPath(n,["parts"],e)}const u=getValueByPath(e,["role"]);return null!=u&&setValueByPath(n,["role"],u),n}(l));const u=getValueByPath(e,["turnComplete"]);null!=u&&setValueByPath(n,["turnComplete"],u);const h=getValueByPath(e,["interrupted"]);null!=h&&setValueByPath(n,["interrupted"],h);const d=getValueByPath(e,["groundingMetadata"]);null!=d&&setValueByPath(n,["groundingMetadata"],d);const f=getValueByPath(e,["generationComplete"]);null!=f&&setValueByPath(n,["generationComplete"],f);const P=getValueByPath(e,["inputTranscription"]);null!=P&&setValueByPath(n,["inputTranscription"],transcriptionFromVertex(P));const V=getValueByPath(e,["outputTranscription"]);return null!=V&&setValueByPath(n,["outputTranscription"],transcriptionFromVertex(V)),n}function liveServerToolCallFromVertex(e){const n={},l=getValueByPath(e,["functionCalls"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["args"]);null!=l&&setValueByPath(n,["args"],l);const u=getValueByPath(e,["name"]);return null!=u&&setValueByPath(n,["name"],u),n}(e))),setValueByPath(n,["functionCalls"],e)}return n}function modalityTokenCountFromVertex(e){const n={},l=getValueByPath(e,["modality"]);null!=l&&setValueByPath(n,["modality"],l);const u=getValueByPath(e,["tokenCount"]);return null!=u&&setValueByPath(n,["tokenCount"],u),n}function liveServerMessageFromVertex(e){const n={},l=getValueByPath(e,["setupComplete"]);null!=l&&setValueByPath(n,["setupComplete"],function(e){const n={},l=getValueByPath(e,["sessionId"]);return null!=l&&setValueByPath(n,["sessionId"],l),n}(l));const u=getValueByPath(e,["serverContent"]);null!=u&&setValueByPath(n,["serverContent"],liveServerContentFromVertex(u));const h=getValueByPath(e,["toolCall"]);null!=h&&setValueByPath(n,["toolCall"],liveServerToolCallFromVertex(h));const d=getValueByPath(e,["toolCallCancellation"]);null!=d&&setValueByPath(n,["toolCallCancellation"],function(e){const n={},l=getValueByPath(e,["ids"]);return null!=l&&setValueByPath(n,["ids"],l),n}(d));const f=getValueByPath(e,["usageMetadata"]);null!=f&&setValueByPath(n,["usageMetadata"],function(e){const n={},l=getValueByPath(e,["promptTokenCount"]);null!=l&&setValueByPath(n,["promptTokenCount"],l);const u=getValueByPath(e,["cachedContentTokenCount"]);null!=u&&setValueByPath(n,["cachedContentTokenCount"],u);const h=getValueByPath(e,["candidatesTokenCount"]);null!=h&&setValueByPath(n,["responseTokenCount"],h);const d=getValueByPath(e,["toolUsePromptTokenCount"]);null!=d&&setValueByPath(n,["toolUsePromptTokenCount"],d);const f=getValueByPath(e,["thoughtsTokenCount"]);null!=f&&setValueByPath(n,["thoughtsTokenCount"],f);const P=getValueByPath(e,["totalTokenCount"]);null!=P&&setValueByPath(n,["totalTokenCount"],P);const V=getValueByPath(e,["promptTokensDetails"]);if(null!=V){let e=V;Array.isArray(e)&&(e=e.map(e=>modalityTokenCountFromVertex(e))),setValueByPath(n,["promptTokensDetails"],e)}const B=getValueByPath(e,["cacheTokensDetails"]);if(null!=B){let e=B;Array.isArray(e)&&(e=e.map(e=>modalityTokenCountFromVertex(e))),setValueByPath(n,["cacheTokensDetails"],e)}const b=getValueByPath(e,["candidatesTokensDetails"]);if(null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>modalityTokenCountFromVertex(e))),setValueByPath(n,["responseTokensDetails"],e)}const C=getValueByPath(e,["toolUsePromptTokensDetails"]);if(null!=C){let e=C;Array.isArray(e)&&(e=e.map(e=>modalityTokenCountFromVertex(e))),setValueByPath(n,["toolUsePromptTokensDetails"],e)}const S=getValueByPath(e,["trafficType"]);return null!=S&&setValueByPath(n,["trafficType"],S),n}(f));const P=getValueByPath(e,["goAway"]);null!=P&&setValueByPath(n,["goAway"],function(e){const n={},l=getValueByPath(e,["timeLeft"]);return null!=l&&setValueByPath(n,["timeLeft"],l),n}(P));const V=getValueByPath(e,["sessionResumptionUpdate"]);return null!=V&&setValueByPath(n,["sessionResumptionUpdate"],function(e){const n={},l=getValueByPath(e,["newHandle"]);null!=l&&setValueByPath(n,["newHandle"],l);const u=getValueByPath(e,["resumable"]);null!=u&&setValueByPath(n,["resumable"],u);const h=getValueByPath(e,["lastConsumedClientMessageIndex"]);return null!=h&&setValueByPath(n,["lastConsumedClientMessageIndex"],h),n}(V)),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function partToMldev$1(e){const n={},l=getValueByPath(e,["videoMetadata"]);null!=l&&setValueByPath(n,["videoMetadata"],function(e){const n={},l=getValueByPath(e,["fps"]);null!=l&&setValueByPath(n,["fps"],l);const u=getValueByPath(e,["endOffset"]);null!=u&&setValueByPath(n,["endOffset"],u);const h=getValueByPath(e,["startOffset"]);return null!=h&&setValueByPath(n,["startOffset"],h),n}(l));const u=getValueByPath(e,["thought"]);null!=u&&setValueByPath(n,["thought"],u);const h=getValueByPath(e,["inlineData"]);null!=h&&setValueByPath(n,["inlineData"],function(e){const n={};if(void 0!==getValueByPath(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const l=getValueByPath(e,["data"]);null!=l&&setValueByPath(n,["data"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(h));const d=getValueByPath(e,["fileData"]);null!=d&&setValueByPath(n,["fileData"],function(e){const n={};if(void 0!==getValueByPath(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const l=getValueByPath(e,["fileUri"]);null!=l&&setValueByPath(n,["fileUri"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(d));const f=getValueByPath(e,["thoughtSignature"]);null!=f&&setValueByPath(n,["thoughtSignature"],f);const P=getValueByPath(e,["codeExecutionResult"]);null!=P&&setValueByPath(n,["codeExecutionResult"],P);const V=getValueByPath(e,["executableCode"]);null!=V&&setValueByPath(n,["executableCode"],V);const B=getValueByPath(e,["functionCall"]);null!=B&&setValueByPath(n,["functionCall"],B);const b=getValueByPath(e,["functionResponse"]);null!=b&&setValueByPath(n,["functionResponse"],b);const C=getValueByPath(e,["text"]);return null!=C&&setValueByPath(n,["text"],C),n}function contentToMldev$1(e){const n={},l=getValueByPath(e,["parts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>partToMldev$1(e))),setValueByPath(n,["parts"],e)}const u=getValueByPath(e,["role"]);return null!=u&&setValueByPath(n,["role"],u),n}function googleSearchToMldev$1(e){const n={},l=getValueByPath(e,["timeRangeFilter"]);return null!=l&&setValueByPath(n,["timeRangeFilter"],function(e){const n={},l=getValueByPath(e,["startTime"]);null!=l&&setValueByPath(n,["startTime"],l);const u=getValueByPath(e,["endTime"]);return null!=u&&setValueByPath(n,["endTime"],u),n}(l)),n}function googleSearchRetrievalToMldev$1(e){const n={},l=getValueByPath(e,["dynamicRetrievalConfig"]);return null!=l&&setValueByPath(n,["dynamicRetrievalConfig"],function(e){const n={},l=getValueByPath(e,["mode"]);null!=l&&setValueByPath(n,["mode"],l);const u=getValueByPath(e,["dynamicThreshold"]);return null!=u&&setValueByPath(n,["dynamicThreshold"],u),n}(l)),n}function toolToMldev$1(e){const n={},l=getValueByPath(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["behavior"]);null!=l&&setValueByPath(n,["behavior"],l);const u=getValueByPath(e,["description"]);null!=u&&setValueByPath(n,["description"],u);const h=getValueByPath(e,["name"]);null!=h&&setValueByPath(n,["name"],h);const d=getValueByPath(e,["parameters"]);null!=d&&setValueByPath(n,["parameters"],d);const f=getValueByPath(e,["parametersJsonSchema"]);null!=f&&setValueByPath(n,["parametersJsonSchema"],f);const P=getValueByPath(e,["response"]);null!=P&&setValueByPath(n,["response"],P);const V=getValueByPath(e,["responseJsonSchema"]);return null!=V&&setValueByPath(n,["responseJsonSchema"],V),n}(e))),setValueByPath(n,["functionDeclarations"],e)}if(void 0!==getValueByPath(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const u=getValueByPath(e,["googleSearch"]);null!=u&&setValueByPath(n,["googleSearch"],googleSearchToMldev$1(u));const h=getValueByPath(e,["googleSearchRetrieval"]);if(null!=h&&setValueByPath(n,["googleSearchRetrieval"],googleSearchRetrievalToMldev$1(h)),void 0!==getValueByPath(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=getValueByPath(e,["urlContext"])&&setValueByPath(n,["urlContext"],{});const d=getValueByPath(e,["codeExecution"]);null!=d&&setValueByPath(n,["codeExecution"],d);const f=getValueByPath(e,["computerUse"]);return null!=f&&setValueByPath(n,["computerUse"],f),n}function retrievalConfigToMldev(e){const n={},l=getValueByPath(e,["latLng"]);null!=l&&setValueByPath(n,["latLng"],function(e){const n={},l=getValueByPath(e,["latitude"]);null!=l&&setValueByPath(n,["latitude"],l);const u=getValueByPath(e,["longitude"]);return null!=u&&setValueByPath(n,["longitude"],u),n}(l));const u=getValueByPath(e,["languageCode"]);return null!=u&&setValueByPath(n,["languageCode"],u),n}function toolConfigToMldev(e){const n={},l=getValueByPath(e,["functionCallingConfig"]);null!=l&&setValueByPath(n,["functionCallingConfig"],function(e){const n={},l=getValueByPath(e,["mode"]);null!=l&&setValueByPath(n,["mode"],l);const u=getValueByPath(e,["allowedFunctionNames"]);return null!=u&&setValueByPath(n,["allowedFunctionNames"],u),n}(l));const u=getValueByPath(e,["retrievalConfig"]);return null!=u&&setValueByPath(n,["retrievalConfig"],retrievalConfigToMldev(u)),n}function voiceConfigToMldev$1(e){const n={},l=getValueByPath(e,["prebuiltVoiceConfig"]);return null!=l&&setValueByPath(n,["prebuiltVoiceConfig"],function(e){const n={},l=getValueByPath(e,["voiceName"]);return null!=l&&setValueByPath(n,["voiceName"],l),n}(l)),n}function multiSpeakerVoiceConfigToMldev$1(e){const n={},l=getValueByPath(e,["speakerVoiceConfigs"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["speaker"]);null!=l&&setValueByPath(n,["speaker"],l);const u=getValueByPath(e,["voiceConfig"]);return null!=u&&setValueByPath(n,["voiceConfig"],voiceConfigToMldev$1(u)),n}(e))),setValueByPath(n,["speakerVoiceConfigs"],e)}return n}function generateContentConfigToMldev(e,n,l){const u={},h=getValueByPath(n,["systemInstruction"]);void 0!==l&&null!=h&&setValueByPath(l,["systemInstruction"],contentToMldev$1(tContent(h)));const d=getValueByPath(n,["temperature"]);null!=d&&setValueByPath(u,["temperature"],d);const f=getValueByPath(n,["topP"]);null!=f&&setValueByPath(u,["topP"],f);const P=getValueByPath(n,["topK"]);null!=P&&setValueByPath(u,["topK"],P);const V=getValueByPath(n,["candidateCount"]);null!=V&&setValueByPath(u,["candidateCount"],V);const B=getValueByPath(n,["maxOutputTokens"]);null!=B&&setValueByPath(u,["maxOutputTokens"],B);const b=getValueByPath(n,["stopSequences"]);null!=b&&setValueByPath(u,["stopSequences"],b);const C=getValueByPath(n,["responseLogprobs"]);null!=C&&setValueByPath(u,["responseLogprobs"],C);const S=getValueByPath(n,["logprobs"]);null!=S&&setValueByPath(u,["logprobs"],S);const x=getValueByPath(n,["presencePenalty"]);null!=x&&setValueByPath(u,["presencePenalty"],x);const E=getValueByPath(n,["frequencyPenalty"]);null!=E&&setValueByPath(u,["frequencyPenalty"],E);const _=getValueByPath(n,["seed"]);null!=_&&setValueByPath(u,["seed"],_);const O=getValueByPath(n,["responseMimeType"]);null!=O&&setValueByPath(u,["responseMimeType"],O);const A=getValueByPath(n,["responseSchema"]);null!=A&&setValueByPath(u,["responseSchema"],function(e){const n={},l=getValueByPath(e,["anyOf"]);null!=l&&setValueByPath(n,["anyOf"],l);const u=getValueByPath(e,["default"]);null!=u&&setValueByPath(n,["default"],u);const h=getValueByPath(e,["description"]);null!=h&&setValueByPath(n,["description"],h);const d=getValueByPath(e,["enum"]);null!=d&&setValueByPath(n,["enum"],d);const f=getValueByPath(e,["example"]);null!=f&&setValueByPath(n,["example"],f);const P=getValueByPath(e,["format"]);null!=P&&setValueByPath(n,["format"],P);const V=getValueByPath(e,["items"]);null!=V&&setValueByPath(n,["items"],V);const B=getValueByPath(e,["maxItems"]);null!=B&&setValueByPath(n,["maxItems"],B);const b=getValueByPath(e,["maxLength"]);null!=b&&setValueByPath(n,["maxLength"],b);const C=getValueByPath(e,["maxProperties"]);null!=C&&setValueByPath(n,["maxProperties"],C);const S=getValueByPath(e,["maximum"]);null!=S&&setValueByPath(n,["maximum"],S);const x=getValueByPath(e,["minItems"]);null!=x&&setValueByPath(n,["minItems"],x);const E=getValueByPath(e,["minLength"]);null!=E&&setValueByPath(n,["minLength"],E);const _=getValueByPath(e,["minProperties"]);null!=_&&setValueByPath(n,["minProperties"],_);const O=getValueByPath(e,["minimum"]);null!=O&&setValueByPath(n,["minimum"],O);const A=getValueByPath(e,["nullable"]);null!=A&&setValueByPath(n,["nullable"],A);const q=getValueByPath(e,["pattern"]);null!=q&&setValueByPath(n,["pattern"],q);const N=getValueByPath(e,["properties"]);null!=N&&setValueByPath(n,["properties"],N);const D=getValueByPath(e,["propertyOrdering"]);null!=D&&setValueByPath(n,["propertyOrdering"],D);const L=getValueByPath(e,["required"]);null!=L&&setValueByPath(n,["required"],L);const U=getValueByPath(e,["title"]);null!=U&&setValueByPath(n,["title"],U);const j=getValueByPath(e,["type"]);return null!=j&&setValueByPath(n,["type"],j),n}(tSchema(A)));const q=getValueByPath(n,["responseJsonSchema"]);if(null!=q&&setValueByPath(u,["responseJsonSchema"],q),void 0!==getValueByPath(n,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==getValueByPath(n,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=getValueByPath(n,["safetySettings"]);if(void 0!==l&&null!=N){let e=N;Array.isArray(e)&&(e=e.map(e=>function(e){const n={};if(void 0!==getValueByPath(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const l=getValueByPath(e,["category"]);null!=l&&setValueByPath(n,["category"],l);const u=getValueByPath(e,["threshold"]);return null!=u&&setValueByPath(n,["threshold"],u),n}(e))),setValueByPath(l,["safetySettings"],e)}const D=getValueByPath(n,["tools"]);if(void 0!==l&&null!=D){let e=tTools(D);Array.isArray(e)&&(e=e.map(e=>toolToMldev$1(tTool(e)))),setValueByPath(l,["tools"],e)}const L=getValueByPath(n,["toolConfig"]);if(void 0!==l&&null!=L&&setValueByPath(l,["toolConfig"],toolConfigToMldev(L)),void 0!==getValueByPath(n,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const U=getValueByPath(n,["cachedContent"]);void 0!==l&&null!=U&&setValueByPath(l,["cachedContent"],tCachedContentName(e,U));const j=getValueByPath(n,["responseModalities"]);null!=j&&setValueByPath(u,["responseModalities"],j);const $=getValueByPath(n,["mediaResolution"]);null!=$&&setValueByPath(u,["mediaResolution"],$);const z=getValueByPath(n,["speechConfig"]);if(null!=z&&setValueByPath(u,["speechConfig"],function(e){const n={},l=getValueByPath(e,["voiceConfig"]);null!=l&&setValueByPath(n,["voiceConfig"],voiceConfigToMldev$1(l));const u=getValueByPath(e,["multiSpeakerVoiceConfig"]);null!=u&&setValueByPath(n,["multiSpeakerVoiceConfig"],multiSpeakerVoiceConfigToMldev$1(u));const h=getValueByPath(e,["languageCode"]);return null!=h&&setValueByPath(n,["languageCode"],h),n}(tSpeechConfig(z))),void 0!==getValueByPath(n,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=getValueByPath(n,["thinkingConfig"]);return null!=W&&setValueByPath(u,["thinkingConfig"],function(e){const n={},l=getValueByPath(e,["includeThoughts"]);null!=l&&setValueByPath(n,["includeThoughts"],l);const u=getValueByPath(e,["thinkingBudget"]);return null!=u&&setValueByPath(n,["thinkingBudget"],u),n}(W)),u}function generateContentParametersToMldev(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["contents"]);if(null!=h){let e=tContents(h);Array.isArray(e)&&(e=e.map(e=>contentToMldev$1(e))),setValueByPath(l,["contents"],e)}const d=getValueByPath(n,["config"]);return null!=d&&setValueByPath(l,["generationConfig"],generateContentConfigToMldev(e,d,l)),l}function embedContentParametersToMldev(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["contents"]);null!=h&&setValueByPath(l,["requests[]","content"],tContentsForEmbed(e,h));const d=getValueByPath(n,["config"]);null!=d&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["taskType"]);void 0!==n&&null!=l&&setValueByPath(n,["requests[]","taskType"],l);const u=getValueByPath(e,["title"]);void 0!==n&&null!=u&&setValueByPath(n,["requests[]","title"],u);const h=getValueByPath(e,["outputDimensionality"]);if(void 0!==n&&null!=h&&setValueByPath(n,["requests[]","outputDimensionality"],h),void 0!==getValueByPath(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(d,l));const f=getValueByPath(n,["model"]);return void 0!==f&&setValueByPath(l,["requests[]","model"],tModel(e,f)),l}function generateImagesParametersToMldev(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["prompt"]);null!=h&&setValueByPath(l,["instances[0]","prompt"],h);const d=getValueByPath(n,["config"]);return null!=d&&setValueByPath(l,["config"],function(e,n){if(void 0!==getValueByPath(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=getValueByPath(e,["numberOfImages"]);void 0!==n&&null!=l&&setValueByPath(n,["parameters","sampleCount"],l);const u=getValueByPath(e,["aspectRatio"]);void 0!==n&&null!=u&&setValueByPath(n,["parameters","aspectRatio"],u);const h=getValueByPath(e,["guidanceScale"]);if(void 0!==n&&null!=h&&setValueByPath(n,["parameters","guidanceScale"],h),void 0!==getValueByPath(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const d=getValueByPath(e,["safetyFilterLevel"]);void 0!==n&&null!=d&&setValueByPath(n,["parameters","safetySetting"],d);const f=getValueByPath(e,["personGeneration"]);void 0!==n&&null!=f&&setValueByPath(n,["parameters","personGeneration"],f);const P=getValueByPath(e,["includeSafetyAttributes"]);void 0!==n&&null!=P&&setValueByPath(n,["parameters","includeSafetyAttributes"],P);const V=getValueByPath(e,["includeRaiReason"]);void 0!==n&&null!=V&&setValueByPath(n,["parameters","includeRaiReason"],V);const B=getValueByPath(e,["language"]);void 0!==n&&null!=B&&setValueByPath(n,["parameters","language"],B);const b=getValueByPath(e,["outputMimeType"]);void 0!==n&&null!=b&&setValueByPath(n,["parameters","outputOptions","mimeType"],b);const C=getValueByPath(e,["outputCompressionQuality"]);if(void 0!==n&&null!=C&&setValueByPath(n,["parameters","outputOptions","compressionQuality"],C),void 0!==getValueByPath(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");const S=getValueByPath(e,["imageSize"]);if(void 0!==n&&null!=S&&setValueByPath(n,["parameters","sampleImageSize"],S),void 0!==getValueByPath(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.");return{}}(d,l)),l}function listModelsParametersToMldev(e,n){const l={},u=getValueByPath(n,["config"]);return null!=u&&setValueByPath(l,["config"],function(e,n,l){const u=getValueByPath(n,["pageSize"]);void 0!==l&&null!=u&&setValueByPath(l,["_query","pageSize"],u);const h=getValueByPath(n,["pageToken"]);void 0!==l&&null!=h&&setValueByPath(l,["_query","pageToken"],h);const d=getValueByPath(n,["filter"]);void 0!==l&&null!=d&&setValueByPath(l,["_query","filter"],d);const f=getValueByPath(n,["queryBase"]);return void 0!==l&&null!=f&&setValueByPath(l,["_url","models_url"],tModelsUrl(e,f)),{}}(e,u,l)),l}function updateModelParametersToMldev(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","name"],tModel(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["displayName"]);void 0!==n&&null!=l&&setValueByPath(n,["displayName"],l);const u=getValueByPath(e,["description"]);void 0!==n&&null!=u&&setValueByPath(n,["description"],u);const h=getValueByPath(e,["defaultCheckpointId"]);return void 0!==n&&null!=h&&setValueByPath(n,["defaultCheckpointId"],h),{}}(h,l)),l}function countTokensParametersToMldev(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["contents"]);if(null!=h){let e=tContents(h);Array.isArray(e)&&(e=e.map(e=>contentToMldev$1(e))),setValueByPath(l,["contents"],e)}const d=getValueByPath(n,["config"]);return null!=d&&setValueByPath(l,["config"],function(e){if(void 0!==getValueByPath(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.");return{}}(d)),l}function generateVideosParametersToMldev(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["prompt"]);null!=h&&setValueByPath(l,["instances[0]","prompt"],h);const d=getValueByPath(n,["image"]);if(null!=d&&setValueByPath(l,["instances[0]","image"],function(e){const n={};if(void 0!==getValueByPath(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const l=getValueByPath(e,["imageBytes"]);null!=l&&setValueByPath(n,["bytesBase64Encoded"],tBytes(l));const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(d)),void 0!==getValueByPath(n,["video"]))throw new Error("video parameter is not supported in Gemini API.");const f=getValueByPath(n,["config"]);return null!=f&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["numberOfVideos"]);if(void 0!==n&&null!=l&&setValueByPath(n,["parameters","sampleCount"],l),void 0!==getValueByPath(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const u=getValueByPath(e,["durationSeconds"]);if(void 0!==n&&null!=u&&setValueByPath(n,["parameters","durationSeconds"],u),void 0!==getValueByPath(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const h=getValueByPath(e,["aspectRatio"]);if(void 0!==n&&null!=h&&setValueByPath(n,["parameters","aspectRatio"],h),void 0!==getValueByPath(e,["resolution"]))throw new Error("resolution parameter is not supported in Gemini API.");const d=getValueByPath(e,["personGeneration"]);if(void 0!==n&&null!=d&&setValueByPath(n,["parameters","personGeneration"],d),void 0!==getValueByPath(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=getValueByPath(e,["negativePrompt"]);void 0!==n&&null!=f&&setValueByPath(n,["parameters","negativePrompt"],f);const P=getValueByPath(e,["enhancePrompt"]);if(void 0!==n&&null!=P&&setValueByPath(n,["parameters","enhancePrompt"],P),void 0!==getValueByPath(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["lastFrame"]))throw new Error("lastFrame parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}(f,l)),l}function partToVertex(e){const n={},l=getValueByPath(e,["videoMetadata"]);null!=l&&setValueByPath(n,["videoMetadata"],function(e){const n={},l=getValueByPath(e,["fps"]);null!=l&&setValueByPath(n,["fps"],l);const u=getValueByPath(e,["endOffset"]);null!=u&&setValueByPath(n,["endOffset"],u);const h=getValueByPath(e,["startOffset"]);return null!=h&&setValueByPath(n,["startOffset"],h),n}(l));const u=getValueByPath(e,["thought"]);null!=u&&setValueByPath(n,["thought"],u);const h=getValueByPath(e,["inlineData"]);null!=h&&setValueByPath(n,["inlineData"],function(e){const n={},l=getValueByPath(e,["displayName"]);null!=l&&setValueByPath(n,["displayName"],l);const u=getValueByPath(e,["data"]);null!=u&&setValueByPath(n,["data"],u);const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(h));const d=getValueByPath(e,["fileData"]);null!=d&&setValueByPath(n,["fileData"],function(e){const n={},l=getValueByPath(e,["displayName"]);null!=l&&setValueByPath(n,["displayName"],l);const u=getValueByPath(e,["fileUri"]);null!=u&&setValueByPath(n,["fileUri"],u);const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(d));const f=getValueByPath(e,["thoughtSignature"]);null!=f&&setValueByPath(n,["thoughtSignature"],f);const P=getValueByPath(e,["codeExecutionResult"]);null!=P&&setValueByPath(n,["codeExecutionResult"],P);const V=getValueByPath(e,["executableCode"]);null!=V&&setValueByPath(n,["executableCode"],V);const B=getValueByPath(e,["functionCall"]);null!=B&&setValueByPath(n,["functionCall"],B);const b=getValueByPath(e,["functionResponse"]);null!=b&&setValueByPath(n,["functionResponse"],b);const C=getValueByPath(e,["text"]);return null!=C&&setValueByPath(n,["text"],C),n}function contentToVertex(e){const n={},l=getValueByPath(e,["parts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>partToVertex(e))),setValueByPath(n,["parts"],e)}const u=getValueByPath(e,["role"]);return null!=u&&setValueByPath(n,["role"],u),n}function googleSearchToVertex(e){const n={},l=getValueByPath(e,["timeRangeFilter"]);return null!=l&&setValueByPath(n,["timeRangeFilter"],function(e){const n={},l=getValueByPath(e,["startTime"]);null!=l&&setValueByPath(n,["startTime"],l);const u=getValueByPath(e,["endTime"]);return null!=u&&setValueByPath(n,["endTime"],u),n}(l)),n}function googleSearchRetrievalToVertex(e){const n={},l=getValueByPath(e,["dynamicRetrievalConfig"]);return null!=l&&setValueByPath(n,["dynamicRetrievalConfig"],function(e){const n={},l=getValueByPath(e,["mode"]);null!=l&&setValueByPath(n,["mode"],l);const u=getValueByPath(e,["dynamicThreshold"]);return null!=u&&setValueByPath(n,["dynamicThreshold"],u),n}(l)),n}function authConfigToVertex(e){const n={},l=getValueByPath(e,["apiKeyConfig"]);null!=l&&setValueByPath(n,["apiKeyConfig"],function(e){const n={},l=getValueByPath(e,["apiKeyString"]);return null!=l&&setValueByPath(n,["apiKeyString"],l),n}(l));const u=getValueByPath(e,["authType"]);null!=u&&setValueByPath(n,["authType"],u);const h=getValueByPath(e,["googleServiceAccountConfig"]);null!=h&&setValueByPath(n,["googleServiceAccountConfig"],h);const d=getValueByPath(e,["httpBasicAuthConfig"]);null!=d&&setValueByPath(n,["httpBasicAuthConfig"],d);const f=getValueByPath(e,["oauthConfig"]);null!=f&&setValueByPath(n,["oauthConfig"],f);const P=getValueByPath(e,["oidcConfig"]);return null!=P&&setValueByPath(n,["oidcConfig"],P),n}function toolToVertex(e){const n={},l=getValueByPath(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={};if(void 0!==getValueByPath(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const l=getValueByPath(e,["description"]);null!=l&&setValueByPath(n,["description"],l);const u=getValueByPath(e,["name"]);null!=u&&setValueByPath(n,["name"],u);const h=getValueByPath(e,["parameters"]);null!=h&&setValueByPath(n,["parameters"],h);const d=getValueByPath(e,["parametersJsonSchema"]);null!=d&&setValueByPath(n,["parametersJsonSchema"],d);const f=getValueByPath(e,["response"]);null!=f&&setValueByPath(n,["response"],f);const P=getValueByPath(e,["responseJsonSchema"]);return null!=P&&setValueByPath(n,["responseJsonSchema"],P),n}(e))),setValueByPath(n,["functionDeclarations"],e)}const u=getValueByPath(e,["retrieval"]);null!=u&&setValueByPath(n,["retrieval"],u);const h=getValueByPath(e,["googleSearch"]);null!=h&&setValueByPath(n,["googleSearch"],googleSearchToVertex(h));const d=getValueByPath(e,["googleSearchRetrieval"]);null!=d&&setValueByPath(n,["googleSearchRetrieval"],googleSearchRetrievalToVertex(d));null!=getValueByPath(e,["enterpriseWebSearch"])&&setValueByPath(n,["enterpriseWebSearch"],{});const f=getValueByPath(e,["googleMaps"]);null!=f&&setValueByPath(n,["googleMaps"],function(e){const n={},l=getValueByPath(e,["authConfig"]);return null!=l&&setValueByPath(n,["authConfig"],authConfigToVertex(l)),n}(f));null!=getValueByPath(e,["urlContext"])&&setValueByPath(n,["urlContext"],{});const P=getValueByPath(e,["codeExecution"]);null!=P&&setValueByPath(n,["codeExecution"],P);const V=getValueByPath(e,["computerUse"]);return null!=V&&setValueByPath(n,["computerUse"],V),n}function retrievalConfigToVertex(e){const n={},l=getValueByPath(e,["latLng"]);null!=l&&setValueByPath(n,["latLng"],function(e){const n={},l=getValueByPath(e,["latitude"]);null!=l&&setValueByPath(n,["latitude"],l);const u=getValueByPath(e,["longitude"]);return null!=u&&setValueByPath(n,["longitude"],u),n}(l));const u=getValueByPath(e,["languageCode"]);return null!=u&&setValueByPath(n,["languageCode"],u),n}function toolConfigToVertex(e){const n={},l=getValueByPath(e,["functionCallingConfig"]);null!=l&&setValueByPath(n,["functionCallingConfig"],function(e){const n={},l=getValueByPath(e,["mode"]);null!=l&&setValueByPath(n,["mode"],l);const u=getValueByPath(e,["allowedFunctionNames"]);return null!=u&&setValueByPath(n,["allowedFunctionNames"],u),n}(l));const u=getValueByPath(e,["retrievalConfig"]);return null!=u&&setValueByPath(n,["retrievalConfig"],retrievalConfigToVertex(u)),n}function voiceConfigToVertex(e){const n={},l=getValueByPath(e,["prebuiltVoiceConfig"]);return null!=l&&setValueByPath(n,["prebuiltVoiceConfig"],function(e){const n={},l=getValueByPath(e,["voiceName"]);return null!=l&&setValueByPath(n,["voiceName"],l),n}(l)),n}function generateContentConfigToVertex(e,n,l){const u={},h=getValueByPath(n,["systemInstruction"]);void 0!==l&&null!=h&&setValueByPath(l,["systemInstruction"],contentToVertex(tContent(h)));const d=getValueByPath(n,["temperature"]);null!=d&&setValueByPath(u,["temperature"],d);const f=getValueByPath(n,["topP"]);null!=f&&setValueByPath(u,["topP"],f);const P=getValueByPath(n,["topK"]);null!=P&&setValueByPath(u,["topK"],P);const V=getValueByPath(n,["candidateCount"]);null!=V&&setValueByPath(u,["candidateCount"],V);const B=getValueByPath(n,["maxOutputTokens"]);null!=B&&setValueByPath(u,["maxOutputTokens"],B);const b=getValueByPath(n,["stopSequences"]);null!=b&&setValueByPath(u,["stopSequences"],b);const C=getValueByPath(n,["responseLogprobs"]);null!=C&&setValueByPath(u,["responseLogprobs"],C);const S=getValueByPath(n,["logprobs"]);null!=S&&setValueByPath(u,["logprobs"],S);const x=getValueByPath(n,["presencePenalty"]);null!=x&&setValueByPath(u,["presencePenalty"],x);const E=getValueByPath(n,["frequencyPenalty"]);null!=E&&setValueByPath(u,["frequencyPenalty"],E);const _=getValueByPath(n,["seed"]);null!=_&&setValueByPath(u,["seed"],_);const O=getValueByPath(n,["responseMimeType"]);null!=O&&setValueByPath(u,["responseMimeType"],O);const A=getValueByPath(n,["responseSchema"]);null!=A&&setValueByPath(u,["responseSchema"],function(e){const n={},l=getValueByPath(e,["anyOf"]);null!=l&&setValueByPath(n,["anyOf"],l);const u=getValueByPath(e,["default"]);null!=u&&setValueByPath(n,["default"],u);const h=getValueByPath(e,["description"]);null!=h&&setValueByPath(n,["description"],h);const d=getValueByPath(e,["enum"]);null!=d&&setValueByPath(n,["enum"],d);const f=getValueByPath(e,["example"]);null!=f&&setValueByPath(n,["example"],f);const P=getValueByPath(e,["format"]);null!=P&&setValueByPath(n,["format"],P);const V=getValueByPath(e,["items"]);null!=V&&setValueByPath(n,["items"],V);const B=getValueByPath(e,["maxItems"]);null!=B&&setValueByPath(n,["maxItems"],B);const b=getValueByPath(e,["maxLength"]);null!=b&&setValueByPath(n,["maxLength"],b);const C=getValueByPath(e,["maxProperties"]);null!=C&&setValueByPath(n,["maxProperties"],C);const S=getValueByPath(e,["maximum"]);null!=S&&setValueByPath(n,["maximum"],S);const x=getValueByPath(e,["minItems"]);null!=x&&setValueByPath(n,["minItems"],x);const E=getValueByPath(e,["minLength"]);null!=E&&setValueByPath(n,["minLength"],E);const _=getValueByPath(e,["minProperties"]);null!=_&&setValueByPath(n,["minProperties"],_);const O=getValueByPath(e,["minimum"]);null!=O&&setValueByPath(n,["minimum"],O);const A=getValueByPath(e,["nullable"]);null!=A&&setValueByPath(n,["nullable"],A);const q=getValueByPath(e,["pattern"]);null!=q&&setValueByPath(n,["pattern"],q);const N=getValueByPath(e,["properties"]);null!=N&&setValueByPath(n,["properties"],N);const D=getValueByPath(e,["propertyOrdering"]);null!=D&&setValueByPath(n,["propertyOrdering"],D);const L=getValueByPath(e,["required"]);null!=L&&setValueByPath(n,["required"],L);const U=getValueByPath(e,["title"]);null!=U&&setValueByPath(n,["title"],U);const j=getValueByPath(e,["type"]);return null!=j&&setValueByPath(n,["type"],j),n}(tSchema(A)));const q=getValueByPath(n,["responseJsonSchema"]);null!=q&&setValueByPath(u,["responseJsonSchema"],q);const N=getValueByPath(n,["routingConfig"]);null!=N&&setValueByPath(u,["routingConfig"],N);const D=getValueByPath(n,["modelSelectionConfig"]);null!=D&&setValueByPath(u,["modelConfig"],function(e){const n={},l=getValueByPath(e,["featureSelectionPreference"]);return null!=l&&setValueByPath(n,["featureSelectionPreference"],l),n}(D));const L=getValueByPath(n,["safetySettings"]);if(void 0!==l&&null!=L){let e=L;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["method"]);null!=l&&setValueByPath(n,["method"],l);const u=getValueByPath(e,["category"]);null!=u&&setValueByPath(n,["category"],u);const h=getValueByPath(e,["threshold"]);return null!=h&&setValueByPath(n,["threshold"],h),n}(e))),setValueByPath(l,["safetySettings"],e)}const U=getValueByPath(n,["tools"]);if(void 0!==l&&null!=U){let e=tTools(U);Array.isArray(e)&&(e=e.map(e=>toolToVertex(tTool(e)))),setValueByPath(l,["tools"],e)}const j=getValueByPath(n,["toolConfig"]);void 0!==l&&null!=j&&setValueByPath(l,["toolConfig"],toolConfigToVertex(j));const $=getValueByPath(n,["labels"]);void 0!==l&&null!=$&&setValueByPath(l,["labels"],$);const z=getValueByPath(n,["cachedContent"]);void 0!==l&&null!=z&&setValueByPath(l,["cachedContent"],tCachedContentName(e,z));const W=getValueByPath(n,["responseModalities"]);null!=W&&setValueByPath(u,["responseModalities"],W);const Y=getValueByPath(n,["mediaResolution"]);null!=Y&&setValueByPath(u,["mediaResolution"],Y);const X=getValueByPath(n,["speechConfig"]);null!=X&&setValueByPath(u,["speechConfig"],function(e){const n={},l=getValueByPath(e,["voiceConfig"]);if(null!=l&&setValueByPath(n,["voiceConfig"],voiceConfigToVertex(l)),void 0!==getValueByPath(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const u=getValueByPath(e,["languageCode"]);return null!=u&&setValueByPath(n,["languageCode"],u),n}(tSpeechConfig(X)));const Q=getValueByPath(n,["audioTimestamp"]);null!=Q&&setValueByPath(u,["audioTimestamp"],Q);const Z=getValueByPath(n,["thinkingConfig"]);return null!=Z&&setValueByPath(u,["thinkingConfig"],function(e){const n={},l=getValueByPath(e,["includeThoughts"]);null!=l&&setValueByPath(n,["includeThoughts"],l);const u=getValueByPath(e,["thinkingBudget"]);return null!=u&&setValueByPath(n,["thinkingBudget"],u),n}(Z)),u}function generateContentParametersToVertex(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["contents"]);if(null!=h){let e=tContents(h);Array.isArray(e)&&(e=e.map(e=>contentToVertex(e))),setValueByPath(l,["contents"],e)}const d=getValueByPath(n,["config"]);return null!=d&&setValueByPath(l,["generationConfig"],generateContentConfigToVertex(e,d,l)),l}function embedContentParametersToVertex(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["contents"]);null!=h&&setValueByPath(l,["instances[]","content"],tContentsForEmbed(e,h));const d=getValueByPath(n,["config"]);return null!=d&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["taskType"]);void 0!==n&&null!=l&&setValueByPath(n,["instances[]","task_type"],l);const u=getValueByPath(e,["title"]);void 0!==n&&null!=u&&setValueByPath(n,["instances[]","title"],u);const h=getValueByPath(e,["outputDimensionality"]);void 0!==n&&null!=h&&setValueByPath(n,["parameters","outputDimensionality"],h);const d=getValueByPath(e,["mimeType"]);void 0!==n&&null!=d&&setValueByPath(n,["instances[]","mimeType"],d);const f=getValueByPath(e,["autoTruncate"]);return void 0!==n&&null!=f&&setValueByPath(n,["parameters","autoTruncate"],f),{}}(d,l)),l}function generateImagesParametersToVertex(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["prompt"]);null!=h&&setValueByPath(l,["instances[0]","prompt"],h);const d=getValueByPath(n,["config"]);return null!=d&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["outputGcsUri"]);void 0!==n&&null!=l&&setValueByPath(n,["parameters","storageUri"],l);const u=getValueByPath(e,["negativePrompt"]);void 0!==n&&null!=u&&setValueByPath(n,["parameters","negativePrompt"],u);const h=getValueByPath(e,["numberOfImages"]);void 0!==n&&null!=h&&setValueByPath(n,["parameters","sampleCount"],h);const d=getValueByPath(e,["aspectRatio"]);void 0!==n&&null!=d&&setValueByPath(n,["parameters","aspectRatio"],d);const f=getValueByPath(e,["guidanceScale"]);void 0!==n&&null!=f&&setValueByPath(n,["parameters","guidanceScale"],f);const P=getValueByPath(e,["seed"]);void 0!==n&&null!=P&&setValueByPath(n,["parameters","seed"],P);const V=getValueByPath(e,["safetyFilterLevel"]);void 0!==n&&null!=V&&setValueByPath(n,["parameters","safetySetting"],V);const B=getValueByPath(e,["personGeneration"]);void 0!==n&&null!=B&&setValueByPath(n,["parameters","personGeneration"],B);const b=getValueByPath(e,["includeSafetyAttributes"]);void 0!==n&&null!=b&&setValueByPath(n,["parameters","includeSafetyAttributes"],b);const C=getValueByPath(e,["includeRaiReason"]);void 0!==n&&null!=C&&setValueByPath(n,["parameters","includeRaiReason"],C);const S=getValueByPath(e,["language"]);void 0!==n&&null!=S&&setValueByPath(n,["parameters","language"],S);const x=getValueByPath(e,["outputMimeType"]);void 0!==n&&null!=x&&setValueByPath(n,["parameters","outputOptions","mimeType"],x);const E=getValueByPath(e,["outputCompressionQuality"]);void 0!==n&&null!=E&&setValueByPath(n,["parameters","outputOptions","compressionQuality"],E);const _=getValueByPath(e,["addWatermark"]);void 0!==n&&null!=_&&setValueByPath(n,["parameters","addWatermark"],_);const O=getValueByPath(e,["imageSize"]);void 0!==n&&null!=O&&setValueByPath(n,["parameters","sampleImageSize"],O);const A=getValueByPath(e,["enhancePrompt"]);return void 0!==n&&null!=A&&setValueByPath(n,["parameters","enhancePrompt"],A),{}}(d,l)),l}function imageToVertex(e){const n={},l=getValueByPath(e,["gcsUri"]);null!=l&&setValueByPath(n,["gcsUri"],l);const u=getValueByPath(e,["imageBytes"]);null!=u&&setValueByPath(n,["bytesBase64Encoded"],tBytes(u));const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}function referenceImageAPIInternalToVertex(e){const n={},l=getValueByPath(e,["referenceImage"]);null!=l&&setValueByPath(n,["referenceImage"],imageToVertex(l));const u=getValueByPath(e,["referenceId"]);null!=u&&setValueByPath(n,["referenceId"],u);const h=getValueByPath(e,["referenceType"]);null!=h&&setValueByPath(n,["referenceType"],h);const d=getValueByPath(e,["maskImageConfig"]);null!=d&&setValueByPath(n,["maskImageConfig"],function(e){const n={},l=getValueByPath(e,["maskMode"]);null!=l&&setValueByPath(n,["maskMode"],l);const u=getValueByPath(e,["segmentationClasses"]);null!=u&&setValueByPath(n,["maskClasses"],u);const h=getValueByPath(e,["maskDilation"]);return null!=h&&setValueByPath(n,["dilation"],h),n}(d));const f=getValueByPath(e,["controlImageConfig"]);null!=f&&setValueByPath(n,["controlImageConfig"],function(e){const n={},l=getValueByPath(e,["controlType"]);null!=l&&setValueByPath(n,["controlType"],l);const u=getValueByPath(e,["enableControlImageComputation"]);return null!=u&&setValueByPath(n,["computeControl"],u),n}(f));const P=getValueByPath(e,["styleImageConfig"]);null!=P&&setValueByPath(n,["styleImageConfig"],function(e){const n={},l=getValueByPath(e,["styleDescription"]);return null!=l&&setValueByPath(n,["styleDescription"],l),n}(P));const V=getValueByPath(e,["subjectImageConfig"]);return null!=V&&setValueByPath(n,["subjectImageConfig"],function(e){const n={},l=getValueByPath(e,["subjectType"]);null!=l&&setValueByPath(n,["subjectType"],l);const u=getValueByPath(e,["subjectDescription"]);return null!=u&&setValueByPath(n,["subjectDescription"],u),n}(V)),n}function editImageParametersInternalToVertex(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["prompt"]);null!=h&&setValueByPath(l,["instances[0]","prompt"],h);const d=getValueByPath(n,["referenceImages"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>referenceImageAPIInternalToVertex(e))),setValueByPath(l,["instances[0]","referenceImages"],e)}const f=getValueByPath(n,["config"]);return null!=f&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["outputGcsUri"]);void 0!==n&&null!=l&&setValueByPath(n,["parameters","storageUri"],l);const u=getValueByPath(e,["negativePrompt"]);void 0!==n&&null!=u&&setValueByPath(n,["parameters","negativePrompt"],u);const h=getValueByPath(e,["numberOfImages"]);void 0!==n&&null!=h&&setValueByPath(n,["parameters","sampleCount"],h);const d=getValueByPath(e,["aspectRatio"]);void 0!==n&&null!=d&&setValueByPath(n,["parameters","aspectRatio"],d);const f=getValueByPath(e,["guidanceScale"]);void 0!==n&&null!=f&&setValueByPath(n,["parameters","guidanceScale"],f);const P=getValueByPath(e,["seed"]);void 0!==n&&null!=P&&setValueByPath(n,["parameters","seed"],P);const V=getValueByPath(e,["safetyFilterLevel"]);void 0!==n&&null!=V&&setValueByPath(n,["parameters","safetySetting"],V);const B=getValueByPath(e,["personGeneration"]);void 0!==n&&null!=B&&setValueByPath(n,["parameters","personGeneration"],B);const b=getValueByPath(e,["includeSafetyAttributes"]);void 0!==n&&null!=b&&setValueByPath(n,["parameters","includeSafetyAttributes"],b);const C=getValueByPath(e,["includeRaiReason"]);void 0!==n&&null!=C&&setValueByPath(n,["parameters","includeRaiReason"],C);const S=getValueByPath(e,["language"]);void 0!==n&&null!=S&&setValueByPath(n,["parameters","language"],S);const x=getValueByPath(e,["outputMimeType"]);void 0!==n&&null!=x&&setValueByPath(n,["parameters","outputOptions","mimeType"],x);const E=getValueByPath(e,["outputCompressionQuality"]);void 0!==n&&null!=E&&setValueByPath(n,["parameters","outputOptions","compressionQuality"],E);const _=getValueByPath(e,["addWatermark"]);void 0!==n&&null!=_&&setValueByPath(n,["parameters","addWatermark"],_);const O=getValueByPath(e,["editMode"]);void 0!==n&&null!=O&&setValueByPath(n,["parameters","editMode"],O);const A=getValueByPath(e,["baseSteps"]);return void 0!==n&&null!=A&&setValueByPath(n,["parameters","editConfig","baseSteps"],A),{}}(f,l)),l}function upscaleImageAPIParametersInternalToVertex(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["image"]);null!=h&&setValueByPath(l,["instances[0]","image"],imageToVertex(h));const d=getValueByPath(n,["upscaleFactor"]);null!=d&&setValueByPath(l,["parameters","upscaleConfig","upscaleFactor"],d);const f=getValueByPath(n,["config"]);return null!=f&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["includeRaiReason"]);void 0!==n&&null!=l&&setValueByPath(n,["parameters","includeRaiReason"],l);const u=getValueByPath(e,["outputMimeType"]);void 0!==n&&null!=u&&setValueByPath(n,["parameters","outputOptions","mimeType"],u);const h=getValueByPath(e,["outputCompressionQuality"]);void 0!==n&&null!=h&&setValueByPath(n,["parameters","outputOptions","compressionQuality"],h);const d=getValueByPath(e,["enhanceInputImage"]);void 0!==n&&null!=d&&setValueByPath(n,["parameters","upscaleConfig","enhanceInputImage"],d);const f=getValueByPath(e,["imagePreservationFactor"]);void 0!==n&&null!=f&&setValueByPath(n,["parameters","upscaleConfig","imagePreservationFactor"],f);const P=getValueByPath(e,["numberOfImages"]);void 0!==n&&null!=P&&setValueByPath(n,["parameters","sampleCount"],P);const V=getValueByPath(e,["mode"]);return void 0!==n&&null!=V&&setValueByPath(n,["parameters","mode"],V),{}}(f,l)),l}function recontextImageSourceToVertex(e,n){const l=getValueByPath(e,["prompt"]);void 0!==n&&null!=l&&setValueByPath(n,["instances[0]","prompt"],l);const u=getValueByPath(e,["personImage"]);void 0!==n&&null!=u&&setValueByPath(n,["instances[0]","personImage","image"],imageToVertex(u));const h=getValueByPath(e,["productImages"]);if(void 0!==n&&null!=h){let e=h;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["productImage"]);return null!=l&&setValueByPath(n,["image"],imageToVertex(l)),n}(e))),setValueByPath(n,["instances[0]","productImages"],e)}return{}}function recontextImageParametersToVertex(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["source"]);null!=h&&setValueByPath(l,["config"],recontextImageSourceToVertex(h,l));const d=getValueByPath(n,["config"]);return null!=d&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["numberOfImages"]);void 0!==n&&null!=l&&setValueByPath(n,["parameters","sampleCount"],l);const u=getValueByPath(e,["baseSteps"]);void 0!==n&&null!=u&&setValueByPath(n,["parameters","editConfig","baseSteps"],u);const h=getValueByPath(e,["outputGcsUri"]);void 0!==n&&null!=h&&setValueByPath(n,["parameters","storageUri"],h);const d=getValueByPath(e,["seed"]);void 0!==n&&null!=d&&setValueByPath(n,["parameters","seed"],d);const f=getValueByPath(e,["safetyFilterLevel"]);void 0!==n&&null!=f&&setValueByPath(n,["parameters","safetySetting"],f);const P=getValueByPath(e,["personGeneration"]);void 0!==n&&null!=P&&setValueByPath(n,["parameters","personGeneration"],P);const V=getValueByPath(e,["outputMimeType"]);void 0!==n&&null!=V&&setValueByPath(n,["parameters","outputOptions","mimeType"],V);const B=getValueByPath(e,["outputCompressionQuality"]);void 0!==n&&null!=B&&setValueByPath(n,["parameters","outputOptions","compressionQuality"],B);const b=getValueByPath(e,["enhancePrompt"]);return void 0!==n&&null!=b&&setValueByPath(n,["parameters","enhancePrompt"],b),{}}(d,l)),l}function listModelsParametersToVertex(e,n){const l={},u=getValueByPath(n,["config"]);return null!=u&&setValueByPath(l,["config"],function(e,n,l){const u=getValueByPath(n,["pageSize"]);void 0!==l&&null!=u&&setValueByPath(l,["_query","pageSize"],u);const h=getValueByPath(n,["pageToken"]);void 0!==l&&null!=h&&setValueByPath(l,["_query","pageToken"],h);const d=getValueByPath(n,["filter"]);void 0!==l&&null!=d&&setValueByPath(l,["_query","filter"],d);const f=getValueByPath(n,["queryBase"]);return void 0!==l&&null!=f&&setValueByPath(l,["_url","models_url"],tModelsUrl(e,f)),{}}(e,u,l)),l}function updateModelParametersToVertex(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["displayName"]);void 0!==n&&null!=l&&setValueByPath(n,["displayName"],l);const u=getValueByPath(e,["description"]);void 0!==n&&null!=u&&setValueByPath(n,["description"],u);const h=getValueByPath(e,["defaultCheckpointId"]);return void 0!==n&&null!=h&&setValueByPath(n,["defaultCheckpointId"],h),{}}(h,l)),l}function countTokensParametersToVertex(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["contents"]);if(null!=h){let e=tContents(h);Array.isArray(e)&&(e=e.map(e=>contentToVertex(e))),setValueByPath(l,["contents"],e)}const d=getValueByPath(n,["config"]);return null!=d&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["systemInstruction"]);void 0!==n&&null!=l&&setValueByPath(n,["systemInstruction"],contentToVertex(tContent(l)));const u=getValueByPath(e,["tools"]);if(void 0!==n&&null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>toolToVertex(e))),setValueByPath(n,["tools"],e)}const h=getValueByPath(e,["generationConfig"]);return void 0!==n&&null!=h&&setValueByPath(n,["generationConfig"],h),{}}(d,l)),l}function generateVideosParametersToVertex(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["prompt"]);null!=h&&setValueByPath(l,["instances[0]","prompt"],h);const d=getValueByPath(n,["image"]);null!=d&&setValueByPath(l,["instances[0]","image"],imageToVertex(d));const f=getValueByPath(n,["video"]);null!=f&&setValueByPath(l,["instances[0]","video"],function(e){const n={},l=getValueByPath(e,["uri"]);null!=l&&setValueByPath(n,["gcsUri"],l);const u=getValueByPath(e,["videoBytes"]);null!=u&&setValueByPath(n,["bytesBase64Encoded"],tBytes(u));const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(f));const P=getValueByPath(n,["config"]);return null!=P&&setValueByPath(l,["config"],function(e,n){const l=getValueByPath(e,["numberOfVideos"]);void 0!==n&&null!=l&&setValueByPath(n,["parameters","sampleCount"],l);const u=getValueByPath(e,["outputGcsUri"]);void 0!==n&&null!=u&&setValueByPath(n,["parameters","storageUri"],u);const h=getValueByPath(e,["fps"]);void 0!==n&&null!=h&&setValueByPath(n,["parameters","fps"],h);const d=getValueByPath(e,["durationSeconds"]);void 0!==n&&null!=d&&setValueByPath(n,["parameters","durationSeconds"],d);const f=getValueByPath(e,["seed"]);void 0!==n&&null!=f&&setValueByPath(n,["parameters","seed"],f);const P=getValueByPath(e,["aspectRatio"]);void 0!==n&&null!=P&&setValueByPath(n,["parameters","aspectRatio"],P);const V=getValueByPath(e,["resolution"]);void 0!==n&&null!=V&&setValueByPath(n,["parameters","resolution"],V);const B=getValueByPath(e,["personGeneration"]);void 0!==n&&null!=B&&setValueByPath(n,["parameters","personGeneration"],B);const b=getValueByPath(e,["pubsubTopic"]);void 0!==n&&null!=b&&setValueByPath(n,["parameters","pubsubTopic"],b);const C=getValueByPath(e,["negativePrompt"]);void 0!==n&&null!=C&&setValueByPath(n,["parameters","negativePrompt"],C);const S=getValueByPath(e,["enhancePrompt"]);void 0!==n&&null!=S&&setValueByPath(n,["parameters","enhancePrompt"],S);const x=getValueByPath(e,["generateAudio"]);void 0!==n&&null!=x&&setValueByPath(n,["parameters","generateAudio"],x);const E=getValueByPath(e,["lastFrame"]);void 0!==n&&null!=E&&setValueByPath(n,["instances[0]","lastFrame"],imageToVertex(E));const _=getValueByPath(e,["compressionQuality"]);return void 0!==n&&null!=_&&setValueByPath(n,["parameters","compressionQuality"],_),{}}(P,l)),l}function partFromMldev(e){const n={},l=getValueByPath(e,["videoMetadata"]);null!=l&&setValueByPath(n,["videoMetadata"],function(e){const n={},l=getValueByPath(e,["fps"]);null!=l&&setValueByPath(n,["fps"],l);const u=getValueByPath(e,["endOffset"]);null!=u&&setValueByPath(n,["endOffset"],u);const h=getValueByPath(e,["startOffset"]);return null!=h&&setValueByPath(n,["startOffset"],h),n}(l));const u=getValueByPath(e,["thought"]);null!=u&&setValueByPath(n,["thought"],u);const h=getValueByPath(e,["inlineData"]);null!=h&&setValueByPath(n,["inlineData"],function(e){const n={},l=getValueByPath(e,["data"]);null!=l&&setValueByPath(n,["data"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(h));const d=getValueByPath(e,["fileData"]);null!=d&&setValueByPath(n,["fileData"],function(e){const n={},l=getValueByPath(e,["fileUri"]);null!=l&&setValueByPath(n,["fileUri"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(d));const f=getValueByPath(e,["thoughtSignature"]);null!=f&&setValueByPath(n,["thoughtSignature"],f);const P=getValueByPath(e,["codeExecutionResult"]);null!=P&&setValueByPath(n,["codeExecutionResult"],P);const V=getValueByPath(e,["executableCode"]);null!=V&&setValueByPath(n,["executableCode"],V);const B=getValueByPath(e,["functionCall"]);null!=B&&setValueByPath(n,["functionCall"],B);const b=getValueByPath(e,["functionResponse"]);null!=b&&setValueByPath(n,["functionResponse"],b);const C=getValueByPath(e,["text"]);return null!=C&&setValueByPath(n,["text"],C),n}function urlContextMetadataFromMldev(e){const n={},l=getValueByPath(e,["urlMetadata"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["retrievedUrl"]);null!=l&&setValueByPath(n,["retrievedUrl"],l);const u=getValueByPath(e,["urlRetrievalStatus"]);return null!=u&&setValueByPath(n,["urlRetrievalStatus"],u),n}(e))),setValueByPath(n,["urlMetadata"],e)}return n}function candidateFromMldev(e){const n={},l=getValueByPath(e,["content"]);null!=l&&setValueByPath(n,["content"],function(e){const n={},l=getValueByPath(e,["parts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>partFromMldev(e))),setValueByPath(n,["parts"],e)}const u=getValueByPath(e,["role"]);return null!=u&&setValueByPath(n,["role"],u),n}(l));const u=getValueByPath(e,["citationMetadata"]);null!=u&&setValueByPath(n,["citationMetadata"],function(e){const n={},l=getValueByPath(e,["citationSources"]);return null!=l&&setValueByPath(n,["citations"],l),n}(u));const h=getValueByPath(e,["tokenCount"]);null!=h&&setValueByPath(n,["tokenCount"],h);const d=getValueByPath(e,["finishReason"]);null!=d&&setValueByPath(n,["finishReason"],d);const f=getValueByPath(e,["urlContextMetadata"]);null!=f&&setValueByPath(n,["urlContextMetadata"],urlContextMetadataFromMldev(f));const P=getValueByPath(e,["avgLogprobs"]);null!=P&&setValueByPath(n,["avgLogprobs"],P);const V=getValueByPath(e,["groundingMetadata"]);null!=V&&setValueByPath(n,["groundingMetadata"],V);const B=getValueByPath(e,["index"]);null!=B&&setValueByPath(n,["index"],B);const b=getValueByPath(e,["logprobsResult"]);null!=b&&setValueByPath(n,["logprobsResult"],b);const C=getValueByPath(e,["safetyRatings"]);return null!=C&&setValueByPath(n,["safetyRatings"],C),n}function generateContentResponseFromMldev(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["candidates"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>candidateFromMldev(e))),setValueByPath(n,["candidates"],e)}const h=getValueByPath(e,["modelVersion"]);null!=h&&setValueByPath(n,["modelVersion"],h);const d=getValueByPath(e,["promptFeedback"]);null!=d&&setValueByPath(n,["promptFeedback"],d);const f=getValueByPath(e,["responseId"]);null!=f&&setValueByPath(n,["responseId"],f);const P=getValueByPath(e,["usageMetadata"]);return null!=P&&setValueByPath(n,["usageMetadata"],P),n}function embedContentResponseFromMldev(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["embeddings"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["values"]);return null!=l&&setValueByPath(n,["values"],l),n}(e))),setValueByPath(n,["embeddings"],e)}return null!=getValueByPath(e,["metadata"])&&setValueByPath(n,["metadata"],{}),n}function safetyAttributesFromMldev(e){const n={},l=getValueByPath(e,["safetyAttributes","categories"]);null!=l&&setValueByPath(n,["categories"],l);const u=getValueByPath(e,["safetyAttributes","scores"]);null!=u&&setValueByPath(n,["scores"],u);const h=getValueByPath(e,["contentType"]);return null!=h&&setValueByPath(n,["contentType"],h),n}function generatedImageFromMldev(e){const n={},l=getValueByPath(e,["_self"]);null!=l&&setValueByPath(n,["image"],function(e){const n={},l=getValueByPath(e,["bytesBase64Encoded"]);null!=l&&setValueByPath(n,["imageBytes"],tBytes(l));const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(l));const u=getValueByPath(e,["raiFilteredReason"]);null!=u&&setValueByPath(n,["raiFilteredReason"],u);const h=getValueByPath(e,["_self"]);return null!=h&&setValueByPath(n,["safetyAttributes"],safetyAttributesFromMldev(h)),n}function modelFromMldev(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["name"],l);const u=getValueByPath(e,["displayName"]);null!=u&&setValueByPath(n,["displayName"],u);const h=getValueByPath(e,["description"]);null!=h&&setValueByPath(n,["description"],h);const d=getValueByPath(e,["version"]);null!=d&&setValueByPath(n,["version"],d);const f=getValueByPath(e,["_self"]);null!=f&&setValueByPath(n,["tunedModelInfo"],function(e){const n={},l=getValueByPath(e,["baseModel"]);null!=l&&setValueByPath(n,["baseModel"],l);const u=getValueByPath(e,["createTime"]);null!=u&&setValueByPath(n,["createTime"],u);const h=getValueByPath(e,["updateTime"]);return null!=h&&setValueByPath(n,["updateTime"],h),n}(f));const P=getValueByPath(e,["inputTokenLimit"]);null!=P&&setValueByPath(n,["inputTokenLimit"],P);const V=getValueByPath(e,["outputTokenLimit"]);null!=V&&setValueByPath(n,["outputTokenLimit"],V);const B=getValueByPath(e,["supportedGenerationMethods"]);return null!=B&&setValueByPath(n,["supportedActions"],B),n}function generatedVideoFromMldev(e){const n={},l=getValueByPath(e,["_self"]);return null!=l&&setValueByPath(n,["video"],function(e){const n={},l=getValueByPath(e,["video","uri"]);null!=l&&setValueByPath(n,["uri"],l);const u=getValueByPath(e,["video","encodedVideo"]);null!=u&&setValueByPath(n,["videoBytes"],tBytes(u));const h=getValueByPath(e,["encoding"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(l)),n}function generateVideosOperationFromMldev(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["name"],l);const u=getValueByPath(e,["metadata"]);null!=u&&setValueByPath(n,["metadata"],u);const h=getValueByPath(e,["done"]);null!=h&&setValueByPath(n,["done"],h);const d=getValueByPath(e,["error"]);null!=d&&setValueByPath(n,["error"],d);const f=getValueByPath(e,["response","generateVideoResponse"]);return null!=f&&setValueByPath(n,["response"],function(e){const n={},l=getValueByPath(e,["generatedSamples"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>generatedVideoFromMldev(e))),setValueByPath(n,["generatedVideos"],e)}const u=getValueByPath(e,["raiMediaFilteredCount"]);null!=u&&setValueByPath(n,["raiMediaFilteredCount"],u);const h=getValueByPath(e,["raiMediaFilteredReasons"]);return null!=h&&setValueByPath(n,["raiMediaFilteredReasons"],h),n}(f)),n}function partFromVertex(e){const n={},l=getValueByPath(e,["videoMetadata"]);null!=l&&setValueByPath(n,["videoMetadata"],function(e){const n={},l=getValueByPath(e,["fps"]);null!=l&&setValueByPath(n,["fps"],l);const u=getValueByPath(e,["endOffset"]);null!=u&&setValueByPath(n,["endOffset"],u);const h=getValueByPath(e,["startOffset"]);return null!=h&&setValueByPath(n,["startOffset"],h),n}(l));const u=getValueByPath(e,["thought"]);null!=u&&setValueByPath(n,["thought"],u);const h=getValueByPath(e,["inlineData"]);null!=h&&setValueByPath(n,["inlineData"],function(e){const n={},l=getValueByPath(e,["displayName"]);null!=l&&setValueByPath(n,["displayName"],l);const u=getValueByPath(e,["data"]);null!=u&&setValueByPath(n,["data"],u);const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(h));const d=getValueByPath(e,["fileData"]);null!=d&&setValueByPath(n,["fileData"],function(e){const n={},l=getValueByPath(e,["displayName"]);null!=l&&setValueByPath(n,["displayName"],l);const u=getValueByPath(e,["fileUri"]);null!=u&&setValueByPath(n,["fileUri"],u);const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(d));const f=getValueByPath(e,["thoughtSignature"]);null!=f&&setValueByPath(n,["thoughtSignature"],f);const P=getValueByPath(e,["codeExecutionResult"]);null!=P&&setValueByPath(n,["codeExecutionResult"],P);const V=getValueByPath(e,["executableCode"]);null!=V&&setValueByPath(n,["executableCode"],V);const B=getValueByPath(e,["functionCall"]);null!=B&&setValueByPath(n,["functionCall"],B);const b=getValueByPath(e,["functionResponse"]);null!=b&&setValueByPath(n,["functionResponse"],b);const C=getValueByPath(e,["text"]);return null!=C&&setValueByPath(n,["text"],C),n}function urlContextMetadataFromVertex(e){const n={},l=getValueByPath(e,["urlMetadata"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["retrievedUrl"]);null!=l&&setValueByPath(n,["retrievedUrl"],l);const u=getValueByPath(e,["urlRetrievalStatus"]);return null!=u&&setValueByPath(n,["urlRetrievalStatus"],u),n}(e))),setValueByPath(n,["urlMetadata"],e)}return n}function candidateFromVertex(e){const n={},l=getValueByPath(e,["content"]);null!=l&&setValueByPath(n,["content"],function(e){const n={},l=getValueByPath(e,["parts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>partFromVertex(e))),setValueByPath(n,["parts"],e)}const u=getValueByPath(e,["role"]);return null!=u&&setValueByPath(n,["role"],u),n}(l));const u=getValueByPath(e,["citationMetadata"]);null!=u&&setValueByPath(n,["citationMetadata"],function(e){const n={},l=getValueByPath(e,["citations"]);return null!=l&&setValueByPath(n,["citations"],l),n}(u));const h=getValueByPath(e,["finishMessage"]);null!=h&&setValueByPath(n,["finishMessage"],h);const d=getValueByPath(e,["finishReason"]);null!=d&&setValueByPath(n,["finishReason"],d);const f=getValueByPath(e,["urlContextMetadata"]);null!=f&&setValueByPath(n,["urlContextMetadata"],urlContextMetadataFromVertex(f));const P=getValueByPath(e,["avgLogprobs"]);null!=P&&setValueByPath(n,["avgLogprobs"],P);const V=getValueByPath(e,["groundingMetadata"]);null!=V&&setValueByPath(n,["groundingMetadata"],V);const B=getValueByPath(e,["index"]);null!=B&&setValueByPath(n,["index"],B);const b=getValueByPath(e,["logprobsResult"]);null!=b&&setValueByPath(n,["logprobsResult"],b);const C=getValueByPath(e,["safetyRatings"]);return null!=C&&setValueByPath(n,["safetyRatings"],C),n}function generateContentResponseFromVertex(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["candidates"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>candidateFromVertex(e))),setValueByPath(n,["candidates"],e)}const h=getValueByPath(e,["createTime"]);null!=h&&setValueByPath(n,["createTime"],h);const d=getValueByPath(e,["modelVersion"]);null!=d&&setValueByPath(n,["modelVersion"],d);const f=getValueByPath(e,["promptFeedback"]);null!=f&&setValueByPath(n,["promptFeedback"],f);const P=getValueByPath(e,["responseId"]);null!=P&&setValueByPath(n,["responseId"],P);const V=getValueByPath(e,["usageMetadata"]);return null!=V&&setValueByPath(n,["usageMetadata"],V),n}function contentEmbeddingFromVertex(e){const n={},l=getValueByPath(e,["values"]);null!=l&&setValueByPath(n,["values"],l);const u=getValueByPath(e,["statistics"]);return null!=u&&setValueByPath(n,["statistics"],function(e){const n={},l=getValueByPath(e,["truncated"]);null!=l&&setValueByPath(n,["truncated"],l);const u=getValueByPath(e,["token_count"]);return null!=u&&setValueByPath(n,["tokenCount"],u),n}(u)),n}function embedContentResponseFromVertex(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["predictions[]","embeddings"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>contentEmbeddingFromVertex(e))),setValueByPath(n,["embeddings"],e)}const h=getValueByPath(e,["metadata"]);return null!=h&&setValueByPath(n,["metadata"],function(e){const n={},l=getValueByPath(e,["billableCharacterCount"]);return null!=l&&setValueByPath(n,["billableCharacterCount"],l),n}(h)),n}function safetyAttributesFromVertex(e){const n={},l=getValueByPath(e,["safetyAttributes","categories"]);null!=l&&setValueByPath(n,["categories"],l);const u=getValueByPath(e,["safetyAttributes","scores"]);null!=u&&setValueByPath(n,["scores"],u);const h=getValueByPath(e,["contentType"]);return null!=h&&setValueByPath(n,["contentType"],h),n}function generatedImageFromVertex(e){const n={},l=getValueByPath(e,["_self"]);null!=l&&setValueByPath(n,["image"],function(e){const n={},l=getValueByPath(e,["gcsUri"]);null!=l&&setValueByPath(n,["gcsUri"],l);const u=getValueByPath(e,["bytesBase64Encoded"]);null!=u&&setValueByPath(n,["imageBytes"],tBytes(u));const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(l));const u=getValueByPath(e,["raiFilteredReason"]);null!=u&&setValueByPath(n,["raiFilteredReason"],u);const h=getValueByPath(e,["_self"]);null!=h&&setValueByPath(n,["safetyAttributes"],safetyAttributesFromVertex(h));const d=getValueByPath(e,["prompt"]);return null!=d&&setValueByPath(n,["enhancedPrompt"],d),n}function modelFromVertex(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["name"],l);const u=getValueByPath(e,["displayName"]);null!=u&&setValueByPath(n,["displayName"],u);const h=getValueByPath(e,["description"]);null!=h&&setValueByPath(n,["description"],h);const d=getValueByPath(e,["versionId"]);null!=d&&setValueByPath(n,["version"],d);const f=getValueByPath(e,["deployedModels"]);if(null!=f){let e=f;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["endpoint"]);null!=l&&setValueByPath(n,["name"],l);const u=getValueByPath(e,["deployedModelId"]);return null!=u&&setValueByPath(n,["deployedModelId"],u),n}(e))),setValueByPath(n,["endpoints"],e)}const P=getValueByPath(e,["labels"]);null!=P&&setValueByPath(n,["labels"],P);const V=getValueByPath(e,["_self"]);null!=V&&setValueByPath(n,["tunedModelInfo"],function(e){const n={},l=getValueByPath(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=l&&setValueByPath(n,["baseModel"],l);const u=getValueByPath(e,["createTime"]);null!=u&&setValueByPath(n,["createTime"],u);const h=getValueByPath(e,["updateTime"]);return null!=h&&setValueByPath(n,["updateTime"],h),n}(V));const B=getValueByPath(e,["defaultCheckpointId"]);null!=B&&setValueByPath(n,["defaultCheckpointId"],B);const b=getValueByPath(e,["checkpoints"]);if(null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["checkpointId"]);null!=l&&setValueByPath(n,["checkpointId"],l);const u=getValueByPath(e,["epoch"]);null!=u&&setValueByPath(n,["epoch"],u);const h=getValueByPath(e,["step"]);return null!=h&&setValueByPath(n,["step"],h),n}(e))),setValueByPath(n,["checkpoints"],e)}return n}function generatedVideoFromVertex(e){const n={},l=getValueByPath(e,["_self"]);return null!=l&&setValueByPath(n,["video"],function(e){const n={},l=getValueByPath(e,["gcsUri"]);null!=l&&setValueByPath(n,["uri"],l);const u=getValueByPath(e,["bytesBase64Encoded"]);null!=u&&setValueByPath(n,["videoBytes"],tBytes(u));const h=getValueByPath(e,["mimeType"]);return null!=h&&setValueByPath(n,["mimeType"],h),n}(l)),n}function generateVideosOperationFromVertex(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["name"],l);const u=getValueByPath(e,["metadata"]);null!=u&&setValueByPath(n,["metadata"],u);const h=getValueByPath(e,["done"]);null!=h&&setValueByPath(n,["done"],h);const d=getValueByPath(e,["error"]);null!=d&&setValueByPath(n,["error"],d);const f=getValueByPath(e,["response"]);return null!=f&&setValueByPath(n,["response"],function(e){const n={},l=getValueByPath(e,["videos"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>generatedVideoFromVertex(e))),setValueByPath(n,["generatedVideos"],e)}const u=getValueByPath(e,["raiMediaFilteredCount"]);null!=u&&setValueByPath(n,["raiMediaFilteredCount"],u);const h=getValueByPath(e,["raiMediaFilteredReasons"]);return null!=h&&setValueByPath(n,["raiMediaFilteredReasons"],h),n}(f)),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ut="x-goog-api-client",jt=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Gt{constructor(e){var n,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta1",u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=null!==(l=this.clientOptions.apiVersion)&&void 0!==l?l:"v1beta",u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol="http:"==n.protocol?"ws":"wss",n.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,n,l){const u=[this.getRequestUrlInternal(n)];l&&u.push(this.getBaseResourcePath()),""!==e&&u.push(e);return new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,n,l);if(e.queryParams)for(const[d,f]of Object.entries(e.queryParams))u.searchParams.append(d,String(f));let h={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else h.body=e.body;return h=await this.includeExtraHttpOptionsToRequestInit(h,n,e.abortSignal),this.unaryApiCall(u,h,e.httpMethod)}patchHttpOptions(e,n){const l=JSON.parse(JSON.stringify(e));for(const[u,h]of Object.entries(n))"object"==typeof h?l[u]=Object.assign(Object.assign({},l[u]),h):void 0!==h&&(l[u]=h);return l}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,n,l);u.searchParams.has("alt")&&"sse"===u.searchParams.get("alt")||u.searchParams.set("alt","sse");let h={};return h.body=e.body,h=await this.includeExtraHttpOptionsToRequestInit(h,n,e.abortSignal),this.streamApiCall(u,h,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,l){if(n&&n.timeout||l){const u=new AbortController,h=u.signal;if(n.timeout&&(null==n?void 0:n.timeout)>0){const e=setTimeout(()=>u.abort(),n.timeout);e&&"function"==typeof e.unref&&e.unref()}l&&l.addEventListener("abort",()=>{u.abort()}),e.signal=h}return n&&null!==n.extraBody&&function(e,n){if(!n||0===Object.keys(n).length)return;if(e.body instanceof Blob)return;let l={};if("string"==typeof e.body&&e.body.length>0)try{const n=JSON.parse(e.body);if("object"!=typeof n||null===n||Array.isArray(n))return;l=n}catch(h){return}function deepMerge(e,n){const l=Object.assign({},e);for(const u in n)if(Object.prototype.hasOwnProperty.call(n,u)){const e=n[u],h=l[u];e&&"object"==typeof e&&!Array.isArray(e)&&h&&"object"==typeof h&&!Array.isArray(h)?l[u]=deepMerge(h,e):l[u]=e}return l}const u=deepMerge(l,n);e.body=JSON.stringify(u)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:l})).then(async e=>(await throwErrorIfNotOK(e),new yt(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,n,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:l})).then(async e=>(await throwErrorIfNotOK(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){var n;return __asyncGenerator(this,arguments,function*(){const l=null===(n=null==e?void 0:e.body)||void 0===n?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let n="";for(;;){const{done:d,value:f}=yield __await(l.read());if(d){if(n.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const P=u.decode(f,{stream:!0});try{const e=JSON.parse(P);if("error"in e){const n=JSON.parse(JSON.stringify(e.error)),l=n.status,u=n.code,h=`got status: ${l}. ${JSON.stringify(e)}`;if(u>=400&&u<600){throw new Lt({message:h,status:u})}}}catch(h){if("ApiError"===h.name)throw h}n+=P;let V=n.match(jt);for(;V;){const l=V[1];try{const u=new Response(l,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield __await(new yt(u)),n=n.slice(V[0].length),V=n.match(jt)}catch(h){throw new Error(`exception parsing stream chunk ${l}. ${h}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(e=>{throw new Error(`exception ${e} sending request`)})}getDefaultHeaders(){const e={},n="google-genai-sdk/1.13.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=n,e[Ut]=n,e["Content-Type"]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[l,u]of Object.entries(e.headers))n.append(l,u);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var l;const u={};null!=n&&(u.mimeType=n.mimeType,u.name=n.name,u.displayName=n.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const h=this.clientOptions.uploader,d=await h.stat(e);u.sizeBytes=String(d.size);const f=null!==(l=null==n?void 0:n.mimeType)&&void 0!==l?l:d.type;if(void 0===f||""===f)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=f;const P=await this.fetchUploadUrl(u,n);return h.upload(e,P,this)}async downloadFile(e){const n=this.clientOptions.downloader;await n.download(e,this)}async fetchUploadUrl(e,n){var l;let u={};u=(null==n?void 0:n.httpOptions)?n.httpOptions:{apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const h={file:e},d=await this.request({path:formatMap("upload/v1beta/files",h._url),body:JSON.stringify(h),httpMethod:"POST",httpOptions:u});if(!d||!(null==d?void 0:d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=null===(l=null==d?void 0:d.headers)||void 0===l?void 0:l["x-goog-upload-url"];if(void 0===f)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function throwErrorIfNotOK(e){var n;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const l=e.status;let u;u=(null===(n=e.headers.get("content-type"))||void 0===n?void 0:n.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const h=JSON.stringify(u);if(l>=400&&l<600){throw new Lt({message:h,status:l})}throw new Error(h)}}function hasMcpToolUsage(e){for(const n of e){if(isMcpCallableTool(n))return!0;if("object"==typeof n&&"inputSchema"in n)return!0}return false}function setMcpUsageHeader(e){var n;const l=null!==(n=e[Ut])&&void 0!==n?n:"";e[Ut]=(l+" mcp_used/unknown").trimStart()}function isMcpCallableTool(e){return null!==e&&"object"==typeof e&&e instanceof Ht}function listAllTools(e,n=100){return __asyncGenerator(this,arguments,function*(){let l,u=0;for(;u<n;){const n=yield __await(e.listTools({cursor:l}));for(const e of n.tools)yield yield __await(e),u++;if(!n.nextCursor)break;l=n.nextCursor}})}class Ht{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ht(e,n)}async initialize(){var e,n,l,u;if(this.mcpTools.length>0)return;const h={},d=[];for(const b of this.mcpClients)try{for(var f,P=!0,V=(n=void 0,__asyncValues(listAllTools(b)));!(e=(f=await V.next()).done);P=!0){u=f.value,P=!1;const e=u;d.push(e);const n=e.name;if(h[n])throw new Error(`Duplicate function name ${n} found in MCP tools. Please ensure function names are unique.`);h[n]=b}}catch(B){n={error:B}}finally{try{P||e||!(l=V.return)||await l.call(V)}finally{if(n)throw n.error}}this.mcpTools=d,this.functionNameToMcpClient=h}async tool(){return await this.initialize(),function(e,n={}){const l=[],u=new Set;for(const h of e){const e=h.name;if(u.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);u.add(e);const d=mcpToGeminiTool(h,n);d.functionDeclarations&&l.push(...d.functionDeclarations)}return{functionDeclarations:l}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[l.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const h=await e.callTool({name:l.name,arguments:l.args},void 0,u);n.push({functionResponse:{name:l.name,response:h.isError?{error:h}:h}})}return n}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $t{constructor(e,n,l){this.apiClient=e,this.auth=n,this.webSocketFactory=l}async connect(e){var n,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");const u=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion(),d=function(e){const n=new Headers;for(const[l,u]of Object.entries(e))n.append(l,u);return n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(this.apiClient.getDefaultHeaders()),f=`${u}/ws/google.ai.generativelanguage.${h}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let onopenResolve=()=>{};const P=new Promise(e=>{onopenResolve=e}),V=e.callbacks,B=(this.apiClient,{onopen:function(){onopenResolve({})},onmessage:e=>{!async function(e,n,l){const u=new Mt;let h;h=l.data instanceof Blob?JSON.parse(await l.data.text()):JSON.parse(l.data);const d=liveMusicServerMessageFromMldev(h);Object.assign(u,d),n(u)}(0,V.onmessage,e)},onerror:null!==(n=null==V?void 0:V.onerror)&&void 0!==n?n:function(e){},onclose:null!==(l=null==V?void 0:V.onclose)&&void 0!==l?l:function(e){}}),b=this.webSocketFactory.create(f,function(e){const n={};return e.forEach((e,l)=>{n[l]=e}),n}(d),B);b.connect(),await P;const C=liveMusicClientMessageToMldev({setup:liveMusicClientSetupToMldev({model:tModel(this.apiClient,e.model)})});return b.send(JSON.stringify(C)),new zt(b,this.apiClient)}}class zt{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=liveMusicClientContentToMldev(function(e){const n={},l=getValueByPath(e,["weightedPrompts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>weightedPromptToMldev(e))),setValueByPath(n,["weightedPrompts"],e)}return n}(e));this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=liveMusicClientMessageToMldev(function(e){const n={},l=getValueByPath(e,["musicGenerationConfig"]);return null!=l&&setValueByPath(n,["musicGenerationConfig"],liveMusicGenerationConfigToMldev(l)),n}(e));this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n=liveMusicClientMessageToMldev({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(lt.PLAY)}pause(){this.sendPlaybackControl(lt.PAUSE)}stop(){this.sendPlaybackControl(lt.STOP)}resetContext(){this.sendPlaybackControl(lt.RESET_CONTEXT)}close(){this.conn.close()}}class Jt{constructor(e,n,l){this.apiClient=e,this.auth=n,this.webSocketFactory=l,this.music=new $t(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,l,u,h,d,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const P=this.apiClient.getWebsocketBaseUrl(),V=this.apiClient.getApiVersion();let B;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&hasMcpToolUsage(e.config.tools)&&setMcpUsageHeader(b);const C=function(e){const n=new Headers;for(const[l,u]of Object.entries(e))n.append(l,u);return n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(b);if(this.apiClient.isVertexAI())B=`${P}/ws/google.cloud.aiplatform.${V}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const e=this.apiClient.getApiKey();let n="BidiGenerateContent",l="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(n="BidiGenerateContentConstrained",l="access_token"),B=`${P}/ws/google.ai.generativelanguage.${V}.GenerativeService.${n}?${l}=${e}`}let onopenResolve=()=>{};const S=new Promise(e=>{onopenResolve=e}),x=e.callbacks,E=this.apiClient,_={onopen:function(){var e;null===(e=null==x?void 0:x.onopen)||void 0===e||e.call(x),onopenResolve({})},onmessage:e=>{!async function(e,n,l){const u=new wt;let h;h=l.data instanceof Blob?await l.data.text():l.data instanceof ArrayBuffer?(new TextDecoder).decode(l.data):l.data;const d=JSON.parse(h);if(e.isVertexAI()){const e=liveServerMessageFromVertex(d);Object.assign(u,e)}else{const e=liveServerMessageFromMldev(d);Object.assign(u,e)}n(u)}(E,x.onmessage,e)},onerror:null!==(n=null==x?void 0:x.onerror)&&void 0!==n?n:function(e){},onclose:null!==(l=null==x?void 0:x.onclose)&&void 0!==l?l:function(e){}},O=this.webSocketFactory.create(B,function(e){const n={};return e.forEach((e,l)=>{n[l]=e}),n}(C),_);O.connect(),await S;let A=tModel(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){A=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+A}let q={};this.apiClient.isVertexAI()&&void 0===(null===(u=e.config)||void 0===u?void 0:u.responseModalities)&&(void 0===e.config?e.config={responseModalities:[ce.AUDIO]}:e.config.responseModalities=[ce.AUDIO]),null===(h=e.config)||void 0===h||h.generationConfig;const N=null!==(f=null===(d=e.config)||void 0===d?void 0:d.tools)&&void 0!==f?f:[],D=[];for(const U of N)if(this.isCallableTool(U)){const e=U;D.push(await e.tool())}else D.push(U);D.length>0&&(e.config.tools=D);const L={model:A,config:e.config,callbacks:e.callbacks};return q=this.apiClient.isVertexAI()?function(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["setup","model"],tModel(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],liveConnectConfigToVertex(h,l)),l}(this.apiClient,L):function(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["setup","model"],tModel(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],liveConnectConfigToMldev$1(h,l)),l}(this.apiClient,L),delete q.config,O.send(JSON.stringify(q)),new Yt(O,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}const Wt={turnComplete:!0};class Yt{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(null!==n.turns&&void 0!==n.turns){let u=[];try{u=tContents(n.turns),u=e.isVertexAI()?u.map(e=>contentToVertex(e)):u.map(e=>contentToMldev$1(e))}catch(l){throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:u,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let l=[];if(null==n.functionResponses)throw new Error("functionResponses is required.");if(l=Array.isArray(n.functionResponses)?n.functionResponses:[n.functionResponses],0===l.length)throw new Error("functionResponses is required.");for(const u of l){if("object"!=typeof u||null===u||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},Wt),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};n=this.apiClient.isVertexAI()?{realtimeInput:liveSendRealtimeInputParametersToVertex(e)}:{realtimeInput:liveSendRealtimeInputParametersToMldev(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function shouldDisableAfc(e){var n,l,u;if(null===(n=null==e?void 0:e.automaticFunctionCalling)||void 0===n?void 0:n.disable)return!0;let h=!1;for(const f of null!==(l=null==e?void 0:e.tools)&&void 0!==l?l:[])if(isCallableTool(f)){h=!0;break}if(!h)return!0;const d=null===(u=null==e?void 0:e.automaticFunctionCalling)||void 0===u?void 0:u.maximumRemoteCalls;return!!(d&&(d<0||!Number.isInteger(d))||0==d)}function isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}function shouldAppendAfcHistory(e){var n;return!(null===(n=null==e?void 0:e.automaticFunctionCalling)||void 0===n?void 0:n.ignoreCallHistory)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kt extends V{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var n,l,u,h,d;const f=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var n,l,u;return null!==(u=null===(l=null===(n=e.config)||void 0===n?void 0:n.tools)||void 0===l?void 0:l.some(e=>isCallableTool(e)))&&void 0!==u&&u}(e)||shouldDisableAfc(e.config))return await this.generateContentInternal(f);if(function(e){var n,l,u;return null!==(u=null===(l=null===(n=e.config)||void 0===n?void 0:n.tools)||void 0===l?void 0:l.some(e=>!isCallableTool(e)))&&void 0!==u&&u}(e))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let P,V;const B=tContents(f.contents),b=null!==(u=null===(l=null===(n=f.config)||void 0===n?void 0:n.automaticFunctionCalling)||void 0===l?void 0:l.maximumRemoteCalls)&&void 0!==u?u:10;let C=0;for(;C<b&&(P=await this.generateContentInternal(f),P.functionCalls&&0!==P.functionCalls.length);){const n=P.candidates[0].content,l=[];for(const u of null!==(d=null===(h=e.config)||void 0===h?void 0:h.tools)&&void 0!==d?d:[])if(isCallableTool(u)){const e=u,n=await e.callTool(P.functionCalls);l.push(...n)}C++,V={role:"user",parts:l},f.contents=tContents(f.contents),f.contents.push(n),f.contents.push(V),shouldAppendAfcHistory(f.config)&&(B.push(n),B.push(V))}return shouldAppendAfcHistory(f.config)&&(P.automaticFunctionCallingHistory=B),P},this.generateContentStream=async e=>{if(this.maybeMoveToResponseJsonSchem(e),shouldDisableAfc(e.config)){const n=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(n)}return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var n;let l;const u=[];if(null==e?void 0:e.generatedImages)for(const d of e.generatedImages)d&&(null==d?void 0:d.safetyAttributes)&&"Positive Prompt"===(null===(n=null==d?void 0:d.safetyAttributes)||void 0===n?void 0:n.contentType)?l=null==d?void 0:d.safetyAttributes:u.push(d);let h;return h=l?{generatedImages:u,positivePromptSafetyAttributes:l,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:u,sdkHttpResponse:e.sdkHttpResponse},h}),this.list=async e=>{var n;const l={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(null===(n=l.config)||void 0===n?void 0:n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new qt(ct.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(l),l)},this.editImage=async e=>{const n={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(n.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async e=>{let n={numberOfImages:1,mode:"upscale"};e.config&&(n=Object.assign(Object.assign({},n),e.config));const l={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:n};return await this.upscaleImageInternal(l)},this.generateVideos=async e=>await this.generateVideosInternal(e)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,l,u;const h=null===(n=e.config)||void 0===n?void 0:n.tools;if(!h)return e;const d=await Promise.all(h.map(async e=>{if(isCallableTool(e)){const n=e;return await n.tool()}return e})),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(f.config.tools=d,e.config&&e.config.tools&&hasMcpToolUsage(e.config.tools)){const n=null!==(u=null===(l=e.config.httpOptions)||void 0===l?void 0:l.headers)&&void 0!==u?u:{};let h=Object.assign({},n);0===Object.keys(h).length&&(h=this.apiClient.getDefaultHeaders()),setMcpUsageHeader(h),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return f}async initAfcToolsMap(e){var n,l,u;const h=new Map;for(const d of null!==(l=null===(n=e.config)||void 0===n?void 0:n.tools)&&void 0!==l?l:[])if(isCallableTool(d)){const e=d,n=await e.tool();for(const l of null!==(u=n.functionDeclarations)&&void 0!==u?u:[]){if(!l.name)throw new Error("Function declaration name is required.");if(h.has(l.name))throw new Error(`Duplicate tool declaration name: ${l.name}`);h.set(l.name,e)}}return h}async processAfcStream(e){var n,l,u;const h=null!==(u=null===(l=null===(n=e.config)||void 0===n?void 0:n.automaticFunctionCalling)||void 0===l?void 0:l.maximumRemoteCalls)&&void 0!==u?u:10;let d=!1,f=0;return function(e,n,l){var u,P;return __asyncGenerator(this,arguments,function*(){for(var V,B,b,C;f<h;){d&&(f++,d=!1);const O=yield __await(e.processParamsMaybeAddMcpUsage(l)),A=yield __await(e.generateContentStreamInternal(O)),q=[],N=[];try{for(var S,x=!0,E=(B=void 0,__asyncValues(A));!(V=(S=yield __await(E.next())).done);x=!0){C=S.value,x=!1;const e=C;if(yield yield __await(e),e.candidates&&(null===(u=e.candidates[0])||void 0===u?void 0:u.content)){N.push(e.candidates[0].content);for(const l of null!==(P=e.candidates[0].content.parts)&&void 0!==P?P:[])if(f<h&&l.functionCall){if(!l.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!n.has(l.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${n.keys()}, mising tool: ${l.functionCall.name}`);{const e=yield __await(n.get(l.functionCall.name).callTool([l.functionCall]));q.push(...e)}}}}}catch(_){B={error:_}}finally{try{x||V||!(b=E.return)||(yield __await(b.call(E)))}finally{if(B)throw B.error}}if(!(q.length>0))break;{d=!0;const e=new dt;e.candidates=[{content:{role:"user",parts:q}}],yield yield __await(e);const n=[];n.push(...N),n.push({role:"user",parts:q});const u=tContents(l.contents).concat(n);l.contents=u}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=generateContentParametersToVertex(this.apiClient,e);return f=formatMap("{model}:generateContent",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=generateContentResponseFromVertex(e),l=new dt;return Object.assign(l,n),l})}{const n=generateContentParametersToMldev(this.apiClient,e);return f=formatMap("{model}:generateContent",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=generateContentResponseFromMldev(e),l=new dt;return Object.assign(l,n),l})}}async generateContentStreamInternal(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=generateContentParametersToVertex(this.apiClient,e);f=formatMap("{model}:streamGenerateContent?alt=sse",u._url),P=u._query,delete u.config,delete u._url,delete u._query;return d=this.apiClient.requestStream({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}),d.then(function(e){return __asyncGenerator(this,arguments,function*(){var n,l,u,h;try{for(var d,f=!0,P=__asyncValues(e);!(n=(d=yield __await(P.next())).done);f=!0){h=d.value,f=!1;const e=h,n=generateContentResponseFromVertex(yield __await(e.json()));n.sdkHttpResponse={headers:e.headers};const l=new dt;Object.assign(l,n),yield yield __await(l)}}catch(V){l={error:V}}finally{try{f||n||!(u=P.return)||(yield __await(u.call(P)))}finally{if(l)throw l.error}}})})}{const n=generateContentParametersToMldev(this.apiClient,e);f=formatMap("{model}:streamGenerateContent?alt=sse",n._url),P=n._query,delete n.config,delete n._url,delete n._query;return d=this.apiClient.requestStream({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}),d.then(function(e){return __asyncGenerator(this,arguments,function*(){var n,l,u,h;try{for(var d,f=!0,P=__asyncValues(e);!(n=(d=yield __await(P.next())).done);f=!0){h=d.value,f=!1;const e=h,n=generateContentResponseFromMldev(yield __await(e.json()));n.sdkHttpResponse={headers:e.headers};const l=new dt;Object.assign(l,n),yield yield __await(l)}}catch(V){l={error:V}}finally{try{f||n||!(u=P.return)||(yield __await(u.call(P)))}finally{if(l)throw l.error}}})})}}async embedContent(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=embedContentParametersToVertex(this.apiClient,e);return f=formatMap("{model}:predict",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=embedContentResponseFromVertex(e),l=new ft;return Object.assign(l,n),l})}{const n=embedContentParametersToMldev(this.apiClient,e);return f=formatMap("{model}:batchEmbedContents",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=embedContentResponseFromMldev(e),l=new ft;return Object.assign(l,n),l})}}async generateImagesInternal(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=generateImagesParametersToVertex(this.apiClient,e);return f=formatMap("{model}:predict",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["predictions"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>generatedImageFromVertex(e))),setValueByPath(n,["generatedImages"],e)}const h=getValueByPath(e,["positivePromptSafetyAttributes"]);return null!=h&&setValueByPath(n,["positivePromptSafetyAttributes"],safetyAttributesFromVertex(h)),n}(e),l=new gt;return Object.assign(l,n),l})}{const n=generateImagesParametersToMldev(this.apiClient,e);return f=formatMap("{model}:predict",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["predictions"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>generatedImageFromMldev(e))),setValueByPath(n,["generatedImages"],e)}const h=getValueByPath(e,["positivePromptSafetyAttributes"]);return null!=h&&setValueByPath(n,["positivePromptSafetyAttributes"],safetyAttributesFromMldev(h)),n}(e),l=new gt;return Object.assign(l,n),l})}}async editImageInternal(e){var n,l;let u,h="",d={};if(this.apiClient.isVertexAI()){const f=editImageParametersInternalToVertex(this.apiClient,e);return h=formatMap("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:h,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),u.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["predictions"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>generatedImageFromVertex(e))),setValueByPath(n,["generatedImages"],e)}return n}(e),l=new pt;return Object.assign(l,n),l})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,l;let u,h="",d={};if(this.apiClient.isVertexAI()){const f=upscaleImageAPIParametersInternalToVertex(this.apiClient,e);return h=formatMap("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:h,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),u.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["predictions"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>generatedImageFromVertex(e))),setValueByPath(n,["generatedImages"],e)}return n}(e),l=new mt;return Object.assign(l,n),l})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,l;let u,h="",d={};if(this.apiClient.isVertexAI()){const f=recontextImageParametersToVertex(this.apiClient,e);return h=formatMap("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:h,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),u.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["predictions"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>generatedImageFromVertex(e))),setValueByPath(n,["generatedImages"],e)}return n}(e),l=new Pt;return Object.assign(l,n),l})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=function(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","name"],tModel(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);return f=formatMap("{name}",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),d.then(e=>modelFromVertex(e))}{const n=function(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","name"],tModel(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);return f=formatMap("{name}",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json()),d.then(e=>modelFromMldev(e))}}async listInternal(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=listModelsParametersToVertex(this.apiClient,e);return f=formatMap("{models_url}",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["nextPageToken"]);null!=u&&setValueByPath(n,["nextPageToken"],u);const h=getValueByPath(e,["_self"]);if(null!=h){let e=tExtractModels(h);Array.isArray(e)&&(e=e.map(e=>modelFromVertex(e))),setValueByPath(n,["models"],e)}return n}(e),l=new vt;return Object.assign(l,n),l})}{const n=listModelsParametersToMldev(this.apiClient,e);return f=formatMap("{models_url}",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["nextPageToken"]);null!=u&&setValueByPath(n,["nextPageToken"],u);const h=getValueByPath(e,["_self"]);if(null!=h){let e=tExtractModels(h);Array.isArray(e)&&(e=e.map(e=>modelFromMldev(e))),setValueByPath(n,["models"],e)}return n}(e),l=new vt;return Object.assign(l,n),l})}}async update(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=updateModelParametersToVertex(this.apiClient,e);return f=formatMap("{model}",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),d.then(e=>modelFromVertex(e))}{const n=updateModelParametersToMldev(this.apiClient,e);return f=formatMap("{name}",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"PATCH",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json()),d.then(e=>modelFromMldev(e))}}async delete(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=function(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","name"],tModel(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);return f=formatMap("{name}",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),d.then(()=>{const e={},n=new Vt;return Object.assign(n,e),n})}{const n=function(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","name"],tModel(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],h),l}(this.apiClient,e);return f=formatMap("{name}",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"DELETE",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json()),d.then(()=>{const e={},n=new Vt;return Object.assign(n,e),n})}}async countTokens(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=countTokensParametersToVertex(this.apiClient,e);return f=formatMap("{model}:countTokens",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["totalTokens"]);return null!=u&&setValueByPath(n,["totalTokens"],u),n}(e),l=new Bt;return Object.assign(l,n),l})}{const n=countTokensParametersToMldev(this.apiClient,e);return f=formatMap("{model}:countTokens",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["totalTokens"]);null!=u&&setValueByPath(n,["totalTokens"],u);const h=getValueByPath(e,["cachedContentTokenCount"]);return null!=h&&setValueByPath(n,["cachedContentTokenCount"],h),n}(e),l=new Bt;return Object.assign(l,n),l})}}async computeTokens(e){var n,l;let u,h="",d={};if(this.apiClient.isVertexAI()){const f=function(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["_url","model"],tModel(e,u));const h=getValueByPath(n,["contents"]);if(null!=h){let e=tContents(h);Array.isArray(e)&&(e=e.map(e=>contentToVertex(e))),setValueByPath(l,["contents"],e)}const d=getValueByPath(n,["config"]);return null!=d&&setValueByPath(l,["config"],d),l}(this.apiClient,e);return h=formatMap("{model}:computeTokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:h,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),u.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["tokensInfo"]);return null!=u&&setValueByPath(n,["tokensInfo"],u),n}(e),l=new bt;return Object.assign(l,n),l})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=generateVideosParametersToVertex(this.apiClient,e);return f=formatMap("{model}:predictLongRunning",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),d.then(e=>{const n=generateVideosOperationFromVertex(e),l=new It;return Object.assign(l,n),l})}{const n=generateVideosParametersToMldev(this.apiClient,e);return f=formatMap("{model}:predictLongRunning",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json()),d.then(e=>{const n=generateVideosOperationFromMldev(e),l=new It;return Object.assign(l,n),l})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Xt extends V{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,l=e.config;if(void 0===n.name||""===n.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=n.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:e,config:{httpOptions:u}});return n._fromAPIResponse({apiResponse:h,isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:n.name,config:l});return n._fromAPIResponse({apiResponse:e,isVertexAI:!1})}}async get(e){const n=e.operation,l=e.config;if(void 0===n.name||""===n.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=n.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:e,config:{httpOptions:u}});return n._fromAPIResponse({apiResponse:h,isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:n.name,config:l});return n._fromAPIResponse({apiResponse:e,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=function(e){const n={},l=getValueByPath(e,["operationName"]);null!=l&&setValueByPath(n,["_url","operationName"],l);const u=getValueByPath(e,["config"]);return null!=u&&setValueByPath(n,["config"],u),n}(e);return f=formatMap("{operationName}",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),d}{const n=function(e){const n={},l=getValueByPath(e,["operationName"]);null!=l&&setValueByPath(n,["_url","operationName"],l);const u=getValueByPath(e,["config"]);return null!=u&&setValueByPath(n,["config"],u),n}(e);return f=formatMap("{operationName}",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json()),d}}async fetchPredictVideosOperationInternal(e){var n,l;let u,h="",d={};if(this.apiClient.isVertexAI()){const f=function(e){const n={},l=getValueByPath(e,["operationName"]);null!=l&&setValueByPath(n,["operationName"],l);const u=getValueByPath(e,["resourceName"]);null!=u&&setValueByPath(n,["_url","resourceName"],u);const h=getValueByPath(e,["config"]);return null!=h&&setValueByPath(n,["config"],h),n}(e);return h=formatMap("{resourceName}:fetchPredictOperation",f._url),d=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:h,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),u}throw new Error("This method is only supported by the Vertex AI.")}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function voiceConfigToMldev(e){const n={},l=getValueByPath(e,["prebuiltVoiceConfig"]);return null!=l&&setValueByPath(n,["prebuiltVoiceConfig"],function(e){const n={},l=getValueByPath(e,["voiceName"]);return null!=l&&setValueByPath(n,["voiceName"],l),n}(l)),n}function multiSpeakerVoiceConfigToMldev(e){const n={},l=getValueByPath(e,["speakerVoiceConfigs"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["speaker"]);null!=l&&setValueByPath(n,["speaker"],l);const u=getValueByPath(e,["voiceConfig"]);return null!=u&&setValueByPath(n,["voiceConfig"],voiceConfigToMldev(u)),n}(e))),setValueByPath(n,["speakerVoiceConfigs"],e)}return n}function partToMldev(e){const n={},l=getValueByPath(e,["videoMetadata"]);null!=l&&setValueByPath(n,["videoMetadata"],function(e){const n={},l=getValueByPath(e,["fps"]);null!=l&&setValueByPath(n,["fps"],l);const u=getValueByPath(e,["endOffset"]);null!=u&&setValueByPath(n,["endOffset"],u);const h=getValueByPath(e,["startOffset"]);return null!=h&&setValueByPath(n,["startOffset"],h),n}(l));const u=getValueByPath(e,["thought"]);null!=u&&setValueByPath(n,["thought"],u);const h=getValueByPath(e,["inlineData"]);null!=h&&setValueByPath(n,["inlineData"],function(e){const n={};if(void 0!==getValueByPath(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const l=getValueByPath(e,["data"]);null!=l&&setValueByPath(n,["data"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(h));const d=getValueByPath(e,["fileData"]);null!=d&&setValueByPath(n,["fileData"],function(e){const n={};if(void 0!==getValueByPath(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const l=getValueByPath(e,["fileUri"]);null!=l&&setValueByPath(n,["fileUri"],l);const u=getValueByPath(e,["mimeType"]);return null!=u&&setValueByPath(n,["mimeType"],u),n}(d));const f=getValueByPath(e,["thoughtSignature"]);null!=f&&setValueByPath(n,["thoughtSignature"],f);const P=getValueByPath(e,["codeExecutionResult"]);null!=P&&setValueByPath(n,["codeExecutionResult"],P);const V=getValueByPath(e,["executableCode"]);null!=V&&setValueByPath(n,["executableCode"],V);const B=getValueByPath(e,["functionCall"]);null!=B&&setValueByPath(n,["functionCall"],B);const b=getValueByPath(e,["functionResponse"]);null!=b&&setValueByPath(n,["functionResponse"],b);const C=getValueByPath(e,["text"]);return null!=C&&setValueByPath(n,["text"],C),n}function googleSearchToMldev(e){const n={},l=getValueByPath(e,["timeRangeFilter"]);return null!=l&&setValueByPath(n,["timeRangeFilter"],function(e){const n={},l=getValueByPath(e,["startTime"]);null!=l&&setValueByPath(n,["startTime"],l);const u=getValueByPath(e,["endTime"]);return null!=u&&setValueByPath(n,["endTime"],u),n}(l)),n}function googleSearchRetrievalToMldev(e){const n={},l=getValueByPath(e,["dynamicRetrievalConfig"]);return null!=l&&setValueByPath(n,["dynamicRetrievalConfig"],function(e){const n={},l=getValueByPath(e,["mode"]);null!=l&&setValueByPath(n,["mode"],l);const u=getValueByPath(e,["dynamicThreshold"]);return null!=u&&setValueByPath(n,["dynamicThreshold"],u),n}(l)),n}function toolToMldev(e){const n={},l=getValueByPath(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["behavior"]);null!=l&&setValueByPath(n,["behavior"],l);const u=getValueByPath(e,["description"]);null!=u&&setValueByPath(n,["description"],u);const h=getValueByPath(e,["name"]);null!=h&&setValueByPath(n,["name"],h);const d=getValueByPath(e,["parameters"]);null!=d&&setValueByPath(n,["parameters"],d);const f=getValueByPath(e,["parametersJsonSchema"]);null!=f&&setValueByPath(n,["parametersJsonSchema"],f);const P=getValueByPath(e,["response"]);null!=P&&setValueByPath(n,["response"],P);const V=getValueByPath(e,["responseJsonSchema"]);return null!=V&&setValueByPath(n,["responseJsonSchema"],V),n}(e))),setValueByPath(n,["functionDeclarations"],e)}if(void 0!==getValueByPath(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const u=getValueByPath(e,["googleSearch"]);null!=u&&setValueByPath(n,["googleSearch"],googleSearchToMldev(u));const h=getValueByPath(e,["googleSearchRetrieval"]);if(null!=h&&setValueByPath(n,["googleSearchRetrieval"],googleSearchRetrievalToMldev(h)),void 0!==getValueByPath(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=getValueByPath(e,["urlContext"])&&setValueByPath(n,["urlContext"],{});const d=getValueByPath(e,["codeExecution"]);null!=d&&setValueByPath(n,["codeExecution"],d);const f=getValueByPath(e,["computerUse"]);return null!=f&&setValueByPath(n,["computerUse"],f),n}function realtimeInputConfigToMldev(e){const n={},l=getValueByPath(e,["automaticActivityDetection"]);null!=l&&setValueByPath(n,["automaticActivityDetection"],function(e){const n={},l=getValueByPath(e,["disabled"]);null!=l&&setValueByPath(n,["disabled"],l);const u=getValueByPath(e,["startOfSpeechSensitivity"]);null!=u&&setValueByPath(n,["startOfSpeechSensitivity"],u);const h=getValueByPath(e,["endOfSpeechSensitivity"]);null!=h&&setValueByPath(n,["endOfSpeechSensitivity"],h);const d=getValueByPath(e,["prefixPaddingMs"]);null!=d&&setValueByPath(n,["prefixPaddingMs"],d);const f=getValueByPath(e,["silenceDurationMs"]);return null!=f&&setValueByPath(n,["silenceDurationMs"],f),n}(l));const u=getValueByPath(e,["activityHandling"]);null!=u&&setValueByPath(n,["activityHandling"],u);const h=getValueByPath(e,["turnCoverage"]);return null!=h&&setValueByPath(n,["turnCoverage"],h),n}function contextWindowCompressionConfigToMldev(e){const n={},l=getValueByPath(e,["triggerTokens"]);null!=l&&setValueByPath(n,["triggerTokens"],l);const u=getValueByPath(e,["slidingWindow"]);return null!=u&&setValueByPath(n,["slidingWindow"],function(e){const n={},l=getValueByPath(e,["targetTokens"]);return null!=l&&setValueByPath(n,["targetTokens"],l),n}(u)),n}function liveConnectConfigToMldev(e,n){const l=getValueByPath(e,["generationConfig"]);void 0!==n&&null!=l&&setValueByPath(n,["setup","generationConfig"],l);const u=getValueByPath(e,["responseModalities"]);void 0!==n&&null!=u&&setValueByPath(n,["setup","generationConfig","responseModalities"],u);const h=getValueByPath(e,["temperature"]);void 0!==n&&null!=h&&setValueByPath(n,["setup","generationConfig","temperature"],h);const d=getValueByPath(e,["topP"]);void 0!==n&&null!=d&&setValueByPath(n,["setup","generationConfig","topP"],d);const f=getValueByPath(e,["topK"]);void 0!==n&&null!=f&&setValueByPath(n,["setup","generationConfig","topK"],f);const P=getValueByPath(e,["maxOutputTokens"]);void 0!==n&&null!=P&&setValueByPath(n,["setup","generationConfig","maxOutputTokens"],P);const V=getValueByPath(e,["mediaResolution"]);void 0!==n&&null!=V&&setValueByPath(n,["setup","generationConfig","mediaResolution"],V);const B=getValueByPath(e,["seed"]);void 0!==n&&null!=B&&setValueByPath(n,["setup","generationConfig","seed"],B);const b=getValueByPath(e,["speechConfig"]);void 0!==n&&null!=b&&setValueByPath(n,["setup","generationConfig","speechConfig"],function(e){const n={},l=getValueByPath(e,["voiceConfig"]);null!=l&&setValueByPath(n,["voiceConfig"],voiceConfigToMldev(l));const u=getValueByPath(e,["multiSpeakerVoiceConfig"]);null!=u&&setValueByPath(n,["multiSpeakerVoiceConfig"],multiSpeakerVoiceConfigToMldev(u));const h=getValueByPath(e,["languageCode"]);return null!=h&&setValueByPath(n,["languageCode"],h),n}(tLiveSpeechConfig(b)));const C=getValueByPath(e,["enableAffectiveDialog"]);void 0!==n&&null!=C&&setValueByPath(n,["setup","generationConfig","enableAffectiveDialog"],C);const S=getValueByPath(e,["systemInstruction"]);void 0!==n&&null!=S&&setValueByPath(n,["setup","systemInstruction"],function(e){const n={},l=getValueByPath(e,["parts"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>partToMldev(e))),setValueByPath(n,["parts"],e)}const u=getValueByPath(e,["role"]);return null!=u&&setValueByPath(n,["role"],u),n}(tContent(S)));const x=getValueByPath(e,["tools"]);if(void 0!==n&&null!=x){let e=tTools(x);Array.isArray(e)&&(e=e.map(e=>toolToMldev(tTool(e)))),setValueByPath(n,["setup","tools"],e)}const E=getValueByPath(e,["sessionResumption"]);void 0!==n&&null!=E&&setValueByPath(n,["setup","sessionResumption"],function(e){const n={},l=getValueByPath(e,["handle"]);if(null!=l&&setValueByPath(n,["handle"],l),void 0!==getValueByPath(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return n}(E));const _=getValueByPath(e,["inputAudioTranscription"]);void 0!==n&&null!=_&&setValueByPath(n,["setup","inputAudioTranscription"],{});const O=getValueByPath(e,["outputAudioTranscription"]);void 0!==n&&null!=O&&setValueByPath(n,["setup","outputAudioTranscription"],{});const A=getValueByPath(e,["realtimeInputConfig"]);void 0!==n&&null!=A&&setValueByPath(n,["setup","realtimeInputConfig"],realtimeInputConfigToMldev(A));const q=getValueByPath(e,["contextWindowCompression"]);void 0!==n&&null!=q&&setValueByPath(n,["setup","contextWindowCompression"],contextWindowCompressionConfigToMldev(q));const N=getValueByPath(e,["proactivity"]);return void 0!==n&&null!=N&&setValueByPath(n,["setup","proactivity"],function(e){const n={},l=getValueByPath(e,["proactiveAudio"]);return null!=l&&setValueByPath(n,["proactiveAudio"],l),n}(N)),{}}function createAuthTokenConfigToMldev(e,n,l){const u=getValueByPath(n,["expireTime"]);void 0!==l&&null!=u&&setValueByPath(l,["expireTime"],u);const h=getValueByPath(n,["newSessionExpireTime"]);void 0!==l&&null!=h&&setValueByPath(l,["newSessionExpireTime"],h);const d=getValueByPath(n,["uses"]);void 0!==l&&null!=d&&setValueByPath(l,["uses"],d);const f=getValueByPath(n,["liveConnectConstraints"]);void 0!==l&&null!=f&&setValueByPath(l,["bidiGenerateContentSetup"],function(e,n){const l={},u=getValueByPath(n,["model"]);null!=u&&setValueByPath(l,["setup","model"],tModel(e,u));const h=getValueByPath(n,["config"]);return null!=h&&setValueByPath(l,["config"],liveConnectConfigToMldev(h,l)),l}(e,f));const P=getValueByPath(n,["lockAdditionalFields"]);return void 0!==l&&null!=P&&setValueByPath(l,["fieldMask"],P),{}}function convertBidiSetupToTokenSetup(e,n){let l=null;const u=e.bidiGenerateContentSetup;if("object"==typeof u&&null!==u&&"setup"in u){const n=u.setup;"object"==typeof n&&null!==n?(e.bidiGenerateContentSetup=n,l=n):delete e.bidiGenerateContentSetup}else void 0!==u&&delete e.bidiGenerateContentSetup;const h=e.fieldMask;if(l){const u=
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(e){const n=[];for(const l in e)if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];if("object"==typeof u&&null!=u&&Object.keys(u).length>0){const e=Object.keys(u).map(e=>`${l}.${e}`);n.push(...e)}else n.push(l)}return n.join(",")}(l);if(Array.isArray(null==n?void 0:n.lockAdditionalFields)&&0===(null==n?void 0:n.lockAdditionalFields.length))u?e.fieldMask=u:delete e.fieldMask;else if((null==n?void 0:n.lockAdditionalFields)&&n.lockAdditionalFields.length>0&&null!==h&&Array.isArray(h)&&h.length>0){const n=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];h.length>0&&(l=h.map(e=>n.includes(e)?`generationConfig.${e}`:e));const d=[];u&&d.push(u),l.length>0&&d.push(...l),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==h&&Array.isArray(h)&&h.length>0?e.fieldMask=h.join(","):delete e.fieldMask;return e}class Qt extends V{constructor(e){super(),this.apiClient=e}async create(e){var n,l;let u,h="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=function(e,n){const l={},u=getValueByPath(n,["config"]);return null!=u&&setValueByPath(l,["config"],createAuthTokenConfigToMldev(e,u,l)),l}(this.apiClient,e);h=formatMap("auth_tokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query;const P=convertBidiSetupToTokenSetup(f,e.config);return u=this.apiClient.request({path:h,queryParams:d,body:JSON.stringify(P),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json()),u.then(e=>function(e){const n={},l=getValueByPath(e,["name"]);return null!=l&&setValueByPath(n,["name"],l),n}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function listTuningJobsParametersToMldev(e){const n={},l=getValueByPath(e,["config"]);return null!=l&&setValueByPath(n,["config"],function(e,n){const l=getValueByPath(e,["pageSize"]);void 0!==n&&null!=l&&setValueByPath(n,["_query","pageSize"],l);const u=getValueByPath(e,["pageToken"]);void 0!==n&&null!=u&&setValueByPath(n,["_query","pageToken"],u);const h=getValueByPath(e,["filter"]);return void 0!==n&&null!=h&&setValueByPath(n,["_query","filter"],h),{}}(l,n)),n}function tuningDatasetToMldev(e){const n={};if(void 0!==getValueByPath(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=getValueByPath(e,["examples"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["textInput"]);null!=l&&setValueByPath(n,["textInput"],l);const u=getValueByPath(e,["output"]);return null!=u&&setValueByPath(n,["output"],u),n}(e))),setValueByPath(n,["examples","examples"],e)}return n}function createTuningJobParametersToMldev(e){const n={},l=getValueByPath(e,["baseModel"]);null!=l&&setValueByPath(n,["baseModel"],l);const u=getValueByPath(e,["trainingDataset"]);null!=u&&setValueByPath(n,["tuningTask","trainingData"],tuningDatasetToMldev(u));const h=getValueByPath(e,["config"]);return null!=h&&setValueByPath(n,["config"],function(e,n){const l={};if(void 0!==getValueByPath(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const u=getValueByPath(e,["tunedModelDisplayName"]);if(void 0!==n&&null!=u&&setValueByPath(n,["displayName"],u),void 0!==getValueByPath(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const h=getValueByPath(e,["epochCount"]);void 0!==n&&null!=h&&setValueByPath(n,["tuningTask","hyperparameters","epochCount"],h);const d=getValueByPath(e,["learningRateMultiplier"]);if(null!=d&&setValueByPath(l,["tuningTask","hyperparameters","learningRateMultiplier"],d),void 0!==getValueByPath(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==getValueByPath(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const f=getValueByPath(e,["batchSize"]);void 0!==n&&null!=f&&setValueByPath(n,["tuningTask","hyperparameters","batchSize"],f);const P=getValueByPath(e,["learningRate"]);return void 0!==n&&null!=P&&setValueByPath(n,["tuningTask","hyperparameters","learningRate"],P),l}(h,n)),n}function listTuningJobsParametersToVertex(e){const n={},l=getValueByPath(e,["config"]);return null!=l&&setValueByPath(n,["config"],function(e,n){const l=getValueByPath(e,["pageSize"]);void 0!==n&&null!=l&&setValueByPath(n,["_query","pageSize"],l);const u=getValueByPath(e,["pageToken"]);void 0!==n&&null!=u&&setValueByPath(n,["_query","pageToken"],u);const h=getValueByPath(e,["filter"]);return void 0!==n&&null!=h&&setValueByPath(n,["_query","filter"],h),{}}(l,n)),n}function createTuningJobConfigToVertex(e,n){const l={},u=getValueByPath(e,["validationDataset"]);void 0!==n&&null!=u&&setValueByPath(n,["supervisedTuningSpec"],function(e,n){const l={},u=getValueByPath(e,["gcsUri"]);null!=u&&setValueByPath(l,["validationDatasetUri"],u);const h=getValueByPath(e,["vertexDatasetResource"]);return void 0!==n&&null!=h&&setValueByPath(n,["supervisedTuningSpec","trainingDatasetUri"],h),l}(u,l));const h=getValueByPath(e,["tunedModelDisplayName"]);void 0!==n&&null!=h&&setValueByPath(n,["tunedModelDisplayName"],h);const d=getValueByPath(e,["description"]);void 0!==n&&null!=d&&setValueByPath(n,["description"],d);const f=getValueByPath(e,["epochCount"]);void 0!==n&&null!=f&&setValueByPath(n,["supervisedTuningSpec","hyperParameters","epochCount"],f);const P=getValueByPath(e,["learningRateMultiplier"]);void 0!==n&&null!=P&&setValueByPath(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],P);const V=getValueByPath(e,["exportLastCheckpointOnly"]);void 0!==n&&null!=V&&setValueByPath(n,["supervisedTuningSpec","exportLastCheckpointOnly"],V);const B=getValueByPath(e,["adapterSize"]);if(void 0!==n&&null!=B&&setValueByPath(n,["supervisedTuningSpec","hyperParameters","adapterSize"],B),void 0!==getValueByPath(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==getValueByPath(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function createTuningJobParametersToVertex(e){const n={},l=getValueByPath(e,["baseModel"]);null!=l&&setValueByPath(n,["baseModel"],l);const u=getValueByPath(e,["trainingDataset"]);null!=u&&setValueByPath(n,["supervisedTuningSpec","trainingDatasetUri"],function(e,n){const l=getValueByPath(e,["gcsUri"]);void 0!==n&&null!=l&&setValueByPath(n,["supervisedTuningSpec","trainingDatasetUri"],l);const u=getValueByPath(e,["vertexDatasetResource"]);if(void 0!==n&&null!=u&&setValueByPath(n,["supervisedTuningSpec","trainingDatasetUri"],u),void 0!==getValueByPath(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.");return{}}(u,n));const h=getValueByPath(e,["config"]);return null!=h&&setValueByPath(n,["config"],createTuningJobConfigToVertex(h,n)),n}function tuningJobFromMldev(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["name"]);null!=u&&setValueByPath(n,["name"],u);const h=getValueByPath(e,["state"]);null!=h&&setValueByPath(n,["state"],tTuningJobStatus(h));const d=getValueByPath(e,["createTime"]);null!=d&&setValueByPath(n,["createTime"],d);const f=getValueByPath(e,["tuningTask","startTime"]);null!=f&&setValueByPath(n,["startTime"],f);const P=getValueByPath(e,["tuningTask","completeTime"]);null!=P&&setValueByPath(n,["endTime"],P);const V=getValueByPath(e,["updateTime"]);null!=V&&setValueByPath(n,["updateTime"],V);const B=getValueByPath(e,["description"]);null!=B&&setValueByPath(n,["description"],B);const b=getValueByPath(e,["baseModel"]);null!=b&&setValueByPath(n,["baseModel"],b);const C=getValueByPath(e,["_self"]);null!=C&&setValueByPath(n,["tunedModel"],function(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["model"],l);const u=getValueByPath(e,["name"]);return null!=u&&setValueByPath(n,["endpoint"],u),n}(C));const S=getValueByPath(e,["distillationSpec"]);null!=S&&setValueByPath(n,["distillationSpec"],S);const x=getValueByPath(e,["experiment"]);null!=x&&setValueByPath(n,["experiment"],x);const E=getValueByPath(e,["labels"]);null!=E&&setValueByPath(n,["labels"],E);const _=getValueByPath(e,["pipelineJob"]);null!=_&&setValueByPath(n,["pipelineJob"],_);const O=getValueByPath(e,["satisfiesPzi"]);null!=O&&setValueByPath(n,["satisfiesPzi"],O);const A=getValueByPath(e,["satisfiesPzs"]);null!=A&&setValueByPath(n,["satisfiesPzs"],A);const q=getValueByPath(e,["serviceAccount"]);null!=q&&setValueByPath(n,["serviceAccount"],q);const N=getValueByPath(e,["tunedModelDisplayName"]);return null!=N&&setValueByPath(n,["tunedModelDisplayName"],N),n}function tunedModelFromVertex(e){const n={},l=getValueByPath(e,["model"]);null!=l&&setValueByPath(n,["model"],l);const u=getValueByPath(e,["endpoint"]);null!=u&&setValueByPath(n,["endpoint"],u);const h=getValueByPath(e,["checkpoints"]);if(null!=h){let e=h;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},l=getValueByPath(e,["checkpointId"]);null!=l&&setValueByPath(n,["checkpointId"],l);const u=getValueByPath(e,["epoch"]);null!=u&&setValueByPath(n,["epoch"],u);const h=getValueByPath(e,["step"]);null!=h&&setValueByPath(n,["step"],h);const d=getValueByPath(e,["endpoint"]);return null!=d&&setValueByPath(n,["endpoint"],d),n}(e))),setValueByPath(n,["checkpoints"],e)}return n}function tuningJobFromVertex(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["name"]);null!=u&&setValueByPath(n,["name"],u);const h=getValueByPath(e,["state"]);null!=h&&setValueByPath(n,["state"],tTuningJobStatus(h));const d=getValueByPath(e,["createTime"]);null!=d&&setValueByPath(n,["createTime"],d);const f=getValueByPath(e,["startTime"]);null!=f&&setValueByPath(n,["startTime"],f);const P=getValueByPath(e,["endTime"]);null!=P&&setValueByPath(n,["endTime"],P);const V=getValueByPath(e,["updateTime"]);null!=V&&setValueByPath(n,["updateTime"],V);const B=getValueByPath(e,["error"]);null!=B&&setValueByPath(n,["error"],B);const b=getValueByPath(e,["description"]);null!=b&&setValueByPath(n,["description"],b);const C=getValueByPath(e,["baseModel"]);null!=C&&setValueByPath(n,["baseModel"],C);const S=getValueByPath(e,["tunedModel"]);null!=S&&setValueByPath(n,["tunedModel"],tunedModelFromVertex(S));const x=getValueByPath(e,["supervisedTuningSpec"]);null!=x&&setValueByPath(n,["supervisedTuningSpec"],x);const E=getValueByPath(e,["tuningDataStats"]);null!=E&&setValueByPath(n,["tuningDataStats"],E);const _=getValueByPath(e,["encryptionSpec"]);null!=_&&setValueByPath(n,["encryptionSpec"],_);const O=getValueByPath(e,["partnerModelTuningSpec"]);null!=O&&setValueByPath(n,["partnerModelTuningSpec"],O);const A=getValueByPath(e,["distillationSpec"]);null!=A&&setValueByPath(n,["distillationSpec"],A);const q=getValueByPath(e,["experiment"]);null!=q&&setValueByPath(n,["experiment"],q);const N=getValueByPath(e,["labels"]);null!=N&&setValueByPath(n,["labels"],N);const D=getValueByPath(e,["pipelineJob"]);null!=D&&setValueByPath(n,["pipelineJob"],D);const L=getValueByPath(e,["satisfiesPzi"]);null!=L&&setValueByPath(n,["satisfiesPzi"],L);const U=getValueByPath(e,["satisfiesPzs"]);null!=U&&setValueByPath(n,["satisfiesPzs"],U);const j=getValueByPath(e,["serviceAccount"]);null!=j&&setValueByPath(n,["serviceAccount"],j);const $=getValueByPath(e,["tunedModelDisplayName"]);return null!=$&&setValueByPath(n,["tunedModelDisplayName"],$),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Zt extends V{constructor(e){super(),this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async(e={})=>new qt(ct.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.tune=async e=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(e);{const n=await this.tuneMldevInternal(e);let l="";void 0!==n.metadata&&void 0!==n.metadata.tunedModel?l=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(l=n.name.split("/operations/")[0]);return{name:l,state:fe.JOB_STATE_QUEUED}}}}async getInternal(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=function(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["_url","name"],l);const u=getValueByPath(e,["config"]);return null!=u&&setValueByPath(n,["config"],u),n}(e);return f=formatMap("{name}",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>tuningJobFromVertex(e))}{const n=function(e){const n={},l=getValueByPath(e,["name"]);null!=l&&setValueByPath(n,["_url","name"],l);const u=getValueByPath(e,["config"]);return null!=u&&setValueByPath(n,["config"],u),n}(e);return f=formatMap("{name}",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>tuningJobFromMldev(e))}}async listInternal(e){var n,l,u,h;let d,f="",P={};if(this.apiClient.isVertexAI()){const u=listTuningJobsParametersToVertex(e);return f=formatMap("tuningJobs",u._url),P=u._query,delete u.config,delete u._url,delete u._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["nextPageToken"]);null!=u&&setValueByPath(n,["nextPageToken"],u);const h=getValueByPath(e,["tuningJobs"]);if(null!=h){let e=h;Array.isArray(e)&&(e=e.map(e=>tuningJobFromVertex(e))),setValueByPath(n,["tuningJobs"],e)}return n}(e),l=new Ct;return Object.assign(l,n),l})}{const n=listTuningJobsParametersToMldev(e);return f=formatMap("tunedModels",n._url),P=n._query,delete n.config,delete n._url,delete n._query,d=this.apiClient.request({path:f,queryParams:P,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(u=e.config)||void 0===u?void 0:u.httpOptions,abortSignal:null===(h=e.config)||void 0===h?void 0:h.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),d.then(e=>{const n=function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["nextPageToken"]);null!=u&&setValueByPath(n,["nextPageToken"],u);const h=getValueByPath(e,["tunedModels"]);if(null!=h){let e=h;Array.isArray(e)&&(e=e.map(e=>tuningJobFromMldev(e))),setValueByPath(n,["tuningJobs"],e)}return n}(e),l=new Ct;return Object.assign(l,n),l})}}async tuneInternal(e){var n,l;let u,h="",d={};if(this.apiClient.isVertexAI()){const f=createTuningJobParametersToVertex(e);return h=formatMap("tuningJobs",f._url),d=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:h,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),u.then(e=>tuningJobFromVertex(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,l;let u,h="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=createTuningJobParametersToMldev(e);return h=formatMap("tunedModels",f._url),d=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:h,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(l=e.config)||void 0===l?void 0:l.abortSignal}).then(e=>e.json().then(n=>{const l=n;return l.sdkHttpResponse={headers:e.headers},l})),u.then(e=>function(e){const n={},l=getValueByPath(e,["sdkHttpResponse"]);null!=l&&setValueByPath(n,["sdkHttpResponse"],l);const u=getValueByPath(e,["name"]);null!=u&&setValueByPath(n,["name"],u);const h=getValueByPath(e,["metadata"]);null!=h&&setValueByPath(n,["metadata"],h);const d=getValueByPath(e,["done"]);null!=d&&setValueByPath(n,["done"],d);const f=getValueByPath(e,["error"]);return null!=f&&setValueByPath(n,["error"],f),n}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class en{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const tn="x-goog-upload-status";function sleep(e){return new Promise(n=>setTimeout(n,e))}class nn{async upload(e,n,l){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,n,l){var u,h,d;let f=0,P=0,V=new yt(new Response),B="upload";for(f=e.size;P<f;){const d=Math.min(8388608,f-P),b=e.slice(P,P+d);P+d>=f&&(B+=", finalize");let C=0,S=1e3;for(;C<3&&(V=await l.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":B,"X-Goog-Upload-Offset":String(P),"Content-Length":String(d)}}}),!(null===(u=null==V?void 0:V.headers)||void 0===u?void 0:u[tn]));)C++,await sleep(S),S*=2;if(P+=d,"active"!==(null===(h=null==V?void 0:V.headers)||void 0===h?void 0:h[tn]))break;if(f<=P)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const b=await(null==V?void 0:V.json());if("final"!==(null===(d=null==V?void 0:V.headers)||void 0===d?void 0:d[tn]))throw new Error("Failed to upload file: Upload status is not finalized.");return b.file}(e,n,l)}async stat(e){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rn{create(e,n,l){return new an(e,n,l)}}class an{constructor(e,n,l){this.url=e,this.headers=n,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const on="x-goog-api-key";class sn{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(null===e.get(on)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(on,this.apiKey)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class un{constructor(e){var n;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(n=e.vertexai)&&void 0!==n&&n,this.apiKey=e.apiKey;const l=getBaseUrl(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const u=new sn(this.apiKey);this.apiClient=new Gt({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new nn,downloader:new en}),this.models=new Kt(this.apiClient),this.live=new Jt(this.apiClient,u,new rn),this.batches=new Nt(this.apiClient),this.chats=new kt(this.models,this.apiClient),this.caches=new Rt(this.apiClient),this.files=new Ft(this.apiClient),this.operations=new Xt(this.apiClient),this.authTokens=new Qt(this.apiClient),this.tunings=new Zt(this.apiClient)}}function r$1(e){var n,l,u="";if("string"==typeof e||"number"==typeof e)u+=e;else if("object"==typeof e)if(Array.isArray(e)){var h=e.length;for(n=0;n<h;n++)e[n]&&(l=r$1(e[n]))&&(u&&(u+=" "),u+=l)}else for(l in e)e[l]&&(u&&(u+=" "),u+=l);return u}function clsx(){for(var e,n,l=0,u="",h=arguments.length;l<h;l++)(e=arguments[l])&&(n=r$1(e))&&(u&&(u+=" "),u+=n);return u}var cn,hn,yn,dn,fn,gn,pn,mn,Pn,vn,Vn,Bn,bn,Tn,Cn,Sn,xn,En,_n,On,An,wn,In,Mn,qn,Nn,Rn,kn,Dn,Ln,Fn,Un,jn,Gn,Hn,$n,zn,Jn,Wn,Yn,Kn,Xn,Qn,Zn,er,tr,nr,rr,ar,ir,or,sr,lr,ur,cr,hr,yr,dr,fr,gr,pr,mr,Pr,vr,Vr,Br,br,Tr,Cr,Sr,xr,Er,_r,Or,Ar,wr,Ir,Mr,qr,Nr,Rr,kr,Dr,Lr,Fr,Ur,jr,Gr,Hr,$r,zr,Jr,Wr,Yr,Kr,Xr,Qr,Zr,ea,ta,na,ra,aa,ia;function requireIsArray$1(){if(hn)return cn;hn=1;var e=Array.isArray;return cn=e}function require_freeGlobal(){if(dn)return yn;dn=1;var n="object"==typeof e&&e&&e.Object===Object&&e;return yn=n}function require_root(){if(gn)return fn;gn=1;var e=require_freeGlobal(),n="object"==typeof self&&self&&self.Object===Object&&self,l=e||n||Function("return this")();return fn=l}function require_Symbol(){if(mn)return pn;mn=1;var e=require_root().Symbol;return pn=e}function require_baseGetTag(){if(Tn)return bn;Tn=1;var e=require_Symbol(),n=function(){if(vn)return Pn;vn=1;var e=require_Symbol(),n=Object.prototype,l=n.hasOwnProperty,u=n.toString,h=e?e.toStringTag:void 0;return Pn=function(e){var n=l.call(e,h),d=e[h];try{e[h]=void 0;var f=!0}catch(V){}var P=u.call(e);return f&&(n?e[h]=d:delete e[h]),P}}(),l=function(){if(Bn)return Vn;Bn=1;var e=Object.prototype.toString;return Vn=function(n){return e.call(n)}}(),u=e?e.toStringTag:void 0;return bn=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":u&&u in Object(e)?n(e):l(e)}}function requireIsObjectLike(){if(Sn)return Cn;return Sn=1,Cn=function(e){return null!=e&&"object"==typeof e}}function requireIsSymbol$1(){if(En)return xn;En=1;var e=require_baseGetTag(),n=requireIsObjectLike();return xn=function(l){return"symbol"==typeof l||n(l)&&"[object Symbol]"==e(l)}}function require_isKey(){if(On)return _n;On=1;var e=requireIsArray$1(),n=requireIsSymbol$1(),l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;return _n=function(h,d){if(e(h))return!1;var f=typeof h;return!("number"!=f&&"symbol"!=f&&"boolean"!=f&&null!=h&&!n(h))||(u.test(h)||!l.test(h)||null!=d&&h in Object(d))}}function requireIsObject$1(){if(wn)return An;return wn=1,An=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}}function requireIsFunction(){if(Mn)return In;Mn=1;var e=require_baseGetTag(),n=requireIsObject$1();return In=function(l){if(!n(l))return!1;var u=e(l);return"[object Function]"==u||"[object GeneratorFunction]"==u||"[object AsyncFunction]"==u||"[object Proxy]"==u}}function require_isMasked(){if(kn)return Rn;kn=1;var e,n=function(){if(Nn)return qn;Nn=1;var e=require_root()["__core-js_shared__"];return qn=e}(),l=(e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return Rn=function(e){return!!l&&l in e}}function require_toSource(){if(Ln)return Dn;Ln=1;var e=Function.prototype.toString;return Dn=function(n){if(null!=n){try{return e.call(n)}catch(l){}try{return n+""}catch(l){}}return""}}function require_getNative(){if($n)return Hn;$n=1;var e=function(){if(Un)return Fn;Un=1;var e=requireIsFunction(),n=require_isMasked(),l=requireIsObject$1(),u=require_toSource(),h=/^\[object .+?Constructor\]$/,d=Function.prototype,f=Object.prototype,P=d.toString,V=f.hasOwnProperty,B=RegExp("^"+P.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return Fn=function(d){return!(!l(d)||n(d))&&(e(d)?B:h).test(u(d))}}(),n=Gn?jn:(Gn=1,jn=function(e,n){return null==e?void 0:e[n]});return Hn=function(l,u){var h=n(l,u);return e(h)?h:void 0}}function require_nativeCreate(){if(Jn)return zn;Jn=1;var e=require_getNative()(Object,"create");return zn=e}function require_Hash(){if(ir)return ar;ir=1;var e=function(){if(Yn)return Wn;Yn=1;var e=require_nativeCreate();return Wn=function(){this.__data__=e?e(null):{},this.size=0}}(),n=Xn?Kn:(Xn=1,Kn=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}),l=function(){if(Zn)return Qn;Zn=1;var e=require_nativeCreate(),n=Object.prototype.hasOwnProperty;return Qn=function(l){var u=this.__data__;if(e){var h=u[l];return"__lodash_hash_undefined__"===h?void 0:h}return n.call(u,l)?u[l]:void 0}}(),u=function(){if(tr)return er;tr=1;var e=require_nativeCreate(),n=Object.prototype.hasOwnProperty;return er=function(l){var u=this.__data__;return e?void 0!==u[l]:n.call(u,l)}}(),h=function(){if(rr)return nr;rr=1;var e=require_nativeCreate();return nr=function(n,l){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=e&&void 0===l?"__lodash_hash_undefined__":l,this}}();function Hash(e){var n=-1,l=null==e?0:e.length;for(this.clear();++n<l;){var u=e[n];this.set(u[0],u[1])}}return Hash.prototype.clear=e,Hash.prototype.delete=n,Hash.prototype.get=l,Hash.prototype.has=u,Hash.prototype.set=h,ar=Hash}function requireEq(){if(ur)return lr;return ur=1,lr=function(e,n){return e===n||e!=e&&n!=n}}function require_assocIndexOf(){if(hr)return cr;hr=1;var e=requireEq();return cr=function(n,l){for(var u=n.length;u--;)if(e(n[u][0],l))return u;return-1}}function require_ListCache(){if(Br)return Vr;Br=1;var e=sr?or:(sr=1,or=function(){this.__data__=[],this.size=0}),n=function(){if(dr)return yr;dr=1;var e=require_assocIndexOf(),n=Array.prototype.splice;return yr=function(l){var u=this.__data__,h=e(u,l);return!(h<0||(h==u.length-1?u.pop():n.call(u,h,1),--this.size,0))}}(),l=function(){if(gr)return fr;gr=1;var e=require_assocIndexOf();return fr=function(n){var l=this.__data__,u=e(l,n);return u<0?void 0:l[u][1]}}(),u=function(){if(mr)return pr;mr=1;var e=require_assocIndexOf();return pr=function(n){return e(this.__data__,n)>-1}}(),h=function(){if(vr)return Pr;vr=1;var e=require_assocIndexOf();return Pr=function(n,l){var u=this.__data__,h=e(u,n);return h<0?(++this.size,u.push([n,l])):u[h][1]=l,this}}();function ListCache(e){var n=-1,l=null==e?0:e.length;for(this.clear();++n<l;){var u=e[n];this.set(u[0],u[1])}}return ListCache.prototype.clear=e,ListCache.prototype.delete=n,ListCache.prototype.get=l,ListCache.prototype.has=u,ListCache.prototype.set=h,Vr=ListCache}function require_Map(){if(Tr)return br;Tr=1;var e=require_getNative()(require_root(),"Map");return br=e}function require_getMapData(){if(Or)return _r;Or=1;var e=Er?xr:(Er=1,xr=function(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e});return _r=function(n,l){var u=n.__data__;return e(l)?u["string"==typeof l?"string":"hash"]:u.map}}function require_MapCache(){if(Lr)return Dr;Lr=1;var e=function(){if(Sr)return Cr;Sr=1;var e=require_Hash(),n=require_ListCache(),l=require_Map();return Cr=function(){this.size=0,this.__data__={hash:new e,map:new(l||n),string:new e}}}(),n=function(){if(wr)return Ar;wr=1;var e=require_getMapData();return Ar=function(n){var l=e(this,n).delete(n);return this.size-=l?1:0,l}}(),l=function(){if(Mr)return Ir;Mr=1;var e=require_getMapData();return Ir=function(n){return e(this,n).get(n)}}(),u=function(){if(Nr)return qr;Nr=1;var e=require_getMapData();return qr=function(n){return e(this,n).has(n)}}(),h=function(){if(kr)return Rr;kr=1;var e=require_getMapData();return Rr=function(n,l){var u=e(this,n),h=u.size;return u.set(n,l),this.size+=u.size==h?0:1,this}}();function MapCache(e){var n=-1,l=null==e?0:e.length;for(this.clear();++n<l;){var u=e[n];this.set(u[0],u[1])}}return MapCache.prototype.clear=e,MapCache.prototype.delete=n,MapCache.prototype.get=l,MapCache.prototype.has=u,MapCache.prototype.set=h,Dr=MapCache}function requireMemoize(){if(Ur)return Fr;Ur=1;var e=require_MapCache();function memoize2(n,l){if("function"!=typeof n||null!=l&&"function"!=typeof l)throw new TypeError("Expected a function");var memoized=function(){var e=arguments,u=l?l.apply(this,e):e[0],h=memoized.cache;if(h.has(u))return h.get(u);var d=n.apply(this,e);return memoized.cache=h.set(u,d)||h,d};return memoized.cache=new(memoize2.Cache||e),memoized}return memoize2.Cache=e,Fr=memoize2}function require_stringToPath(){if($r)return Hr;$r=1;var e=function(){if(Gr)return jr;Gr=1;var e=requireMemoize();return jr=function(n){var l=e(n,function(e){return 500===u.size&&u.clear(),e}),u=l.cache;return l}}(),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,u=e(function(e){var u=[];return 46===e.charCodeAt(0)&&u.push(""),e.replace(n,function(e,n,h,d){u.push(h?d.replace(l,"$1"):n||e)}),u});return Hr=u}function require_arrayMap(){if(Jr)return zr;return Jr=1,zr=function(e,n){for(var l=-1,u=null==e?0:e.length,h=Array(u);++l<u;)h[l]=n(e[l],l,e);return h}}function requireToString$1(){if(Xr)return Kr;Xr=1;var e=function(){if(Yr)return Wr;Yr=1;var e=require_Symbol(),n=require_arrayMap(),l=requireIsArray$1(),u=requireIsSymbol$1(),h=e?e.prototype:void 0,d=h?h.toString:void 0;return Wr=function baseToString(e){if("string"==typeof e)return e;if(l(e))return n(e,baseToString)+"";if(u(e))return d?d.call(e):"";var h=e+"";return"0"==h&&1/e==-1/0?"-0":h},Wr}();return Kr=function(n){return null==n?"":e(n)}}function require_castPath(){if(Zr)return Qr;Zr=1;var e=requireIsArray$1(),n=require_isKey(),l=require_stringToPath(),u=requireToString$1();return Qr=function(h,d){return e(h)?h:n(h,d)?[h]:l(u(h))}}function require_toKey(){if(ta)return ea;ta=1;var e=requireIsSymbol$1();return ea=function(n){if("string"==typeof n||e(n))return n;var l=n+"";return"0"==l&&1/n==-1/0?"-0":l}}function require_baseGet(){if(ra)return na;ra=1;var e=require_castPath(),n=require_toKey();return na=function(l,u){for(var h=0,d=(u=e(u,l)).length;null!=l&&h<d;)l=l[n(u[h++])];return h&&h==d?l:void 0}}function requireGet(){if(ia)return aa;ia=1;var e=require_baseGet();return aa=function(n,l,u){var h=null==n?void 0:e(n,l);return void 0===h?u:h}}const oa=n(requireGet());var sa,la;const ua=n(la?sa:(la=1,sa=function(e){return null==e}));var ca,ha;const ya=n(function(){if(ha)return ca;ha=1;var e=require_baseGetTag(),n=requireIsArray$1(),l=requireIsObjectLike();return ca=function(u){return"string"==typeof u||!n(u)&&l(u)&&"[object String]"==e(u)}}());const da=n(requireIsFunction());const fa=n(requireIsObject$1());var ga,pa,ma,Pa;function requireIsNumber(){if(pa)return ga;pa=1;var e=require_baseGetTag(),n=requireIsObjectLike();return ga=function(l){return"number"==typeof l||n(l)&&"[object Number]"==e(l)}}const va=n(function(){if(Pa)return ma;Pa=1;var e=requireIsNumber();return ma=function(n){return e(n)&&n!=+n}}());const Va=n(requireIsNumber());var Ba,ba,Ta,Ca,Sa,xa,Ea,_a,Oa,Aa,wa,Ia,Ma,qa,Na,Ra;function require_castSlice(){if(Ca)return Ta;Ca=1;var e=ba?Ba:(ba=1,Ba=function(e,n,l){var u=-1,h=e.length;n<0&&(n=-n>h?0:h+n),(l=l>h?h:l)<0&&(l+=h),h=n>l?0:l-n>>>0,n>>>=0;for(var d=Array(h);++u<h;)d[u]=e[u+n];return d});return Ta=function(n,l,u){var h=n.length;return u=void 0===u?h:u,!l&&u>=h?n:e(n,l,u)}}function require_hasUnicode(){if(xa)return Sa;xa=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return Sa=function(n){return e.test(n)}}function require_stringToArray(){if(Ia)return wa;Ia=1;var e=_a?Ea:(_a=1,Ea=function(e){return e.split("")}),n=require_hasUnicode(),l=function(){if(Aa)return Oa;Aa=1;var e="\\ud800-\\udfff",n="["+e+"]",l="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",u="\\ud83c[\\udffb-\\udfff]",h="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",P="(?:"+l+"|"+u+")?",V="[\\ufe0e\\ufe0f]?",B=V+P+"(?:\\u200d(?:"+[h,d,f].join("|")+")"+V+P+")*",b="(?:"+[h+l+"?",l,d,f,n].join("|")+")",C=RegExp(u+"(?="+u+")|"+b+B,"g");return Oa=function(e){return e.match(C)||[]}}();return wa=function(u){return n(u)?l(u):e(u)}}const ka=n(function(){if(Ra)return Na;Ra=1;var e=function(){if(qa)return Ma;qa=1;var e=require_castSlice(),n=require_hasUnicode(),l=require_stringToArray(),u=requireToString$1();return Ma=function(h){return function(d){d=u(d);var f=n(d)?l(d):void 0,P=f?f[0]:d.charAt(0),V=f?e(f,1).join(""):d.slice(1);return P[h]()+V}}}()("toUpperCase");return Na=e}());var Da,La,Fa,Ua,ja,Ga,Ha,$a,za,Ja,Wa,Ya,Ka,Xa,Qa,Za,ei,ti,ni,ri,ai,ii,oi,si,li,ui,ci,hi,yi,di,fi,gi,pi,mi,Pi,vi,Vi,Bi,bi,Ti,Ci,Si,xi,Ei,_i,Oi,Ai,wi;function require_Stack(){if(Ya)return Wa;Ya=1;var e=require_ListCache(),n=function(){if(La)return Da;La=1;var e=require_ListCache();return Da=function(){this.__data__=new e,this.size=0}}(),l=Ua?Fa:(Ua=1,Fa=function(e){var n=this.__data__,l=n.delete(e);return this.size=n.size,l}),u=Ga?ja:(Ga=1,ja=function(e){return this.__data__.get(e)}),h=$a?Ha:($a=1,Ha=function(e){return this.__data__.has(e)}),d=function(){if(Ja)return za;Ja=1;var e=require_ListCache(),n=require_Map(),l=require_MapCache();return za=function(u,h){var d=this.__data__;if(d instanceof e){var f=d.__data__;if(!n||f.length<199)return f.push([u,h]),this.size=++d.size,this;d=this.__data__=new l(f)}return d.set(u,h),this.size=d.size,this}}();function Stack(n){var l=this.__data__=new e(n);this.size=l.size}return Stack.prototype.clear=n,Stack.prototype.delete=l,Stack.prototype.get=u,Stack.prototype.has=h,Stack.prototype.set=d,Wa=Stack}function require_SetCache(){if(ti)return ei;ti=1;var e=require_MapCache(),n=Xa?Ka:(Xa=1,Ka=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),l=Za?Qa:(Za=1,Qa=function(e){return this.__data__.has(e)});function SetCache(n){var l=-1,u=null==n?0:n.length;for(this.__data__=new e;++l<u;)this.add(n[l])}return SetCache.prototype.add=SetCache.prototype.push=n,SetCache.prototype.has=l,ei=SetCache}function require_arraySome(){if(ri)return ni;return ri=1,ni=function(e,n){for(var l=-1,u=null==e?0:e.length;++l<u;)if(n(e[l],l,e))return!0;return!1}}function require_cacheHas(){if(ii)return ai;return ii=1,ai=function(e,n){return e.has(n)}}function require_equalArrays(){if(si)return oi;si=1;var e=require_SetCache(),n=require_arraySome(),l=require_cacheHas();return oi=function(u,h,d,f,P,V){var B=1&d,b=u.length,C=h.length;if(b!=C&&!(B&&C>b))return!1;var S=V.get(u),x=V.get(h);if(S&&x)return S==h&&x==u;var E=-1,_=!0,O=2&d?new e:void 0;for(V.set(u,h),V.set(h,u);++E<b;){var A=u[E],q=h[E];if(f)var N=B?f(q,A,E,h,u,V):f(A,q,E,u,h,V);if(void 0!==N){if(N)continue;_=!1;break}if(O){if(!n(h,function(e,n){if(!l(O,n)&&(A===e||P(A,e,d,f,V)))return O.push(n)})){_=!1;break}}else if(A!==q&&!P(A,q,d,f,V)){_=!1;break}}return V.delete(u),V.delete(h),_}}function require_setToArray(){if(di)return yi;return di=1,yi=function(e){var n=-1,l=Array(e.size);return e.forEach(function(e){l[++n]=e}),l}}function require_equalByTag(){if(gi)return fi;gi=1;var e=require_Symbol(),n=function(){if(ui)return li;ui=1;var e=require_root().Uint8Array;return li=e}(),l=requireEq(),u=require_equalArrays(),h=hi?ci:(hi=1,ci=function(e){var n=-1,l=Array(e.size);return e.forEach(function(e,u){l[++n]=[u,e]}),l}),d=require_setToArray(),f=e?e.prototype:void 0,P=f?f.valueOf:void 0;return fi=function(e,f,V,B,b,C,S){switch(V){case"[object DataView]":if(e.byteLength!=f.byteLength||e.byteOffset!=f.byteOffset)return!1;e=e.buffer,f=f.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=f.byteLength||!C(new n(e),new n(f)));case"[object Boolean]":case"[object Date]":case"[object Number]":return l(+e,+f);case"[object Error]":return e.name==f.name&&e.message==f.message;case"[object RegExp]":case"[object String]":return e==f+"";case"[object Map]":var x=h;case"[object Set]":var E=1&B;if(x||(x=d),e.size!=f.size&&!E)return!1;var _=S.get(e);if(_)return _==f;B|=2,S.set(e,f);var O=u(x(e),x(f),B,b,C,S);return S.delete(e),O;case"[object Symbol]":if(P)return P.call(e)==P.call(f)}return!1}}function require_arrayPush(){if(mi)return pi;return mi=1,pi=function(e,n){for(var l=-1,u=n.length,h=e.length;++l<u;)e[h+l]=n[l];return e}}function require_getSymbols(){if(Si)return Ci;Si=1;var e=Bi?Vi:(Bi=1,Vi=function(e,n){for(var l=-1,u=null==e?0:e.length,h=0,d=[];++l<u;){var f=e[l];n(f,l,e)&&(d[h++]=f)}return d}),n=Ti?bi:(Ti=1,bi=function(){return[]}),l=Object.prototype.propertyIsEnumerable,u=Object.getOwnPropertySymbols;return Ci=u?function(n){return null==n?[]:(n=Object(n),e(u(n),function(e){return l.call(n,e)}))}:n}function requireIsArguments(){if(wi)return Ai;wi=1;var e=function(){if(Oi)return _i;Oi=1;var e=require_baseGetTag(),n=requireIsObjectLike();return _i=function(l){return n(l)&&"[object Arguments]"==e(l)}}(),n=requireIsObjectLike(),l=Object.prototype,u=l.hasOwnProperty,h=l.propertyIsEnumerable,d=e(function(){return arguments}())?e:function(e){return n(e)&&u.call(e,"callee")&&!h.call(e,"callee")};return Ai=d}var Ii,Mi,qi,Ni,Ri,ki,Di,Li,Fi,Ui,ji,Gi={exports:{}};function requireIsBuffer(){return qi||(qi=1,e=Gi,n=Gi.exports,l=require_root(),u=Mi?Ii:(Mi=1,Ii=function(){return!1}),h=n&&!n.nodeType&&n,d=h&&e&&!e.nodeType&&e,f=d&&d.exports===h?l.Buffer:void 0,P=(f?f.isBuffer:void 0)||u,e.exports=P),Gi.exports;var e,n,l,u,h,d,f,P}function require_isIndex(){if(Ri)return Ni;Ri=1;var e=/^(?:0|[1-9]\d*)$/;return Ni=function(n,l){var u=typeof n;return!!(l=null==l?9007199254740991:l)&&("number"==u||"symbol"!=u&&e.test(n))&&n>-1&&n%1==0&&n<l}}function requireIsLength(){if(Di)return ki;Di=1;return ki=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}}function require_baseUnary(){if(ji)return Ui;return ji=1,Ui=function(e){return function(n){return e(n)}}}var Hi,$i,zi,Ji,Wi,Yi,Ki,Xi,Qi,Zi,eo,to,no,ro,ao,io,oo,so,lo,uo,co,ho,yo,fo,go,po,mo,Po,vo,Vo,Bo,bo,To,Co,So,xo,Eo,_o,Oo,Ao,wo,Io,Mo,qo,No,Ro,ko,Do,Lo,Fo,Uo,jo,Go,Ho,$o,zo,Jo,Wo,Yo,Ko,Xo,Qo,Zo,es,ts,ns,rs,as,is,os,ss,ls,us,cs,hs,ys,ds,fs,gs,ps,ms,Ps,vs,Vs={exports:{}};function requireIsTypedArray(){if(zi)return $i;zi=1;var e=function(){if(Fi)return Li;Fi=1;var e=require_baseGetTag(),n=requireIsLength(),l=requireIsObjectLike(),u={};return u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,Li=function(h){return l(h)&&n(h.length)&&!!u[e(h)]}}(),n=require_baseUnary(),l=function(){return Hi||(Hi=1,e=Vs,n=Vs.exports,l=require_freeGlobal(),u=n&&!n.nodeType&&n,h=u&&e&&!e.nodeType&&e,d=h&&h.exports===u&&l.process,f=function(){try{return h&&h.require&&h.require("util").types||d&&d.binding&&d.binding("util")}catch(e){}}(),e.exports=f),Vs.exports;var e,n,l,u,h,d,f}(),u=l&&l.isTypedArray,h=u?n(u):e;return $i=h}function require_arrayLikeKeys(){if(Wi)return Ji;Wi=1;var e=Ei?xi:(Ei=1,xi=function(e,n){for(var l=-1,u=Array(e);++l<e;)u[l]=n(l);return u}),n=requireIsArguments(),l=requireIsArray$1(),u=requireIsBuffer(),h=require_isIndex(),d=requireIsTypedArray(),f=Object.prototype.hasOwnProperty;return Ji=function(P,V){var B=l(P),b=!B&&n(P),C=!B&&!b&&u(P),S=!B&&!b&&!C&&d(P),x=B||b||C||S,E=x?e(P.length,String):[],_=E.length;for(var O in P)!V&&!f.call(P,O)||x&&("length"==O||C&&("offset"==O||"parent"==O)||S&&("buffer"==O||"byteLength"==O||"byteOffset"==O)||h(O,_))||E.push(O);return E}}function require_overArg(){if(Qi)return Xi;return Qi=1,Xi=function(e,n){return function(l){return e(n(l))}}}function require_baseKeys(){if(no)return to;no=1;var e=function(){if(Ki)return Yi;Ki=1;var e=Object.prototype;return Yi=function(n){var l=n&&n.constructor;return n===("function"==typeof l&&l.prototype||e)}}(),n=function(){if(eo)return Zi;eo=1;var e=require_overArg()(Object.keys,Object);return Zi=e}(),l=Object.prototype.hasOwnProperty;return to=function(u){if(!e(u))return n(u);var h=[];for(var d in Object(u))l.call(u,d)&&"constructor"!=d&&h.push(d);return h}}function requireIsArrayLike(){if(ao)return ro;ao=1;var e=requireIsFunction(),n=requireIsLength();return ro=function(l){return null!=l&&n(l.length)&&!e(l)}}function requireKeys(){if(oo)return io;oo=1;var e=require_arrayLikeKeys(),n=require_baseKeys(),l=requireIsArrayLike();return io=function(u){return l(u)?e(u):n(u)}}function require_getAllKeys(){if(lo)return so;lo=1;var e=function(){if(vi)return Pi;vi=1;var e=require_arrayPush(),n=requireIsArray$1();return Pi=function(l,u,h){var d=u(l);return n(l)?d:e(d,h(l))}}(),n=require_getSymbols(),l=requireKeys();return so=function(u){return e(u,l,n)}}function require_Set(){if(mo)return po;mo=1;var e=require_getNative()(require_root(),"Set");return po=e}function require_getTag(){if(Bo)return Vo;Bo=1;var e=function(){if(yo)return ho;yo=1;var e=require_getNative()(require_root(),"DataView");return ho=e}(),n=require_Map(),l=function(){if(go)return fo;go=1;var e=require_getNative()(require_root(),"Promise");return fo=e}(),u=require_Set(),h=function(){if(vo)return Po;vo=1;var e=require_getNative()(require_root(),"WeakMap");return Po=e}(),d=require_baseGetTag(),f=require_toSource(),P="[object Map]",V="[object Promise]",B="[object Set]",b="[object WeakMap]",C="[object DataView]",S=f(e),x=f(n),E=f(l),_=f(u),O=f(h),A=d;return(e&&A(new e(new ArrayBuffer(1)))!=C||n&&A(new n)!=P||l&&A(l.resolve())!=V||u&&A(new u)!=B||h&&A(new h)!=b)&&(A=function(e){var n=d(e),l="[object Object]"==n?e.constructor:void 0,u=l?f(l):"";if(u)switch(u){case S:return C;case x:return P;case E:return V;case _:return B;case O:return b}return n}),Vo=A}function require_baseIsEqualDeep(){if(To)return bo;To=1;var e=require_Stack(),n=require_equalArrays(),l=require_equalByTag(),u=function(){if(co)return uo;co=1;var e=require_getAllKeys(),n=Object.prototype.hasOwnProperty;return uo=function(l,u,h,d,f,P){var V=1&h,B=e(l),b=B.length;if(b!=e(u).length&&!V)return!1;for(var C=b;C--;){var S=B[C];if(!(V?S in u:n.call(u,S)))return!1}var x=P.get(l),E=P.get(u);if(x&&E)return x==u&&E==l;var _=!0;P.set(l,u),P.set(u,l);for(var O=V;++C<b;){var A=l[S=B[C]],q=u[S];if(d)var N=V?d(q,A,S,u,l,P):d(A,q,S,l,u,P);if(!(void 0===N?A===q||f(A,q,h,d,P):N)){_=!1;break}O||(O="constructor"==S)}if(_&&!O){var D=l.constructor,L=u.constructor;D==L||!("constructor"in l)||!("constructor"in u)||"function"==typeof D&&D instanceof D&&"function"==typeof L&&L instanceof L||(_=!1)}return P.delete(l),P.delete(u),_}}(),h=require_getTag(),d=requireIsArray$1(),f=requireIsBuffer(),P=requireIsTypedArray(),V="[object Arguments]",B="[object Array]",b="[object Object]",C=Object.prototype.hasOwnProperty;return bo=function(S,x,E,_,O,A){var q=d(S),N=d(x),D=q?B:h(S),L=N?B:h(x),U=(D=D==V?b:D)==b,j=(L=L==V?b:L)==b,$=D==L;if($&&f(S)){if(!f(x))return!1;q=!0,U=!1}if($&&!U)return A||(A=new e),q||P(S)?n(S,x,E,_,O,A):l(S,x,D,E,_,O,A);if(!(1&E)){var z=U&&C.call(S,"__wrapped__"),W=j&&C.call(x,"__wrapped__");if(z||W){var Y=z?S.value():S,X=W?x.value():x;return A||(A=new e),O(Y,X,E,_,A)}}return!!$&&(A||(A=new e),u(S,x,E,_,O,A))}}function require_baseIsEqual(){if(So)return Co;So=1;var e=require_baseIsEqualDeep(),n=requireIsObjectLike();return Co=function baseIsEqual(l,u,h,d,f){return l===u||(null==l||null==u||!n(l)&&!n(u)?l!=l&&u!=u:e(l,u,h,d,baseIsEqual,f))},Co}function require_isStrictComparable(){if(Oo)return _o;Oo=1;var e=requireIsObject$1();return _o=function(n){return n==n&&!e(n)}}function require_matchesStrictComparable(){if(Mo)return Io;return Mo=1,Io=function(e,n){return function(l){return null!=l&&(l[e]===n&&(void 0!==n||e in Object(l)))}}}function require_baseMatches(){if(No)return qo;No=1;var e=function(){if(Eo)return xo;Eo=1;var e=require_Stack(),n=require_baseIsEqual();return xo=function(l,u,h,d){var f=h.length,P=f,V=!d;if(null==l)return!P;for(l=Object(l);f--;){var B=h[f];if(V&&B[2]?B[1]!==l[B[0]]:!(B[0]in l))return!1}for(;++f<P;){var b=(B=h[f])[0],C=l[b],S=B[1];if(V&&B[2]){if(void 0===C&&!(b in l))return!1}else{var x=new e;if(d)var E=d(C,S,b,l,u,x);if(!(void 0===E?n(S,C,3,d,x):E))return!1}}return!0}}(),n=function(){if(wo)return Ao;wo=1;var e=require_isStrictComparable(),n=requireKeys();return Ao=function(l){for(var u=n(l),h=u.length;h--;){var d=u[h],f=l[d];u[h]=[d,f,e(f)]}return u}}(),l=require_matchesStrictComparable();return qo=function(u){var h=n(u);return 1==h.length&&h[0][2]?l(h[0][0],h[0][1]):function(n){return n===u||e(n,u,h)}}}function requireHasIn(){if(Uo)return Fo;Uo=1;var e=ko?Ro:(ko=1,Ro=function(e,n){return null!=e&&n in Object(e)}),n=function(){if(Lo)return Do;Lo=1;var e=require_castPath(),n=requireIsArguments(),l=requireIsArray$1(),u=require_isIndex(),h=requireIsLength(),d=require_toKey();return Do=function(f,P,V){for(var B=-1,b=(P=e(P,f)).length,C=!1;++B<b;){var S=d(P[B]);if(!(C=null!=f&&V(f,S)))break;f=f[S]}return C||++B!=b?C:!!(b=null==f?0:f.length)&&h(b)&&u(S,b)&&(l(f)||n(f))}}();return Fo=function(l,u){return null!=l&&n(l,u,e)}}function requireIdentity(){if($o)return Ho;return $o=1,Ho=function(e){return e}}function requireProperty(){if(Xo)return Ko;Xo=1;var e=Jo?zo:(Jo=1,zo=function(e){return function(n){return null==n?void 0:n[e]}}),n=function(){if(Yo)return Wo;Yo=1;var e=require_baseGet();return Wo=function(n){return function(l){return e(l,n)}}}(),l=require_isKey(),u=require_toKey();return Ko=function(h){return l(h)?e(u(h)):n(h)}}function require_baseIteratee(){if(Zo)return Qo;Zo=1;var e=require_baseMatches(),n=function(){if(Go)return jo;Go=1;var e=require_baseIsEqual(),n=requireGet(),l=requireHasIn(),u=require_isKey(),h=require_isStrictComparable(),d=require_matchesStrictComparable(),f=require_toKey();return jo=function(P,V){return u(P)&&h(V)?d(f(P),V):function(u){var h=n(u,P);return void 0===h&&h===V?l(u,P):e(V,h,3)}}}(),l=requireIdentity(),u=requireIsArray$1(),h=requireProperty();return Qo=function(d){return"function"==typeof d?d:null==d?l:"object"==typeof d?u(d)?n(d[0],d[1]):e(d):h(d)}}function require_baseFindIndex(){if(ts)return es;return ts=1,es=function(e,n,l,u){for(var h=e.length,d=l+(u?1:-1);u?d--:++d<h;)if(n(e[d],d,e))return d;return-1}}function require_baseIndexOf(){if(ss)return os;ss=1;var e=require_baseFindIndex(),n=rs?ns:(rs=1,ns=function(e){return e!=e}),l=is?as:(is=1,as=function(e,n,l){for(var u=l-1,h=e.length;++u<h;)if(e[u]===n)return u;return-1});return os=function(u,h,d){return h==h?l(u,h,d):e(u,n,d)}}function require_createSet(){if(gs)return fs;gs=1;var e=require_Set(),n=ds?ys:(ds=1,ys=function(){}),l=require_setToArray(),u=e&&1/l(new e([,-0]))[1]==1/0?function(n){return new e(n)}:n;return fs=u}function require_baseUniq(){if(ms)return ps;ms=1;var e=require_SetCache(),n=function(){if(us)return ls;us=1;var e=require_baseIndexOf();return ls=function(n,l){return!(null==n||!n.length)&&e(n,l,0)>-1}}(),l=hs?cs:(hs=1,cs=function(e,n,l){for(var u=-1,h=null==e?0:e.length;++u<h;)if(l(n,e[u]))return!0;return!1}),u=require_cacheHas(),h=require_createSet(),d=require_setToArray();return ps=function(f,P,V){var B=-1,b=n,C=f.length,S=!0,x=[],E=x;if(V)S=!1,b=l;else if(C>=200){var _=P?null:h(f);if(_)return d(_);S=!1,b=u,E=new e}else E=P?[]:x;e:for(;++B<C;){var O=f[B],A=P?P(O):O;if(O=V||0!==O?O:0,S&&A==A){for(var q=E.length;q--;)if(E[q]===A)continue e;P&&E.push(A),x.push(O)}else b(E,A,V)||(E!==x&&E.push(A),x.push(O))}return x}}const Bs=n(function(){if(vs)return Ps;vs=1;var e=require_baseIteratee(),n=require_baseUniq();return Ps=function(l,u){return l&&l.length?n(l,e(u,2)):[]}}());var bs,Ts,Cs,Ss,xs,Es,_s,Os,As,ws,Is,Ms,qs,Ns,Rs,ks,Ds,Ls,Fs,Us,js,Gs,Hs,$s,zs,Js,Ws,Ys,Ks,Xs,Qs,Zs,el,tl,nl,rl,al,il,ol,sl,ll,ul,cl,hl;function require_baseFlatten(){if(Ss)return Cs;Ss=1;var e=require_arrayPush(),n=function(){if(Ts)return bs;Ts=1;var e=require_Symbol(),n=requireIsArguments(),l=requireIsArray$1(),u=e?e.isConcatSpreadable:void 0;return bs=function(e){return l(e)||n(e)||!!(u&&e&&e[u])}}();return Cs=function baseFlatten(l,u,h,d,f){var P=-1,V=l.length;for(h||(h=n),f||(f=[]);++P<V;){var B=l[P];u>0&&h(B)?u>1?baseFlatten(B,u-1,h,d,f):e(f,B):d||(f[f.length]=B)}return f},Cs}function require_baseFor(){if(Os)return _s;Os=1;var e=(Es?xs:(Es=1,xs=function(e){return function(n,l,u){for(var h=-1,d=Object(n),f=u(n),P=f.length;P--;){var V=f[e?P:++h];if(!1===l(d[V],V,d))break}return n}}))();return _s=e}function require_baseForOwn(){if(ws)return As;ws=1;var e=require_baseFor(),n=requireKeys();return As=function(l,u){return l&&e(l,u,n)}}function require_baseEach(){if(Ns)return qs;Ns=1;var e=require_baseForOwn(),n=function(){if(Ms)return Is;Ms=1;var e=requireIsArrayLike();return Is=function(n,l){return function(u,h){if(null==u)return u;if(!e(u))return n(u,h);for(var d=u.length,f=l?d:-1,P=Object(u);(l?f--:++f<d)&&!1!==h(P[f],f,P););return u}}}()(e);return qs=n}function require_baseMap(){if(ks)return Rs;ks=1;var e=require_baseEach(),n=requireIsArrayLike();return Rs=function(l,u){var h=-1,d=n(l)?Array(l.length):[];return e(l,function(e,n,l){d[++h]=u(e,n,l)}),d}}function require_compareMultiple(){if(Gs)return js;Gs=1;var e=function(){if(Us)return Fs;Us=1;var e=requireIsSymbol$1();return Fs=function(n,l){if(n!==l){var u=void 0!==n,h=null===n,d=n==n,f=e(n),P=void 0!==l,V=null===l,B=l==l,b=e(l);if(!V&&!b&&!f&&n>l||f&&P&&B&&!V&&!b||h&&P&&B||!u&&B||!d)return 1;if(!h&&!f&&!b&&n<l||b&&u&&d&&!h&&!f||V&&u&&d||!P&&d||!B)return-1}return 0}}();return js=function(n,l,u){for(var h=-1,d=n.criteria,f=l.criteria,P=d.length,V=u.length;++h<P;){var B=e(d[h],f[h]);if(B)return h>=V?B:B*("desc"==u[h]?-1:1)}return n.index-l.index}}function require_baseOrderBy(){if($s)return Hs;$s=1;var e=require_arrayMap(),n=require_baseGet(),l=require_baseIteratee(),u=require_baseMap(),h=Ls?Ds:(Ls=1,Ds=function(e,n){var l=e.length;for(e.sort(n);l--;)e[l]=e[l].value;return e}),d=require_baseUnary(),f=require_compareMultiple(),P=requireIdentity(),V=requireIsArray$1();return Hs=function(B,b,C){b=b.length?e(b,function(e){return V(e)?function(l){return n(l,1===e.length?e[0]:e)}:e}):[P];var S=-1;b=e(b,d(l));var x=u(B,function(n,l,u){return{criteria:e(b,function(e){return e(n)}),index:++S,value:n}});return h(x,function(e,n){return f(e,n,C)})}}function require_overRest(){if(Ys)return Ws;Ys=1;var e=Js?zs:(Js=1,zs=function(e,n,l){switch(l.length){case 0:return e.call(n);case 1:return e.call(n,l[0]);case 2:return e.call(n,l[0],l[1]);case 3:return e.call(n,l[0],l[1],l[2])}return e.apply(n,l)}),n=Math.max;return Ws=function(l,u,h){return u=n(void 0===u?l.length-1:u,0),function(){for(var d=arguments,f=-1,P=n(d.length-u,0),V=Array(P);++f<P;)V[f]=d[u+f];f=-1;for(var B=Array(u+1);++f<u;)B[f]=d[f];return B[u]=h(V),e(l,this,B)}},Ws}function require_defineProperty(){if(Zs)return Qs;Zs=1;var e=require_getNative(),n=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch(l){}}();return Qs=n}function require_baseSetToString(){if(tl)return el;tl=1;var e=Xs?Ks:(Xs=1,Ks=function(e){return function(){return e}}),n=require_defineProperty(),l=requireIdentity();return el=n?function(l,u){return n(l,"toString",{configurable:!0,enumerable:!1,value:e(u),writable:!0})}:l}function require_setToString(){if(il)return al;il=1;var e=require_baseSetToString(),n=function(){if(rl)return nl;rl=1;var e=Date.now;return nl=function(n){var l=0,u=0;return function(){var h=e(),d=16-(h-u);if(u=h,d>0){if(++l>=800)return arguments[0]}else l=0;return n.apply(void 0,arguments)}},nl}(),l=n(e);return al=l}function require_isIterateeCall(){if(ul)return ll;ul=1;var e=requireEq(),n=requireIsArrayLike(),l=require_isIndex(),u=requireIsObject$1();return ll=function(h,d,f){if(!u(f))return!1;var P=typeof d;return!!("number"==P?n(f)&&l(d,f.length):"string"==P&&d in f)&&e(f[d],h)}}var yl=function(){if(hl)return cl;hl=1;var e=require_baseFlatten(),n=require_baseOrderBy(),l=function(){if(sl)return ol;sl=1;var e=requireIdentity(),n=require_overRest(),l=require_setToString();return ol=function(u,h){return l(n(u,h,e),u+"")}}(),u=require_isIterateeCall(),h=l(function(l,h){if(null==l)return[];var d=h.length;return d>1&&u(l,h[0],h[1])?h=[]:d>2&&u(h[0],h[1],h[2])&&(h=[h[0]]),n(l,e(h,1),[])});return cl=h}();const dl=n(yl);var fl,gl,pl,ml,Pl,vl,Vl,Bl,bl,Tl,Cl,Sl;function require_baseTrim(){if(vl)return Pl;vl=1;var e=function(){if(ml)return pl;ml=1;var e=/\s/;return pl=function(n){for(var l=n.length;l--&&e.test(n.charAt(l)););return l}}(),n=/^\s+/;return Pl=function(l){return l?l.slice(0,e(l)+1).replace(n,""):l}}function requireToNumber(){if(Bl)return Vl;Bl=1;var e=require_baseTrim(),n=requireIsObject$1(),l=requireIsSymbol$1(),u=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,d=/^0o[0-7]+$/i,f=parseInt;return Vl=function(P){if("number"==typeof P)return P;if(l(P))return NaN;if(n(P)){var V="function"==typeof P.valueOf?P.valueOf():P;P=n(V)?V+"":V}if("string"!=typeof P)return 0===P?P:+P;P=e(P);var B=h.test(P);return B||d.test(P)?f(P.slice(2),B?2:8):u.test(P)?NaN:+P}}function requireDebounce(){if(Tl)return bl;Tl=1;var e=requireIsObject$1(),n=function(){if(gl)return fl;gl=1;var e=require_root();return fl=function(){return e.Date.now()}}(),l=requireToNumber(),u=Math.max,h=Math.min;return bl=function(d,f,P){var V,B,b,C,S,x,E=0,_=!1,O=!1,A=!0;if("function"!=typeof d)throw new TypeError("Expected a function");function invokeFunc(e){var n=V,l=B;return V=B=void 0,E=e,C=d.apply(l,n)}function shouldInvoke(e){var n=e-x;return void 0===x||n>=f||n<0||O&&e-E>=b}function timerExpired(){var e=n();if(shouldInvoke(e))return trailingEdge(e);S=setTimeout(timerExpired,function(e){var n=f-(e-x);return O?h(n,b-(e-E)):n}(e))}function trailingEdge(e){return S=void 0,A&&V?invokeFunc(e):(V=B=void 0,C)}function debounced(){var e=n(),l=shouldInvoke(e);if(V=arguments,B=this,x=e,l){if(void 0===S)return function(e){return E=e,S=setTimeout(timerExpired,f),_?invokeFunc(e):C}(x);if(O)return clearTimeout(S),S=setTimeout(timerExpired,f),invokeFunc(x)}return void 0===S&&(S=setTimeout(timerExpired,f)),C}return f=l(f)||0,e(P)&&(_=!!P.leading,b=(O="maxWait"in P)?u(l(P.maxWait)||0,f):b,A="trailing"in P?!!P.trailing:A),debounced.cancel=function(){void 0!==S&&clearTimeout(S),E=0,V=x=B=S=void 0},debounced.flush=function(){return void 0===S?C:trailingEdge(n())},debounced},bl}var xl=function(){if(Sl)return Cl;Sl=1;var e=requireDebounce(),n=requireIsObject$1();return Cl=function(l,u,h){var d=!0,f=!0;if("function"!=typeof l)throw new TypeError("Expected a function");return n(h)&&(d="leading"in h?!!h.leading:d,f="trailing"in h?!!h.trailing:f),e(l,u,{leading:d,maxWait:u,trailing:f})}}();const El=n(xl);class _l extends Map{constructor(e,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=e)for(const[l,u]of e)this.set(l,u)}get(e){return super.get(intern_get(this,e))}has(e){return super.has(intern_get(this,e))}set(e,n){return super.set(function({_intern:e,_key:n},l){const u=n(l);return e.has(u)?e.get(u):(e.set(u,l),l)}(this,e),n)}delete(e){return super.delete(function({_intern:e,_key:n},l){const u=n(l);e.has(u)&&(l=e.get(u),e.delete(u));return l}(this,e))}}function intern_get({_intern:e,_key:n},l){const u=n(l);return e.has(u)?e.get(u):l}function keyof(e){return null!==e&&"object"==typeof e?e.valueOf():e}var Ol,Al,wl,Il,Ml,ql;function require_baseExtremum(){if(Al)return Ol;Al=1;var e=requireIsSymbol$1();return Ol=function(n,l,u){for(var h=-1,d=n.length;++h<d;){var f=n[h],P=l(f);if(null!=P&&(void 0===V?P==P&&!e(P):u(P,V)))var V=P,B=f}return B}}function require_baseGt(){if(Il)return wl;return Il=1,wl=function(e,n){return e>n}}const Nl=n(function(){if(ql)return Ml;ql=1;var e=require_baseExtremum(),n=require_baseGt(),l=requireIdentity();return Ml=function(u){return u&&u.length?e(u,l,n):void 0}}());var Rl,kl,Dl,Ll;function require_baseLt(){if(kl)return Rl;return kl=1,Rl=function(e,n){return e<n}}const Fl=n(function(){if(Ll)return Dl;Ll=1;var e=require_baseExtremum(),n=require_baseLt(),l=requireIdentity();return Dl=function(u){return u&&u.length?e(u,l,n):void 0}}());var Ul,jl,Gl,Hl;const $l=n(function(){if(Hl)return Gl;Hl=1;var e=require_baseFlatten(),n=function(){if(jl)return Ul;jl=1;var e=require_arrayMap(),n=require_baseIteratee(),l=require_baseMap(),u=requireIsArray$1();return Ul=function(h,d){return(u(h)?e:l)(h,n(d,3))}}();return Gl=function(l,u){return e(n(l,u),1)}}());var zl,Jl;const Wl=n(function(){if(Jl)return zl;Jl=1;var e=require_baseIsEqual();return zl=function(n,l){return e(n,l)}}());var Yl,Kl=1e9,Xl=!0,Ql="[DecimalError] ",Zl=Ql+"Invalid argument: ",eu=Ql+"Exponent out of range: ",tu=Math.floor,nu=Math.pow,ru=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,au=1e7,iu=9007199254740991,ou=tu(1286742750677284.5),su={};function add(e,n){var l,u,h,d,f,P,V,B,b=e.constructor,C=b.precision;if(!e.s||!n.s)return n.s||(n=new b(e)),Xl?round(n,C):n;if(V=e.d,B=n.d,f=e.e,h=n.e,V=V.slice(),d=f-h){for(d<0?(u=V,d=-d,P=B.length):(u=B,h=f,P=V.length),d>(P=(f=Math.ceil(C/7))>P?f+1:P+1)&&(d=P,u.length=1),u.reverse();d--;)u.push(0);u.reverse()}for((P=V.length)-(d=B.length)<0&&(d=P,u=B,B=V,V=u),l=0;d;)l=(V[--d]=V[d]+B[d]+l)/au|0,V[d]%=au;for(l&&(V.unshift(l),++h),P=V.length;0==V[--P];)V.pop();return n.d=V,n.e=h,Xl?round(n,C):n}function checkInt32(e,n,l){if(e!==~~e||e<n||e>l)throw Error(Zl+e)}function digitsToString(e){var n,l,u,h=e.length-1,d="",f=e[0];if(h>0){for(d+=f,n=1;n<h;n++)(l=7-(u=e[n]+"").length)&&(d+=getZeroString(l)),d+=u;(l=7-(u=(f=e[n])+"").length)&&(d+=getZeroString(l))}else if(0===f)return"0";for(;f%10==0;)f/=10;return d+f}su.absoluteValue=su.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},su.comparedTo=su.cmp=function(e){var n,l,u,h,d=this;if(e=new d.constructor(e),d.s!==e.s)return d.s||-e.s;if(d.e!==e.e)return d.e>e.e^d.s<0?1:-1;for(n=0,l=(u=d.d.length)<(h=e.d.length)?u:h;n<l;++n)if(d.d[n]!==e.d[n])return d.d[n]>e.d[n]^d.s<0?1:-1;return u===h?0:u>h^d.s<0?1:-1},su.decimalPlaces=su.dp=function(){var e=this,n=e.d.length-1,l=7*(n-e.e);if(n=e.d[n])for(;n%10==0;n/=10)l--;return l<0?0:l},su.dividedBy=su.div=function(e){return lu(this,new this.constructor(e))},su.dividedToIntegerBy=su.idiv=function(e){var n=this.constructor;return round(lu(this,new n(e),0,1),n.precision)},su.equals=su.eq=function(e){return!this.cmp(e)},su.exponent=function(){return getBase10Exponent(this)},su.greaterThan=su.gt=function(e){return this.cmp(e)>0},su.greaterThanOrEqualTo=su.gte=function(e){return this.cmp(e)>=0},su.isInteger=su.isint=function(){return this.e>this.d.length-2},su.isNegative=su.isneg=function(){return this.s<0},su.isPositive=su.ispos=function(){return this.s>0},su.isZero=function(){return 0===this.s},su.lessThan=su.lt=function(e){return this.cmp(e)<0},su.lessThanOrEqualTo=su.lte=function(e){return this.cmp(e)<1},su.logarithm=su.log=function(e){var n,l=this,u=l.constructor,h=u.precision,d=h+5;if(void 0===e)e=new u(10);else if((e=new u(e)).s<1||e.eq(Yl))throw Error(Ql+"NaN");if(l.s<1)throw Error(Ql+(l.s?"NaN":"-Infinity"));return l.eq(Yl)?new u(0):(Xl=!1,n=lu(ln$1(l,d),ln$1(e,d),d),Xl=!0,round(n,h))},su.minus=su.sub=function(e){var n=this;return e=new n.constructor(e),n.s==e.s?subtract(n,e):add(n,(e.s=-e.s,e))},su.modulo=su.mod=function(e){var n,l=this,u=l.constructor,h=u.precision;if(!(e=new u(e)).s)throw Error(Ql+"NaN");return l.s?(Xl=!1,n=lu(l,e,0,1).times(e),Xl=!0,l.minus(n)):round(new u(l),h)},su.naturalExponential=su.exp=function(){return exp(this)},su.naturalLogarithm=su.ln=function(){return ln$1(this)},su.negated=su.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},su.plus=su.add=function(e){var n=this;return e=new n.constructor(e),n.s==e.s?add(n,e):subtract(n,(e.s=-e.s,e))},su.precision=su.sd=function(e){var n,l,u,h=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Zl+e);if(n=getBase10Exponent(h)+1,l=7*(u=h.d.length-1)+1,u=h.d[u]){for(;u%10==0;u/=10)l--;for(u=h.d[0];u>=10;u/=10)l++}return e&&n>l?n:l},su.squareRoot=su.sqrt=function(){var e,n,l,u,h,d,f,P=this,V=P.constructor;if(P.s<1){if(!P.s)return new V(0);throw Error(Ql+"NaN")}for(e=getBase10Exponent(P),Xl=!1,0==(h=Math.sqrt(+P))||h==1/0?(((n=digitsToString(P.d)).length+e)%2==0&&(n+="0"),h=Math.sqrt(n),e=tu((e+1)/2)-(e<0||e%2),u=new V(n=h==1/0?"5e"+e:(n=h.toExponential()).slice(0,n.indexOf("e")+1)+e)):u=new V(h.toString()),h=f=(l=V.precision)+3;;)if(u=(d=u).plus(lu(P,d,f+2)).times(.5),digitsToString(d.d).slice(0,f)===(n=digitsToString(u.d)).slice(0,f)){if(n=n.slice(f-3,f+1),h==f&&"4999"==n){if(round(d,l+1,0),d.times(d).eq(P)){u=d;break}}else if("9999"!=n)break;f+=4}return Xl=!0,round(u,l)},su.times=su.mul=function(e){var n,l,u,h,d,f,P,V,B,b=this,C=b.constructor,S=b.d,x=(e=new C(e)).d;if(!b.s||!e.s)return new C(0);for(e.s*=b.s,l=b.e+e.e,(V=S.length)<(B=x.length)&&(d=S,S=x,x=d,f=V,V=B,B=f),d=[],u=f=V+B;u--;)d.push(0);for(u=B;--u>=0;){for(n=0,h=V+u;h>u;)P=d[h]+x[u]*S[h-u-1]+n,d[h--]=P%au|0,n=P/au|0;d[h]=(d[h]+n)%au|0}for(;!d[--f];)d.pop();return n?++l:d.shift(),e.d=d,e.e=l,Xl?round(e,C.precision):e},su.toDecimalPlaces=su.todp=function(e,n){var l=this,u=l.constructor;return l=new u(l),void 0===e?l:(checkInt32(e,0,Kl),void 0===n?n=u.rounding:checkInt32(n,0,8),round(l,e+getBase10Exponent(l)+1,n))},su.toExponential=function(e,n){var l,u=this,h=u.constructor;return void 0===e?l=toString$1(u,!0):(checkInt32(e,0,Kl),void 0===n?n=h.rounding:checkInt32(n,0,8),l=toString$1(u=round(new h(u),e+1,n),!0,e+1)),l},su.toFixed=function(e,n){var l,u,h=this,d=h.constructor;return void 0===e?toString$1(h):(checkInt32(e,0,Kl),void 0===n?n=d.rounding:checkInt32(n,0,8),l=toString$1((u=round(new d(h),e+getBase10Exponent(h)+1,n)).abs(),!1,e+getBase10Exponent(u)+1),h.isneg()&&!h.isZero()?"-"+l:l)},su.toInteger=su.toint=function(){var e=this,n=e.constructor;return round(new n(e),getBase10Exponent(e)+1,n.rounding)},su.toNumber=function(){return+this},su.toPower=su.pow=function(e){var n,l,u,h,d,f,P=this,V=P.constructor,B=+(e=new V(e));if(!e.s)return new V(Yl);if(!(P=new V(P)).s){if(e.s<1)throw Error(Ql+"Infinity");return P}if(P.eq(Yl))return P;if(u=V.precision,e.eq(Yl))return round(P,u);if(f=(n=e.e)>=(l=e.d.length-1),d=P.s,f){if((l=B<0?-B:B)<=iu){for(h=new V(Yl),n=Math.ceil(u/7+4),Xl=!1;l%2&&truncate((h=h.times(P)).d,n),0!==(l=tu(l/2));)truncate((P=P.times(P)).d,n);return Xl=!0,e.s<0?new V(Yl).div(h):round(h,u)}}else if(d<0)throw Error(Ql+"NaN");return d=d<0&&1&e.d[Math.max(n,l)]?-1:1,P.s=1,Xl=!1,h=e.times(ln$1(P,u+12)),Xl=!0,(h=exp(h)).s=d,h},su.toPrecision=function(e,n){var l,u,h=this,d=h.constructor;return void 0===e?u=toString$1(h,(l=getBase10Exponent(h))<=d.toExpNeg||l>=d.toExpPos):(checkInt32(e,1,Kl),void 0===n?n=d.rounding:checkInt32(n,0,8),u=toString$1(h=round(new d(h),e,n),e<=(l=getBase10Exponent(h))||l<=d.toExpNeg,e)),u},su.toSignificantDigits=su.tosd=function(e,n){var l=this.constructor;return void 0===e?(e=l.precision,n=l.rounding):(checkInt32(e,1,Kl),void 0===n?n=l.rounding:checkInt32(n,0,8)),round(new l(this),e,n)},su.toString=su.valueOf=su.val=su.toJSON=su[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,n=getBase10Exponent(e),l=e.constructor;return toString$1(e,n<=l.toExpNeg||n>=l.toExpPos)};var lu=function(){function multiplyInteger(e,n){var l,u=0,h=e.length;for(e=e.slice();h--;)l=e[h]*n+u,e[h]=l%au|0,u=l/au|0;return u&&e.unshift(u),e}function compare(e,n,l,u){var h,d;if(l!=u)d=l>u?1:-1;else for(h=d=0;h<l;h++)if(e[h]!=n[h]){d=e[h]>n[h]?1:-1;break}return d}function subtract2(e,n,l){for(var u=0;l--;)e[l]-=u,u=e[l]<n[l]?1:0,e[l]=u*au+e[l]-n[l];for(;!e[0]&&e.length>1;)e.shift()}return function(e,n,l,u){var h,d,f,P,V,B,b,C,S,x,E,_,O,A,q,N,D,L,U=e.constructor,j=e.s==n.s?1:-1,$=e.d,z=n.d;if(!e.s)return new U(e);if(!n.s)throw Error(Ql+"Division by zero");for(d=e.e-n.e,D=z.length,q=$.length,C=(b=new U(j)).d=[],f=0;z[f]==($[f]||0);)++f;if(z[f]>($[f]||0)&&--d,(_=null==l?l=U.precision:u?l+(getBase10Exponent(e)-getBase10Exponent(n))+1:l)<0)return new U(0);if(_=_/7+2|0,f=0,1==D)for(P=0,z=z[0],_++;(f<q||P)&&_--;f++)O=P*au+($[f]||0),C[f]=O/z|0,P=O%z|0;else{for((P=au/(z[0]+1)|0)>1&&(z=multiplyInteger(z,P),$=multiplyInteger($,P),D=z.length,q=$.length),A=D,x=(S=$.slice(0,D)).length;x<D;)S[x++]=0;(L=z.slice()).unshift(0),N=z[0],z[1]>=au/2&&++N;do{P=0,(h=compare(z,S,D,x))<0?(E=S[0],D!=x&&(E=E*au+(S[1]||0)),(P=E/N|0)>1?(P>=au&&(P=au-1),1==(h=compare(V=multiplyInteger(z,P),S,B=V.length,x=S.length))&&(P--,subtract2(V,D<B?L:z,B))):(0==P&&(h=P=1),V=z.slice()),(B=V.length)<x&&V.unshift(0),subtract2(S,V,x),-1==h&&(h=compare(z,S,D,x=S.length))<1&&(P++,subtract2(S,D<x?L:z,x)),x=S.length):0===h&&(P++,S=[0]),C[f++]=P,h&&S[0]?S[x++]=$[A]||0:(S=[$[A]],x=1)}while((A++<q||void 0!==S[0])&&_--)}return C[0]||C.shift(),b.e=d,round(b,u?l+getBase10Exponent(b)+1:l)}}();function exp(e,n){var l,u,h,d,f,P=0,V=0,B=e.constructor,b=B.precision;if(getBase10Exponent(e)>16)throw Error(eu+getBase10Exponent(e));if(!e.s)return new B(Yl);for(Xl=!1,f=b,d=new B(.03125);e.abs().gte(.1);)e=e.times(d),V+=5;for(f+=Math.log(nu(2,V))/Math.LN10*2+5|0,l=u=h=new B(Yl),B.precision=f;;){if(u=round(u.times(e),f),l=l.times(++P),digitsToString((d=h.plus(lu(u,l,f))).d).slice(0,f)===digitsToString(h.d).slice(0,f)){for(;V--;)h=round(h.times(h),f);return B.precision=b,null==n?(Xl=!0,round(h,b)):h}h=d}}function getBase10Exponent(e){for(var n=7*e.e,l=e.d[0];l>=10;l/=10)n++;return n}function getLn10(e,n,l){if(n>e.LN10.sd())throw Xl=!0,l&&(e.precision=l),Error(Ql+"LN10 precision limit exceeded");return round(new e(e.LN10),n)}function getZeroString(e){for(var n="";e--;)n+="0";return n}function ln$1(e,n){var l,u,h,d,f,P,V,B,b,C=1,S=e,x=S.d,E=S.constructor,_=E.precision;if(S.s<1)throw Error(Ql+(S.s?"NaN":"-Infinity"));if(S.eq(Yl))return new E(0);if(null==n?(Xl=!1,B=_):B=n,S.eq(10))return null==n&&(Xl=!0),getLn10(E,B);if(B+=10,E.precision=B,u=(l=digitsToString(x)).charAt(0),d=getBase10Exponent(S),!(Math.abs(d)<15e14))return V=getLn10(E,B+2,_).times(d+""),S=ln$1(new E(u+"."+l.slice(1)),B-10).plus(V),E.precision=_,null==n?(Xl=!0,round(S,_)):S;for(;u<7&&1!=u||1==u&&l.charAt(1)>3;)u=(l=digitsToString((S=S.times(e)).d)).charAt(0),C++;for(d=getBase10Exponent(S),u>1?(S=new E("0."+l),d++):S=new E(u+"."+l.slice(1)),P=f=S=lu(S.minus(Yl),S.plus(Yl),B),b=round(S.times(S),B),h=3;;){if(f=round(f.times(b),B),digitsToString((V=P.plus(lu(f,new E(h),B))).d).slice(0,B)===digitsToString(P.d).slice(0,B))return P=P.times(2),0!==d&&(P=P.plus(getLn10(E,B+2,_).times(d+""))),P=lu(P,new E(C),B),E.precision=_,null==n?(Xl=!0,round(P,_)):P;P=V,h+=2}}function parseDecimal(e,n){var l,u,h;for((l=n.indexOf("."))>-1&&(n=n.replace(".","")),(u=n.search(/e/i))>0?(l<0&&(l=u),l+=+n.slice(u+1),n=n.substring(0,u)):l<0&&(l=n.length),u=0;48===n.charCodeAt(u);)++u;for(h=n.length;48===n.charCodeAt(h-1);)--h;if(n=n.slice(u,h)){if(h-=u,l=l-u-1,e.e=tu(l/7),e.d=[],u=(l+1)%7,l<0&&(u+=7),u<h){for(u&&e.d.push(+n.slice(0,u)),h-=7;u<h;)e.d.push(+n.slice(u,u+=7));u=7-(n=n.slice(u)).length}else u-=h;for(;u--;)n+="0";if(e.d.push(+n),Xl&&(e.e>ou||e.e<-ou))throw Error(eu+l)}else e.s=0,e.e=0,e.d=[0];return e}function round(e,n,l){var u,h,d,f,P,V,B,b,C=e.d;for(f=1,d=C[0];d>=10;d/=10)f++;if((u=n-f)<0)u+=7,h=n,B=C[b=0];else{if((b=Math.ceil((u+1)/7))>=(d=C.length))return e;for(B=d=C[b],f=1;d>=10;d/=10)f++;h=(u%=7)-7+f}if(void 0!==l&&(P=B/(d=nu(10,f-h-1))%10|0,V=n<0||void 0!==C[b+1]||B%d,V=l<4?(P||V)&&(0==l||l==(e.s<0?3:2)):P>5||5==P&&(4==l||V||6==l&&(u>0?h>0?B/nu(10,f-h):0:C[b-1])%10&1||l==(e.s<0?8:7))),n<1||!C[0])return V?(d=getBase10Exponent(e),C.length=1,n=n-d-1,C[0]=nu(10,(7-n%7)%7),e.e=tu(-n/7)||0):(C.length=1,C[0]=e.e=e.s=0),e;if(0==u?(C.length=b,d=1,b--):(C.length=b+1,d=nu(10,7-u),C[b]=h>0?(B/nu(10,f-h)%nu(10,h)|0)*d:0),V)for(;;){if(0==b){(C[0]+=d)==au&&(C[0]=1,++e.e);break}if(C[b]+=d,C[b]!=au)break;C[b--]=0,d=1}for(u=C.length;0===C[--u];)C.pop();if(Xl&&(e.e>ou||e.e<-ou))throw Error(eu+getBase10Exponent(e));return e}function subtract(e,n){var l,u,h,d,f,P,V,B,b,C,S=e.constructor,x=S.precision;if(!e.s||!n.s)return n.s?n.s=-n.s:n=new S(e),Xl?round(n,x):n;if(V=e.d,C=n.d,u=n.e,B=e.e,V=V.slice(),f=B-u){for((b=f<0)?(l=V,f=-f,P=C.length):(l=C,u=B,P=V.length),f>(h=Math.max(Math.ceil(x/7),P)+2)&&(f=h,l.length=1),l.reverse(),h=f;h--;)l.push(0);l.reverse()}else{for((b=(h=V.length)<(P=C.length))&&(P=h),h=0;h<P;h++)if(V[h]!=C[h]){b=V[h]<C[h];break}f=0}for(b&&(l=V,V=C,C=l,n.s=-n.s),P=V.length,h=C.length-P;h>0;--h)V[P++]=0;for(h=C.length;h>f;){if(V[--h]<C[h]){for(d=h;d&&0===V[--d];)V[d]=au-1;--V[d],V[h]+=au}V[h]-=C[h]}for(;0===V[--P];)V.pop();for(;0===V[0];V.shift())--u;return V[0]?(n.d=V,n.e=u,Xl?round(n,x):n):new S(0)}function toString$1(e,n,l){var u,h=getBase10Exponent(e),d=digitsToString(e.d),f=d.length;return n?(l&&(u=l-f)>0?d=d.charAt(0)+"."+d.slice(1)+getZeroString(u):f>1&&(d=d.charAt(0)+"."+d.slice(1)),d=d+(h<0?"e":"e+")+h):h<0?(d="0."+getZeroString(-h-1)+d,l&&(u=l-f)>0&&(d+=getZeroString(u))):h>=f?(d+=getZeroString(h+1-f),l&&(u=l-h-1)>0&&(d=d+"."+getZeroString(u))):((u=h+1)<f&&(d=d.slice(0,u)+"."+d.slice(u)),l&&(u=l-f)>0&&(h+1===f&&(d+="."),d+=getZeroString(u))),e.s<0?"-"+d:d}function truncate(e,n){if(e.length>n)return e.length=n,!0}function config(e){if(!e||"object"!=typeof e)throw Error(Ql+"Object expected");var n,l,u,h=["precision",1,Kl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(n=0;n<h.length;n+=3)if(void 0!==(u=e[l=h[n]])){if(!(tu(u)===u&&u>=h[n+1]&&u<=h[n+2]))throw Error(Zl+l+": "+u);this[l]=u}if(void 0!==(u=e[l="LN10"])){if(u!=Math.LN10)throw Error(Zl+l+": "+u);this[l]=new this(u)}return this}var uu=function clone$1(e){var n,l,u;function Decimal2(e){var n=this;if(!(n instanceof Decimal2))return new Decimal2(e);if(n.constructor=Decimal2,e instanceof Decimal2)return n.s=e.s,n.e=e.e,void(n.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(Zl+e);if(e>0)n.s=1;else{if(!(e<0))return n.s=0,n.e=0,void(n.d=[0]);e=-e,n.s=-1}return e===~~e&&e<1e7?(n.e=0,void(n.d=[e])):parseDecimal(n,e.toString())}if("string"!=typeof e)throw Error(Zl+e);if(45===e.charCodeAt(0)?(e=e.slice(1),n.s=-1):n.s=1,!ru.test(e))throw Error(Zl+e);parseDecimal(n,e)}if(Decimal2.prototype=su,Decimal2.ROUND_UP=0,Decimal2.ROUND_DOWN=1,Decimal2.ROUND_CEIL=2,Decimal2.ROUND_FLOOR=3,Decimal2.ROUND_HALF_UP=4,Decimal2.ROUND_HALF_DOWN=5,Decimal2.ROUND_HALF_EVEN=6,Decimal2.ROUND_HALF_CEIL=7,Decimal2.ROUND_HALF_FLOOR=8,Decimal2.clone=clone$1,Decimal2.config=Decimal2.set=config,void 0===e&&(e={}),e)for(u=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<u.length;)e.hasOwnProperty(l=u[n++])||(e[l]=this[l]);return Decimal2.config(e),Decimal2}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});Yl=new uu(1);const cu=uu;var hu,yu;function invariant(e,n){throw new Error("Invariant failed")}const du=n(yu?hu:(yu=1,hu=function(e){var n=null==e?0:e.length;return n?e[n-1]:void 0}));var fu,gu,pu,mu,Pu,vu={exports:{}};function requireReactPropTypesSecret(){if(gu)return fu;gu=1;return fu="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function requireFactoryWithThrowingShims(){if(mu)return pu;mu=1;var e=requireReactPropTypesSecret();function emptyFunction(){}function emptyFunctionWithReset(){}return emptyFunctionWithReset.resetWarningCache=emptyFunction,pu=function(){function shim(n,l,u,h,d,f){if(f!==e){var P=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw P.name="Invariant Violation",P}}function getShim(){return shim}shim.isRequired=shim;var n={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return n.PropTypes=n,n}}function requirePropTypes(){return Pu||(Pu=1,vu.exports=requireFactoryWithThrowingShims()()),vu.exports}const Vu=n(requirePropTypes());var Bu=Object.getOwnPropertyNames,bu=Object.getOwnPropertySymbols,Tu=Object.prototype.hasOwnProperty;function combineComparators(e,n){return function(l,u,h){return e(l,u,h)&&n(l,u,h)}}function createIsCircular(e){return function(n,l,u){if(!n||!l||"object"!=typeof n||"object"!=typeof l)return e(n,l,u);var h=u.cache,d=h.get(n),f=h.get(l);if(d&&f)return d===l&&f===n;h.set(n,l),h.set(l,n);var P=e(n,l,u);return h.delete(n),h.delete(l),P}}function getStrictProperties(e){return Bu(e).concat(bu(e))}var Cu=Object.hasOwn||function(e,n){return Tu.call(e,n)};function sameValueZeroEqual(e,n){return e===n||!e&&!n&&e!=e&&n!=n}var Su=Object.getOwnPropertyDescriptor,xu=Object.keys;function areArraysEqual(e,n,l){var u=e.length;if(n.length!==u)return!1;for(;u-- >0;)if(!l.equals(e[u],n[u],u,u,e,n,l))return!1;return!0}function areDatesEqual(e,n){return sameValueZeroEqual(e.getTime(),n.getTime())}function areErrorsEqual(e,n){return e.name===n.name&&e.message===n.message&&e.cause===n.cause&&e.stack===n.stack}function areFunctionsEqual(e,n){return e===n}function areMapsEqual(e,n,l){var u=e.size;if(u!==n.size)return!1;if(!u)return!0;for(var h,d,f=new Array(u),P=e.entries(),V=0;(h=P.next())&&!h.done;){for(var B=n.entries(),b=!1,C=0;(d=B.next())&&!d.done;)if(f[C])C++;else{var S=h.value,x=d.value;if(l.equals(S[0],x[0],V,C,e,n,l)&&l.equals(S[1],x[1],S[0],x[0],e,n,l)){b=f[C]=!0;break}C++}if(!b)return!1;V++}return!0}var Eu=sameValueZeroEqual;function areObjectsEqual(e,n,l){var u=xu(e),h=u.length;if(xu(n).length!==h)return!1;for(;h-- >0;)if(!isPropertyEqual(e,n,l,u[h]))return!1;return!0}function areObjectsEqualStrict(e,n,l){var u,h,d,f=getStrictProperties(e),P=f.length;if(getStrictProperties(n).length!==P)return!1;for(;P-- >0;){if(!isPropertyEqual(e,n,l,u=f[P]))return!1;if(h=Su(e,u),d=Su(n,u),(h||d)&&(!h||!d||h.configurable!==d.configurable||h.enumerable!==d.enumerable||h.writable!==d.writable))return!1}return!0}function arePrimitiveWrappersEqual(e,n){return sameValueZeroEqual(e.valueOf(),n.valueOf())}function areRegExpsEqual(e,n){return e.source===n.source&&e.flags===n.flags}function areSetsEqual(e,n,l){var u=e.size;if(u!==n.size)return!1;if(!u)return!0;for(var h,d,f=new Array(u),P=e.values();(h=P.next())&&!h.done;){for(var V=n.values(),B=!1,b=0;(d=V.next())&&!d.done;){if(!f[b]&&l.equals(h.value,d.value,h.value,d.value,e,n,l)){B=f[b]=!0;break}b++}if(!B)return!1}return!0}function areTypedArraysEqual(e,n){var l=e.length;if(n.length!==l)return!1;for(;l-- >0;)if(e[l]!==n[l])return!1;return!0}function areUrlsEqual(e,n){return e.hostname===n.hostname&&e.pathname===n.pathname&&e.protocol===n.protocol&&e.port===n.port&&e.hash===n.hash&&e.username===n.username&&e.password===n.password}function isPropertyEqual(e,n,l,u){return!("_owner"!==u&&"__o"!==u&&"__v"!==u||!e.$$typeof&&!n.$$typeof)||Cu(n,u)&&l.equals(e[u],n[u],u,u,e,n,l)}var _u=Array.isArray,Ou="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Au=Object.assign,wu=Object.prototype.toString.call.bind(Object.prototype.toString);var Iu,Mu,qu=createCustomEqual();function createCustomEqual(e){void 0===e&&(e={});var n,l=e.circular,u=void 0!==l&&l,h=e.createInternalComparator,d=e.createState,f=e.strict,P=void 0!==f&&f,V=function(e){var n=e.circular,l=e.createCustomConfig,u=e.strict,h={areArraysEqual:u?areObjectsEqualStrict:areArraysEqual,areDatesEqual:areDatesEqual,areErrorsEqual:areErrorsEqual,areFunctionsEqual:areFunctionsEqual,areMapsEqual:u?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual:Eu,areObjectsEqual:u?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual:arePrimitiveWrappersEqual,areRegExpsEqual:areRegExpsEqual,areSetsEqual:u?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:u?areObjectsEqualStrict:areTypedArraysEqual,areUrlsEqual:areUrlsEqual};if(l&&(h=Au({},h,l(h))),n){var d=createIsCircular(h.areArraysEqual),f=createIsCircular(h.areMapsEqual),P=createIsCircular(h.areObjectsEqual),V=createIsCircular(h.areSetsEqual);h=Au({},h,{areArraysEqual:d,areMapsEqual:f,areObjectsEqual:P,areSetsEqual:V})}return h}(e),B=function(e){var n=e.areArraysEqual,l=e.areDatesEqual,u=e.areErrorsEqual,h=e.areFunctionsEqual,d=e.areMapsEqual,f=e.areNumbersEqual,P=e.areObjectsEqual,V=e.arePrimitiveWrappersEqual,B=e.areRegExpsEqual,b=e.areSetsEqual,C=e.areTypedArraysEqual,S=e.areUrlsEqual;return function(e,x,E){if(e===x)return!0;if(null==e||null==x)return!1;var _=typeof e;if(_!==typeof x)return!1;if("object"!==_)return"number"===_?f(e,x,E):"function"===_&&h(e,x,E);var O=e.constructor;if(O!==x.constructor)return!1;if(O===Object)return P(e,x,E);if(_u(e))return n(e,x,E);if(null!=Ou&&Ou(e))return C(e,x,E);if(O===Date)return l(e,x,E);if(O===RegExp)return B(e,x,E);if(O===Map)return d(e,x,E);if(O===Set)return b(e,x,E);var A=wu(e);return"[object Date]"===A?l(e,x,E):"[object RegExp]"===A?B(e,x,E):"[object Map]"===A?d(e,x,E):"[object Set]"===A?b(e,x,E):"[object Object]"===A?"function"!=typeof e.then&&"function"!=typeof x.then&&P(e,x,E):"[object URL]"===A?S(e,x,E):"[object Error]"===A?u(e,x,E):"[object Arguments]"===A?P(e,x,E):("[object Boolean]"===A||"[object Number]"===A||"[object String]"===A)&&V(e,x,E)}}(V);return function(e){var n=e.circular,l=e.comparator,u=e.createState,h=e.equals,d=e.strict;if(u)return function(e,f){var P=u(),V=P.cache,B=void 0===V?n?new WeakMap:void 0:V,b=P.meta;return l(e,f,{cache:B,equals:h,meta:b,strict:d})};if(n)return function(e,n){return l(e,n,{cache:new WeakMap,equals:h,meta:void 0,strict:d})};var f={cache:void 0,equals:h,meta:void 0,strict:d};return function(e,n){return l(e,n,f)}}({circular:u,comparator:B,createState:d,equals:h?h(B):(n=B,function(e,l,u,h,d,f,P){return n(e,l,P)}),strict:P})}createCustomEqual({strict:!0}),createCustomEqual({circular:!0}),createCustomEqual({circular:!0,strict:!0}),createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}}),createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}}),createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}}),createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});const Nu=n(function(){if(Mu)return Iu;Mu=1;var e=require_baseExtremum(),n=require_baseGt(),l=require_baseIteratee();return Iu=function(u,h){return u&&u.length?e(u,l(h,2),n):void 0}}());var Ru,ku;const Du=n(function(){if(ku)return Ru;ku=1;var e=require_baseExtremum(),n=require_baseIteratee(),l=require_baseLt();return Ru=function(u,h){return u&&u.length?e(u,n(h,2),l):void 0}}());var Lu,Fu,Uu,ju;const Gu=n(function(){if(ju)return Uu;ju=1;var e=require_baseGetTag(),n=function(){if(Fu)return Lu;Fu=1;var e=require_overArg()(Object.getPrototypeOf,Object);return Lu=e}(),l=requireIsObjectLike(),u=Function.prototype,h=Object.prototype,d=u.toString,f=h.hasOwnProperty,P=d.call(Object);return Uu=function(u){if(!l(u)||"[object Object]"!=e(u))return!1;var h=n(u);if(null===h)return!0;var V=f.call(h,"constructor")&&h.constructor;return"function"==typeof V&&V instanceof V&&d.call(V)==P}}());var Hu,$u;const zu=n(function(){if($u)return Hu;$u=1;var e=require_baseGetTag(),n=requireIsObjectLike();return Hu=function(l){return!0===l||!1===l||n(l)&&"[object Boolean]"==e(l)}}());var Ju,Wu,Yu,Ku,Xu,Qu,Zu,ec;function requireToFinite(){if(Ku)return Yu;Ku=1;var e=requireToNumber(),n=1/0;return Yu=function(l){return l?(l=e(l))===n||l===-1/0?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}}function require_createRange(){if(Qu)return Xu;Qu=1;var e=function(){if(Wu)return Ju;Wu=1;var e=Math.ceil,n=Math.max;return Ju=function(l,u,h,d){for(var f=-1,P=n(e((u-l)/(h||1)),0),V=Array(P);P--;)V[d?P:++f]=l,l+=h;return V}}(),n=require_isIterateeCall(),l=requireToFinite();return Xu=function(u){return function(h,d,f){return f&&"number"!=typeof f&&n(h,d,f)&&(d=f=void 0),h=l(h),void 0===d?(d=h,h=0):d=l(d),f=void 0===f?h<d?1:-1:l(f),e(h,d,f,u)}}}const tc=n(function(){if(ec)return Zu;ec=1;var e=require_createRange()();return Zu=e}());var nc,rc,ac,ic;var oc=function(){if(ic)return ac;ic=1;var e=require_arraySome(),n=require_baseIteratee(),l=function(){if(rc)return nc;rc=1;var e=require_baseEach();return nc=function(n,l){var u;return e(n,function(e,n,h){return!(u=l(e,n,h))}),!!u}}(),u=requireIsArray$1(),h=require_isIterateeCall();return ac=function(d,f,P){var V=u(d)?e:l;return P&&h(d,f,P)&&(f=void 0),V(d,n(f,3))}}();const sc=n(oc);var uc,cc,hc,yc;const dc=n(function(){if(yc)return hc;yc=1;var e=function(){if(cc)return uc;cc=1;var e=require_defineProperty();return uc=function(n,l,u){"__proto__"==l&&e?e(n,l,{configurable:!0,enumerable:!0,value:u,writable:!0}):n[l]=u}}(),n=require_baseForOwn(),l=require_baseIteratee();return hc=function(u,h){var d={};return h=l(h,3),n(u,function(n,l,u){e(d,l,h(n,l,u))}),d}}());var fc,gc,pc,mc,Pc,vc;var Vc=function(){if(vc)return Pc;vc=1;var e=gc?fc:(gc=1,fc=function(e,n){for(var l=-1,u=null==e?0:e.length;++l<u;)if(!n(e[l],l,e))return!1;return!0}),n=function(){if(mc)return pc;mc=1;var e=require_baseEach();return pc=function(n,l){var u=!0;return e(n,function(e,n,h){return u=!!l(e,n,h)}),u}}(),l=require_baseIteratee(),u=requireIsArray$1(),h=require_isIterateeCall();return Pc=function(d,f,P){var V=u(d)?e:n;return P&&h(d,f,P)&&(f=void 0),V(d,l(f,3))}}();const Bc=n(Vc);var bc,Tc,Cc,Sc,xc,Ec,_c,Oc;function requireFindIndex(){if(Ec)return xc;Ec=1;var e=require_baseFindIndex(),n=require_baseIteratee(),l=function(){if(Sc)return Cc;Sc=1;var e=requireToFinite();return Cc=function(n){var l=e(n),u=l%1;return l==l?u?l-u:l:0}}(),u=Math.max;return xc=function(h,d,f){var P=null==h?0:h.length;if(!P)return-1;var V=null==f?0:l(f);return V<0&&(V=u(P+V,0)),e(h,n(d,3),V)}}!function(){if(Oc)return _c;Oc=1;var e=function(){if(Tc)return bc;Tc=1;var e=require_baseIteratee(),n=requireIsArrayLike(),l=requireKeys();return bc=function(u){return function(h,d,f){var P=Object(h);if(!n(h)){var V=e(d,3);h=l(h),d=function(e){return V(P[e],e,P)}}var B=u(h,d,f);return B>-1?P[V?h[B]:B]:void 0}}}()(requireFindIndex());_c=e}();const Ac=n(requireMemoize());var wc,Ic={exports:{}};const Mc=n((wc||(wc=1,function(e){var n=Object.prototype.hasOwnProperty,l="~";function Events(){}function EE(e,n,l){this.fn=e,this.context=n,this.once=l||!1}function addListener(e,n,u,h,d){if("function"!=typeof u)throw new TypeError("The listener must be a function");var f=new EE(u,h||e,d),P=l?l+n:n;return e._events[P]?e._events[P].fn?e._events[P]=[e._events[P],f]:e._events[P].push(f):(e._events[P]=f,e._eventsCount++),e}function clearEvent(e,n){0===--e._eventsCount?e._events=new Events:delete e._events[n]}function EventEmitter2(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(l=!1)),EventEmitter2.prototype.eventNames=function(){var e,u,h=[];if(0===this._eventsCount)return h;for(u in e=this._events)n.call(e,u)&&h.push(l?u.slice(1):u);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(e)):h},EventEmitter2.prototype.listeners=function(e){var n=l?l+e:e,u=this._events[n];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,d=u.length,f=new Array(d);h<d;h++)f[h]=u[h].fn;return f},EventEmitter2.prototype.listenerCount=function(e){var n=l?l+e:e,u=this._events[n];return u?u.fn?1:u.length:0},EventEmitter2.prototype.emit=function(e,n,u,h,d,f){var P=l?l+e:e;if(!this._events[P])return!1;var V,B,b=this._events[P],C=arguments.length;if(b.fn){switch(b.once&&this.removeListener(e,b.fn,void 0,!0),C){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,n),!0;case 3:return b.fn.call(b.context,n,u),!0;case 4:return b.fn.call(b.context,n,u,h),!0;case 5:return b.fn.call(b.context,n,u,h,d),!0;case 6:return b.fn.call(b.context,n,u,h,d,f),!0}for(B=1,V=new Array(C-1);B<C;B++)V[B-1]=arguments[B];b.fn.apply(b.context,V)}else{var S,x=b.length;for(B=0;B<x;B++)switch(b[B].once&&this.removeListener(e,b[B].fn,void 0,!0),C){case 1:b[B].fn.call(b[B].context);break;case 2:b[B].fn.call(b[B].context,n);break;case 3:b[B].fn.call(b[B].context,n,u);break;case 4:b[B].fn.call(b[B].context,n,u,h);break;default:if(!V)for(S=1,V=new Array(C-1);S<C;S++)V[S-1]=arguments[S];b[B].fn.apply(b[B].context,V)}}return!0},EventEmitter2.prototype.on=function(e,n,l){return addListener(this,e,n,l,!1)},EventEmitter2.prototype.once=function(e,n,l){return addListener(this,e,n,l,!0)},EventEmitter2.prototype.removeListener=function(e,n,u,h){var d=l?l+e:e;if(!this._events[d])return this;if(!n)return clearEvent(this,d),this;var f=this._events[d];if(f.fn)f.fn!==n||h&&!f.once||u&&f.context!==u||clearEvent(this,d);else{for(var P=0,V=[],B=f.length;P<B;P++)(f[P].fn!==n||h&&!f[P].once||u&&f[P].context!==u)&&V.push(f[P]);V.length?this._events[d]=1===V.length?V[0]:V:clearEvent(this,d)}return this},EventEmitter2.prototype.removeAllListeners=function(e){var n;return e?(n=l?l+e:e,this._events[n]&&clearEvent(this,n)):(this._events=new Events,this._eventsCount=0),this},EventEmitter2.prototype.off=EventEmitter2.prototype.removeListener,EventEmitter2.prototype.addListener=EventEmitter2.prototype.on,EventEmitter2.prefixed=l,EventEmitter2.EventEmitter=EventEmitter2,e.exports=EventEmitter2}(Ic)),Ic.exports));function _typeof$1(e){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qc=Uint8Array,Nc=Uint16Array,Rc=Int32Array,kc=new qc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dc=new qc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Lc=new qc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(e,n){for(var l=new Nc(31),u=0;u<31;++u)l[u]=n+=1<<e[u-1];var h=new Rc(l[30]);for(u=1;u<30;++u)for(var d=l[u];d<l[u+1];++d)h[d]=d-l[u]<<5|u;return{b:l,r:h}},Fc=freb(kc,2),Uc=Fc.b,jc=Fc.r;Uc[28]=258,jc[258]=28;for(var Gc=freb(Dc,0),Hc=Gc.b,$c=Gc.r,zc=new Nc(32768),Jc=0;Jc<32768;++Jc){var Wc=(43690&Jc)>>1|(21845&Jc)<<1;Wc=(61680&(Wc=(52428&Wc)>>2|(13107&Wc)<<2))>>4|(3855&Wc)<<4,zc[Jc]=((65280&Wc)>>8|(255&Wc)<<8)>>1}var hMap=function(e,n,l){for(var u=e.length,h=0,d=new Nc(n);h<u;++h)e[h]&&++d[e[h]-1];var f,P=new Nc(n);for(h=1;h<n;++h)P[h]=P[h-1]+d[h-1]<<1;if(l){f=new Nc(1<<n);var V=15-n;for(h=0;h<u;++h)if(e[h])for(var B=h<<4|e[h],b=n-e[h],C=P[e[h]-1]++<<b,S=C|(1<<b)-1;C<=S;++C)f[zc[C]>>V]=B}else for(f=new Nc(u),h=0;h<u;++h)e[h]&&(f[h]=zc[P[e[h]-1]++]>>15-e[h]);return f},Yc=new qc(288);for(Jc=0;Jc<144;++Jc)Yc[Jc]=8;for(Jc=144;Jc<256;++Jc)Yc[Jc]=9;for(Jc=256;Jc<280;++Jc)Yc[Jc]=7;for(Jc=280;Jc<288;++Jc)Yc[Jc]=8;var Kc=new qc(32);for(Jc=0;Jc<32;++Jc)Kc[Jc]=5;var Xc=hMap(Yc,9,0),Qc=hMap(Yc,9,1),Zc=hMap(Kc,5,0),eh=hMap(Kc,5,1),max=function(e){for(var n=e[0],l=1;l<e.length;++l)e[l]>n&&(n=e[l]);return n},bits=function(e,n,l){var u=n/8|0;return(e[u]|e[u+1]<<8)>>(7&n)&l},bits16=function(e,n){var l=n/8|0;return(e[l]|e[l+1]<<8|e[l+2]<<16)>>(7&n)},shft=function(e){return(e+7)/8|0},slc=function(e,n,l){return(null==l||l>e.length)&&(l=e.length),new qc(e.subarray(n,l))},th=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(e,n,l){var u=new Error(n||th[e]);if(u.code=e,Error.captureStackTrace&&Error.captureStackTrace(u,err),!l)throw u;return u},wbits=function(e,n,l){l<<=7&n;var u=n/8|0;e[u]|=l,e[u+1]|=l>>8},wbits16=function(e,n,l){l<<=7&n;var u=n/8|0;e[u]|=l,e[u+1]|=l>>8,e[u+2]|=l>>16},hTree=function(e,n){for(var l=[],u=0;u<e.length;++u)e[u]&&l.push({s:u,f:e[u]});var h=l.length,d=l.slice();if(!h)return{t:rh,l:0};if(1==h){var f=new qc(l[0].s+1);return f[l[0].s]=1,{t:f,l:1}}l.sort(function(e,n){return e.f-n.f}),l.push({s:-1,f:25001});var P=l[0],V=l[1],B=0,b=1,C=2;for(l[0]={s:-1,f:P.f+V.f,l:P,r:V};b!=h-1;)P=l[l[B].f<l[C].f?B++:C++],V=l[B!=b&&l[B].f<l[C].f?B++:C++],l[b++]={s:-1,f:P.f+V.f,l:P,r:V};var S=d[0].s;for(u=1;u<h;++u)d[u].s>S&&(S=d[u].s);var x=new Nc(S+1),E=ln(l[b-1],x,0);if(E>n){u=0;var _=0,O=E-n,A=1<<O;for(d.sort(function(e,n){return x[n.s]-x[e.s]||e.f-n.f});u<h;++u){var q=d[u].s;if(!(x[q]>n))break;_+=A-(1<<E-x[q]),x[q]=n}for(_>>=O;_>0;){var N=d[u].s;x[N]<n?_-=1<<n-x[N]++-1:++u}for(;u>=0&&_;--u){var D=d[u].s;x[D]==n&&(--x[D],++_)}E=n}return{t:new qc(x),l:E}},ln=function(e,n,l){return-1==e.s?Math.max(ln(e.l,n,l+1),ln(e.r,n,l+1)):n[e.s]=l},lc=function(e){for(var n=e.length;n&&!e[--n];);for(var l=new Nc(++n),u=0,h=e[0],d=1,w=function(e){l[u++]=e},f=1;f<=n;++f)if(e[f]==h&&f!=n)++d;else{if(!h&&d>2){for(;d>138;d-=138)w(32754);d>2&&(w(d>10?d-11<<5|28690:d-3<<5|12305),d=0)}else if(d>3){for(w(h),--d;d>6;d-=6)w(8304);d>2&&(w(d-3<<5|8208),d=0)}for(;d--;)w(h);d=1,h=e[f]}return{c:l.subarray(0,u),n:n}},clen=function(e,n){for(var l=0,u=0;u<n.length;++u)l+=e[u]*n[u];return l},wfblk=function(e,n,l){var u=l.length,h=shft(n+2);e[h]=255&u,e[h+1]=u>>8,e[h+2]=255^e[h],e[h+3]=255^e[h+1];for(var d=0;d<u;++d)e[h+d+4]=l[d];return 8*(h+4+u)},wblk=function(e,n,l,u,h,d,f,P,V,B,b){wbits(n,b++,l),++h[256];for(var C=hTree(h,15),S=C.t,x=C.l,E=hTree(d,15),_=E.t,O=E.l,A=lc(S),q=A.c,N=A.n,D=lc(_),L=D.c,U=D.n,j=new Nc(19),$=0;$<q.length;++$)++j[31&q[$]];for($=0;$<L.length;++$)++j[31&L[$]];for(var z=hTree(j,7),W=z.t,Y=z.l,X=19;X>4&&!W[Lc[X-1]];--X);var Q,Z,ee,te,ne=B+5<<3,re=clen(h,Yc)+clen(d,Kc)+f,ae=clen(h,S)+clen(d,_)+f+14+3*X+clen(j,W)+2*j[16]+3*j[17]+7*j[18];if(V>=0&&ne<=re&&ne<=ae)return wfblk(n,b,e.subarray(V,V+B));if(wbits(n,b,1+(ae<re)),b+=2,ae<re){Q=hMap(S,x,0),Z=S,ee=hMap(_,O,0),te=_;var ie=hMap(W,Y,0);wbits(n,b,N-257),wbits(n,b+5,U-1),wbits(n,b+10,X-4),b+=14;for($=0;$<X;++$)wbits(n,b+3*$,W[Lc[$]]);b+=3*X;for(var oe=[q,L],se=0;se<2;++se){var le=oe[se];for($=0;$<le.length;++$){var ue=31&le[$];wbits(n,b,ie[ue]),b+=W[ue],ue>15&&(wbits(n,b,le[$]>>5&127),b+=le[$]>>12)}}}else Q=Xc,Z=Yc,ee=Zc,te=Kc;for($=0;$<P;++$){var ce=u[$];if(ce>255){wbits16(n,b,Q[(ue=ce>>18&31)+257]),b+=Z[ue+257],ue>7&&(wbits(n,b,ce>>23&31),b+=kc[ue]);var he=31&ce;wbits16(n,b,ee[he]),b+=te[he],he>3&&(wbits16(n,b,ce>>5&8191),b+=Dc[he])}else wbits16(n,b,Q[ce]),b+=Z[ce]}return wbits16(n,b,Q[256]),b+Z[256]},nh=new Rc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rh=new qc(0),adler=function(){var e=1,n=0;return{p:function(l){for(var u=e,h=n,d=0|l.length,f=0;f!=d;){for(var P=Math.min(f+2655,d);f<P;++f)h+=u+=l[f];u=(65535&u)+15*(u>>16),h=(65535&h)+15*(h>>16)}e=u,n=h},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(n%=65521))<<8|n>>8}}},dopt=function(e,n,l,u,h){if(!h&&(h={l:1},n.dictionary)){var d=n.dictionary.subarray(-32768),f=new qc(d.length+e.length);f.set(d),f.set(e,d.length),e=f,h.w=d.length}return function(e,n,l,u,h,d){var f=d.z||e.length,P=new qc(u+f+5*(1+Math.ceil(f/7e3))+h),V=P.subarray(u,P.length-h),B=d.l,b=7&(d.r||0);if(n){b&&(V[0]=d.r>>3);for(var C=nh[n-1],S=C>>13,x=8191&C,E=(1<<l)-1,_=d.p||new Nc(32768),O=d.h||new Nc(E+1),A=Math.ceil(l/3),q=2*A,hsh=function(n){return(e[n]^e[n+1]<<A^e[n+2]<<q)&E},N=new Rc(25e3),D=new Nc(288),L=new Nc(32),U=0,j=0,$=d.i||0,z=0,W=d.w||0,Y=0;$+2<f;++$){var X=hsh($),Q=32767&$,Z=O[X];if(_[Q]=Z,O[X]=Q,W<=$){var ee=f-$;if((U>7e3||z>24576)&&(ee>423||!B)){b=wblk(e,V,0,N,D,L,j,z,Y,$-Y,b),z=U=j=0,Y=$;for(var te=0;te<286;++te)D[te]=0;for(te=0;te<30;++te)L[te]=0}var ne=2,re=0,ae=x,ie=Q-Z&32767;if(ee>2&&X==hsh($-ie))for(var oe=Math.min(S,ee)-1,se=Math.min(32767,$),le=Math.min(258,ee);ie<=se&&--ae&&Q!=Z;){if(e[$+ne]==e[$+ne-ie]){for(var ue=0;ue<le&&e[$+ue]==e[$+ue-ie];++ue);if(ue>ne){if(ne=ue,re=ie,ue>oe)break;var ce=Math.min(ie,ue-2),he=0;for(te=0;te<ce;++te){var ye=$-ie+te&32767,de=ye-_[ye]&32767;de>he&&(he=de,Z=ye)}}}ie+=(Q=Z)-(Z=_[Q])&32767}if(re){N[z++]=268435456|jc[ne]<<18|$c[re];var fe=31&jc[ne],ge=31&$c[re];j+=kc[fe]+Dc[ge],++D[257+fe],++L[ge],W=$+ne,++U}else N[z++]=e[$],++D[e[$]]}}for($=Math.max($,W);$<f;++$)N[z++]=e[$],++D[e[$]];b=wblk(e,V,B,N,D,L,j,z,Y,$-Y,b),B||(d.r=7&b|V[b/8|0]<<3,b-=7,d.h=O,d.p=_,d.i=$,d.w=W)}else{for($=d.w||0;$<f+B;$+=65535){var pe=$+65535;pe>=f&&(V[b/8|0]=B,pe=f),b=wfblk(V,b+1,e.subarray($,pe))}d.i=f}return slc(P,0,u+shft(b)+h)}(e,null==n.level?6:n.level,null==n.mem?h.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+n.mem,l,u,h)},wbytes=function(e,n,l){for(;l;++n)e[n]=l,l>>>=8};function zlibSync(e,n){n||(n={});var l=adler();l.p(e);var u=dopt(e,n,n.dictionary?6:2,4);return function(e,n){var l=n.level,u=0==l?0:l<6?1:9==l?3:2;if(e[0]=120,e[1]=u<<6|(n.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,n.dictionary){var h=adler();h.p(n.dictionary),wbytes(e,2,h.d())}}(u,n),wbytes(u,u.length-4,l.d()),u}function unzlibSync(e,n){return function(e,n,l,u){var h=e.length;if(!h||n.f&&!n.l)return l||new qc(0);var d=!l,f=d||2!=n.i,P=n.i;d&&(l=new qc(3*h));var cbuf=function(e){var n=l.length;if(e>n){var u=new qc(Math.max(2*n,e));u.set(l),l=u}},V=n.f||0,B=n.p||0,b=n.b||0,C=n.l,S=n.d,x=n.m,E=n.n,_=8*h;do{if(!C){V=bits(e,B,1);var O=bits(e,B+1,3);if(B+=3,!O){var A=e[(X=shft(B)+4)-4]|e[X-3]<<8,q=X+A;if(q>h){P&&err(0);break}f&&cbuf(b+A),l.set(e.subarray(X,q),b),n.b=b+=A,n.p=B=8*q,n.f=V;continue}if(1==O)C=Qc,S=eh,x=9,E=5;else if(2==O){var N=bits(e,B,31)+257,D=bits(e,B+10,15)+4,L=N+bits(e,B+5,31)+1;B+=14;for(var U=new qc(L),j=new qc(19),$=0;$<D;++$)j[Lc[$]]=bits(e,B+3*$,7);B+=3*D;var z=max(j),W=(1<<z)-1,Y=hMap(j,z,1);for($=0;$<L;){var X,Q=Y[bits(e,B,W)];if(B+=15&Q,(X=Q>>4)<16)U[$++]=X;else{var Z=0,ee=0;for(16==X?(ee=3+bits(e,B,3),B+=2,Z=U[$-1]):17==X?(ee=3+bits(e,B,7),B+=3):18==X&&(ee=11+bits(e,B,127),B+=7);ee--;)U[$++]=Z}}var te=U.subarray(0,N),ne=U.subarray(N);x=max(te),E=max(ne),C=hMap(te,x,1),S=hMap(ne,E,1)}else err(1);if(B>_){P&&err(0);break}}f&&cbuf(b+131072);for(var re=(1<<x)-1,ae=(1<<E)-1,ie=B;;ie=B){var oe=(Z=C[bits16(e,B)&re])>>4;if((B+=15&Z)>_){P&&err(0);break}if(Z||err(2),oe<256)l[b++]=oe;else{if(256==oe){ie=B,C=null;break}var se=oe-254;if(oe>264){var le=kc[$=oe-257];se=bits(e,B,(1<<le)-1)+Uc[$],B+=le}var ue=S[bits16(e,B)&ae],ce=ue>>4;if(ue||err(3),B+=15&ue,ne=Hc[ce],ce>3&&(le=Dc[ce],ne+=bits16(e,B)&(1<<le)-1,B+=le),B>_){P&&err(0);break}f&&cbuf(b+131072);var he=b+se;if(b<ne){var ye=0-ne,de=Math.min(ne,he);for(ye+b<0&&err(3);b<de;++b)l[b]=u[ye+b]}for(;b<he;++b)l[b]=l[b-ne]}}n.l=C,n.p=ie,n.b=b,n.f=V,C&&(V=1,n.m=x,n.d=S,n.n=E)}while(!V);return b!=l.length&&d?slc(l,0,b):l.subarray(0,b)}(e.subarray(((8!=(15&(l=e)[0])||l[0]>>4>7||(l[0]<<8|l[1])%31)&&err(6,"invalid zlib data"),1==(l[1]>>5&1)&&err(6,"invalid zlib data: "+(32&l[1]?"need":"unexpected")+" dictionary"),2+(l[1]>>3&4)),-4),{i:2},n,n);var l}var ah="undefined"!=typeof TextDecoder&&new TextDecoder;try{ah.decode(rh,{stream:!0})}catch(gV){}const createClassGroupUtils=e=>{const n=createClassMap(e),{conflictingClassGroups:l,conflictingClassGroupModifiers:u}=e;return{getClassGroupId:e=>{const l=e.split("-");return""===l[0]&&1!==l.length&&l.shift(),getGroupRecursive(l,n)||getGroupIdForArbitraryProperty(e)},getConflictingClassGroupIds:(e,n)=>{const h=l[e]||[];return n&&u[e]?[...h,...u[e]]:h}}},getGroupRecursive=(e,n)=>{var l;if(0===e.length)return n.classGroupId;const u=e[0],h=n.nextPart.get(u),d=h?getGroupRecursive(e.slice(1),h):void 0;if(d)return d;if(0===n.validators.length)return;const f=e.join("-");return null==(l=n.validators.find(({validator:e})=>e(f)))?void 0:l.classGroupId},ih=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=e=>{if(ih.test(e)){const n=ih.exec(e)[1],l=null==n?void 0:n.substring(0,n.indexOf(":"));if(l)return"arbitrary.."+l}},createClassMap=e=>{const{theme:n,prefix:l}=e,u={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(e.classGroups),l).forEach(([e,l])=>{processClassesRecursively(l,u,e,n)}),u},processClassesRecursively=(e,n,l,u)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?n:getPart(n,e)).classGroupId=l)}if("function"==typeof e)return isThemeGetter(e)?void processClassesRecursively(e(u),n,l,u):void n.validators.push({validator:e,classGroupId:l});Object.entries(e).forEach(([e,h])=>{processClassesRecursively(h,getPart(n,e),l,u)})})},getPart=(e,n)=>{let l=e;return n.split("-").forEach(e=>{l.nextPart.has(e)||l.nextPart.set(e,{nextPart:new Map,validators:[]}),l=l.nextPart.get(e)}),l},isThemeGetter=e=>e.isThemeGetter,getPrefixedClassGroupEntries=(e,n)=>n?e.map(([e,l])=>[e,l.map(e=>"string"==typeof e?n+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,l])=>[n+e,l])):e)]):e,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,l=new Map,u=new Map;const update=(h,d)=>{l.set(h,d),n++,n>e&&(n=0,u=l,l=new Map)};return{get(e){let n=l.get(e);return void 0!==n?n:void 0!==(n=u.get(e))?(update(e,n),n):void 0},set(e,n){l.has(e)?l.set(e,n):update(e,n)}}},createParseClassName=e=>{const{separator:n,experimentalParseClassName:l}=e,u=1===n.length,h=n[0],d=n.length,parseClassName=e=>{const l=[];let f,P=0,V=0;for(let C=0;C<e.length;C++){let B=e[C];if(0===P){if(B===h&&(u||e.slice(C,C+d)===n)){l.push(e.slice(V,C)),V=C+d;continue}if("/"===B){f=C;continue}}"["===B?P++:"]"===B&&P--}const B=0===l.length?e:e.substring(V),b=B.startsWith("!");return{modifiers:l,hasImportantModifier:b,baseClassName:b?B.substring(1):B,maybePostfixModifierPosition:f&&f>V?f-V:void 0}};return l?e=>l({className:e,parseClassName:parseClassName}):parseClassName},sortModifiers=e=>{if(e.length<=1)return e;const n=[];let l=[];return e.forEach(e=>{"["===e[0]?(n.push(...l.sort(),e),l=[]):l.push(e)}),n.push(...l.sort()),n},oh=/\s+/;function twJoin(){let e,n,l=0,u="";for(;l<arguments.length;)(e=arguments[l++])&&(n=toValue(e))&&(u&&(u+=" "),u+=n);return u}const toValue=e=>{if("string"==typeof e)return e;let n,l="";for(let u=0;u<e.length;u++)e[u]&&(n=toValue(e[u]))&&(l&&(l+=" "),l+=n);return l};function createTailwindMerge(e,...n){let l,u,h,functionToCall=function(d){const f=n.reduce((e,n)=>n(e),e());return l=(e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),...createClassGroupUtils(e)}))(f),u=l.cache.get,h=l.cache.set,functionToCall=tailwindMerge,tailwindMerge(d)};function tailwindMerge(e){const n=u(e);if(n)return n;const d=((e,n)=>{const{parseClassName:l,getClassGroupId:u,getConflictingClassGroupIds:h}=n,d=[],f=e.trim().split(oh);let P="";for(let V=f.length-1;V>=0;V-=1){const e=f[V],{modifiers:n,hasImportantModifier:B,baseClassName:b,maybePostfixModifierPosition:C}=l(e);let S=Boolean(C),x=u(S?b.substring(0,C):b);if(!x){if(!S){P=e+(P.length>0?" "+P:P);continue}if(x=u(b),!x){P=e+(P.length>0?" "+P:P);continue}S=!1}const E=sortModifiers(n).join(":"),_=B?E+"!":E,O=_+x;if(d.includes(O))continue;d.push(O);const A=h(x,S);for(let l=0;l<A.length;++l){const e=A[l];d.push(_+e)}P=e+(P.length>0?" "+P:P)}return P})(e,l);return h(e,d),d}return function(){return functionToCall(twJoin.apply(null,arguments))}}const fromTheme=e=>{const themeGetter=n=>n[e]||[];return themeGetter.isThemeGetter=!0,themeGetter},sh=/^\[(?:([a-z-]+):)?(.+)\]$/i,lh=/^\d+\/\d+$/,uh=new Set(["px","full","screen"]),ch=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yh=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dh=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fh=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=e=>isNumber(e)||uh.has(e)||lh.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,"length",isLengthOnly),isNumber=e=>Boolean(e)&&!Number.isNaN(Number(e)),isArbitraryNumber=e=>getIsArbitraryValue(e,"number",isNumber),isInteger=e=>Boolean(e)&&Number.isInteger(Number(e)),isPercent=e=>e.endsWith("%")&&isNumber(e.slice(0,-1)),isArbitraryValue=e=>sh.test(e),isTshirtSize=e=>ch.test(e),gh=new Set(["length","size","percentage"]),isArbitrarySize=e=>getIsArbitraryValue(e,gh,isNever),isArbitraryPosition=e=>getIsArbitraryValue(e,"position",isNever),ph=new Set(["image","url"]),isArbitraryImage=e=>getIsArbitraryValue(e,ph,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(e,n,l)=>{const u=sh.exec(e);return!!u&&(u[1]?"string"==typeof n?u[1]===n:n.has(u[1]):l(u[2]))},isLengthOnly=e=>hh.test(e)&&!yh.test(e),isNever=()=>!1,isShadow=e=>dh.test(e),isImage=e=>fh.test(e),mh=createTailwindMerge(()=>{const e=fromTheme("colors"),n=fromTheme("spacing"),l=fromTheme("blur"),u=fromTheme("brightness"),h=fromTheme("borderColor"),d=fromTheme("borderRadius"),f=fromTheme("borderSpacing"),P=fromTheme("borderWidth"),V=fromTheme("contrast"),B=fromTheme("grayscale"),b=fromTheme("hueRotate"),C=fromTheme("invert"),S=fromTheme("gap"),x=fromTheme("gradientColorStops"),E=fromTheme("gradientColorStopPositions"),_=fromTheme("inset"),O=fromTheme("margin"),A=fromTheme("opacity"),q=fromTheme("padding"),N=fromTheme("saturate"),D=fromTheme("scale"),L=fromTheme("sepia"),U=fromTheme("skew"),j=fromTheme("space"),$=fromTheme("translate"),getSpacingWithAutoAndArbitrary=()=>["auto",isArbitraryValue,n],getSpacingWithArbitrary=()=>[isArbitraryValue,n],getLengthWithEmptyAndArbitrary=()=>["",isLength,isArbitraryLength],getNumberWithAutoAndArbitrary=()=>["auto",isNumber,isArbitraryValue],getZeroAndEmpty=()=>["","0",isArbitraryValue],getNumberAndArbitrary=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:getNumberAndArbitrary(),borderColor:[e],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:getSpacingWithArbitrary(),borderWidth:getLengthWithEmptyAndArbitrary(),contrast:getNumberAndArbitrary(),grayscale:getZeroAndEmpty(),hueRotate:getNumberAndArbitrary(),invert:getZeroAndEmpty(),gap:getSpacingWithArbitrary(),gradientColorStops:[e],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:getSpacingWithAutoAndArbitrary(),margin:getSpacingWithAutoAndArbitrary(),opacity:getNumberAndArbitrary(),padding:getSpacingWithArbitrary(),saturate:getNumberAndArbitrary(),scale:getNumberAndArbitrary(),sepia:getZeroAndEmpty(),skew:getNumberAndArbitrary(),space:getSpacingWithArbitrary(),translate:getSpacingWithArbitrary()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",isArbitraryValue]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:getSpacingWithAutoAndArbitrary()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:getZeroAndEmpty()}],shrink:[{shrink:getZeroAndEmpty()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":getNumberWithAutoAndArbitrary()}],"col-end":[{"col-end":getNumberWithAutoAndArbitrary()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":getNumberWithAutoAndArbitrary()}],"row-end":[{"row-end":getNumberWithAutoAndArbitrary()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[q]}],px:[{px:[q]}],py:[{py:[q]}],ps:[{ps:[q]}],pe:[{pe:[q]}],pt:[{pt:[q]}],pr:[{pr:[q]}],pb:[{pb:[q]}],pl:[{pl:[q]}],m:[{m:[O]}],mx:[{mx:[O]}],my:[{my:[O]}],ms:[{ms:[O]}],me:[{me:[O]}],mt:[{mt:[O]}],mr:[{mr:[O]}],mb:[{mb:[O]}],ml:[{ml:[O]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,n]}],"min-w":[{"min-w":[isArbitraryValue,n,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,n,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,n,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:getSpacingWithArbitrary()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[P]}],"border-w-x":[{"border-x":[P]}],"border-w-y":[{"border-y":[P]}],"border-w-s":[{"border-s":[P]}],"border-w-e":[{"border-e":[P]}],"border-w-t":[{"border-t":[P]}],"border-w-r":[{"border-r":[P]}],"border-w-b":[{"border-b":[P]}],"border-w-l":[{"border-l":[P]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[P]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[P]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[h]}],"border-color-x":[{"border-x":[h]}],"border-color-y":[{"border-y":[h]}],"border-color-s":[{"border-s":[h]}],"border-color-e":[{"border-e":[h]}],"border-color-t":[{"border-t":[h]}],"border-color-r":[{"border-r":[h]}],"border-color-b":[{"border-b":[h]}],"border-color-l":[{"border-l":[h]}],"divide-color":[{divide:[h]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:getLengthWithEmptyAndArbitrary()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[l]}],brightness:[{brightness:[u]}],contrast:[{contrast:[V]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[B]}],"hue-rotate":[{"hue-rotate":[b]}],invert:[{invert:[C]}],saturate:[{saturate:[N]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[l]}],"backdrop-brightness":[{"backdrop-brightness":[u]}],"backdrop-contrast":[{"backdrop-contrast":[V]}],"backdrop-grayscale":[{"backdrop-grayscale":[B]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[b]}],"backdrop-invert":[{"backdrop-invert":[C]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:getNumberAndArbitrary()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:getNumberAndArbitrary()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":getSpacingWithArbitrary()}],"scroll-mx":[{"scroll-mx":getSpacingWithArbitrary()}],"scroll-my":[{"scroll-my":getSpacingWithArbitrary()}],"scroll-ms":[{"scroll-ms":getSpacingWithArbitrary()}],"scroll-me":[{"scroll-me":getSpacingWithArbitrary()}],"scroll-mt":[{"scroll-mt":getSpacingWithArbitrary()}],"scroll-mr":[{"scroll-mr":getSpacingWithArbitrary()}],"scroll-mb":[{"scroll-mb":getSpacingWithArbitrary()}],"scroll-ml":[{"scroll-ml":getSpacingWithArbitrary()}],"scroll-p":[{"scroll-p":getSpacingWithArbitrary()}],"scroll-px":[{"scroll-px":getSpacingWithArbitrary()}],"scroll-py":[{"scroll-py":getSpacingWithArbitrary()}],"scroll-ps":[{"scroll-ps":getSpacingWithArbitrary()}],"scroll-pe":[{"scroll-pe":getSpacingWithArbitrary()}],"scroll-pt":[{"scroll-pt":getSpacingWithArbitrary()}],"scroll-pr":[{"scroll-pr":getSpacingWithArbitrary()}],"scroll-pb":[{"scroll-pb":getSpacingWithArbitrary()}],"scroll-pl":[{"scroll-pl":getSpacingWithArbitrary()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),{entries:Ph,setPrototypeOf:vh,isFrozen:Vh,getPrototypeOf:Bh,getOwnPropertyDescriptor:bh}=Object;let{freeze:Th,seal:Ch,create:Sh}=Object,{apply:xh,construct:Eh}="undefined"!=typeof Reflect&&Reflect;Th||(Th=function(e){return e}),Ch||(Ch=function(e){return e}),xh||(xh=function(e,n,l){return e.apply(n,l)}),Eh||(Eh=function(e,n){return new e(...n)});const _h=unapply(Array.prototype.forEach),Oh=unapply(Array.prototype.lastIndexOf),Ah=unapply(Array.prototype.pop),wh=unapply(Array.prototype.push),Ih=unapply(Array.prototype.splice),Mh=unapply(String.prototype.toLowerCase),qh=unapply(String.prototype.toString),Nh=unapply(String.prototype.match),Rh=unapply(String.prototype.replace),kh=unapply(String.prototype.indexOf),Dh=unapply(String.prototype.trim),Lh=unapply(Object.prototype.hasOwnProperty),Fh=unapply(RegExp.prototype.test),Uh=(jh=TypeError,function(){for(var e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return Eh(jh,n)});var jh;function unapply(e){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var l=arguments.length,u=new Array(l>1?l-1:0),h=1;h<l;h++)u[h-1]=arguments[h];return xh(e,n,u)}}function addToSet(e,n){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mh;vh&&vh(e,null);let u=n.length;for(;u--;){let h=n[u];if("string"==typeof h){const e=l(h);e!==h&&(Vh(n)||(n[u]=e),h=e)}e[h]=!0}return e}function cleanArray(e){for(let n=0;n<e.length;n++){Lh(e,n)||(e[n]=null)}return e}function clone(e){const n=Sh(null);for(const[l,u]of Ph(e)){Lh(e,l)&&(Array.isArray(u)?n[l]=cleanArray(u):u&&"object"==typeof u&&u.constructor===Object?n[l]=clone(u):n[l]=u)}return n}function lookupGetter(e,n){for(;null!==e;){const l=bh(e,n);if(l){if(l.get)return unapply(l.get);if("function"==typeof l.value)return unapply(l.value)}e=Bh(e)}return function(){return null}}const Gh=Th(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Hh=Th(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$h=Th(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),zh=Th(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Jh=Th(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Wh=Th(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Yh=Th(["#text"]),Kh=Th(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Xh=Th(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Qh=Th(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zh=Th(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ey=Ch(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ty=Ch(/<%[\w\W]*|[\w\W]*%>/gm),ny=Ch(/\$\{[\w\W]*/gm),ry=Ch(/^data-[\-\w.\u00B7-\uFFFF]+$/),ay=Ch(/^aria-[\-\w]+$/),iy=Ch(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),oy=Ch(/^(?:\w+script|data):/i),sy=Ch(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ly=Ch(/^html$/i),uy=Ch(/^[a-z][.\w]*(-[.\w]+)+$/i);var cy=Object.freeze({__proto__:null,ARIA_ATTR:ay,ATTR_WHITESPACE:sy,CUSTOM_ELEMENT:uy,DATA_ATTR:ry,DOCTYPE_NAME:ly,ERB_EXPR:ty,IS_ALLOWED_URI:iy,IS_SCRIPT_OR_DATA:oy,MUSTACHE_EXPR:ey,TMPLIT_EXPR:ny});const hy=1,yy=3,dy=7,fy=8,gy=9;var py=function createDOMPurify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const DOMPurify=e=>createDOMPurify(e);if(DOMPurify.version="3.2.6",DOMPurify.removed=[],!e||!e.document||e.document.nodeType!==gy||!e.Element)return DOMPurify.isSupported=!1,DOMPurify;let{document:n}=e;const l=n,u=l.currentScript,{DocumentFragment:h,HTMLTemplateElement:d,Node:f,Element:P,NodeFilter:V,NamedNodeMap:B=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:b,DOMParser:C,trustedTypes:S}=e,x=P.prototype,E=lookupGetter(x,"cloneNode"),_=lookupGetter(x,"remove"),O=lookupGetter(x,"nextSibling"),A=lookupGetter(x,"childNodes"),q=lookupGetter(x,"parentNode");if("function"==typeof d){const e=n.createElement("template");e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let N,D="";const{implementation:L,createNodeIterator:U,createDocumentFragment:j,getElementsByTagName:$}=n,{importNode:z}=l;let W={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};DOMPurify.isSupported="function"==typeof Ph&&"function"==typeof q&&L&&void 0!==L.createHTMLDocument;const{MUSTACHE_EXPR:Y,ERB_EXPR:X,TMPLIT_EXPR:Q,DATA_ATTR:Z,ARIA_ATTR:ee,IS_SCRIPT_OR_DATA:te,ATTR_WHITESPACE:ne,CUSTOM_ELEMENT:re}=cy;let{IS_ALLOWED_URI:ae}=cy,ie=null;const oe=addToSet({},[...Gh,...Hh,...$h,...Jh,...Yh]);let se=null;const le=addToSet({},[...Kh,...Xh,...Qh,...Zh]);let ue=Object.seal(Sh(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ce=null,he=null,ye=!0,de=!0,fe=!1,ge=!0,pe=!1,me=!0,Pe=!1,ve=!1,Ve=!1,Be=!1,be=!1,Te=!1,Ce=!0,Se=!1,xe=!0,Ee=!1,_e={},Oe=null;const Ae=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let we=null;const Ie=addToSet({},["audio","video","img","source","image","track"]);let Me=null;const qe=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ne="http://www.w3.org/1998/Math/MathML",Re="http://www.w3.org/2000/svg",ke="http://www.w3.org/1999/xhtml";let De=ke,Le=!1,Fe=null;const Ue=addToSet({},[Ne,Re,ke],qh);let je=addToSet({},["mi","mo","mn","ms","mtext"]),Ge=addToSet({},["annotation-xml"]);const He=addToSet({},["title","style","font","a","script"]);let $e=null;const ze=["application/xhtml+xml","text/html"];let Je=null,We=null;const Ye=n.createElement("form"),isRegexOrFunction=function(e){return e instanceof RegExp||e instanceof Function},_parseConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!We||We!==e){if(e&&"object"==typeof e||(e={}),e=clone(e),$e=-1===ze.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Je="application/xhtml+xml"===$e?qh:Mh,ie=Lh(e,"ALLOWED_TAGS")?addToSet({},e.ALLOWED_TAGS,Je):oe,se=Lh(e,"ALLOWED_ATTR")?addToSet({},e.ALLOWED_ATTR,Je):le,Fe=Lh(e,"ALLOWED_NAMESPACES")?addToSet({},e.ALLOWED_NAMESPACES,qh):Ue,Me=Lh(e,"ADD_URI_SAFE_ATTR")?addToSet(clone(qe),e.ADD_URI_SAFE_ATTR,Je):qe,we=Lh(e,"ADD_DATA_URI_TAGS")?addToSet(clone(Ie),e.ADD_DATA_URI_TAGS,Je):Ie,Oe=Lh(e,"FORBID_CONTENTS")?addToSet({},e.FORBID_CONTENTS,Je):Ae,ce=Lh(e,"FORBID_TAGS")?addToSet({},e.FORBID_TAGS,Je):clone({}),he=Lh(e,"FORBID_ATTR")?addToSet({},e.FORBID_ATTR,Je):clone({}),_e=!!Lh(e,"USE_PROFILES")&&e.USE_PROFILES,ye=!1!==e.ALLOW_ARIA_ATTR,de=!1!==e.ALLOW_DATA_ATTR,fe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ge=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,pe=e.SAFE_FOR_TEMPLATES||!1,me=!1!==e.SAFE_FOR_XML,Pe=e.WHOLE_DOCUMENT||!1,Be=e.RETURN_DOM||!1,be=e.RETURN_DOM_FRAGMENT||!1,Te=e.RETURN_TRUSTED_TYPE||!1,Ve=e.FORCE_BODY||!1,Ce=!1!==e.SANITIZE_DOM,Se=e.SANITIZE_NAMED_PROPS||!1,xe=!1!==e.KEEP_CONTENT,Ee=e.IN_PLACE||!1,ae=e.ALLOWED_URI_REGEXP||iy,De=e.NAMESPACE||ke,je=e.MATHML_TEXT_INTEGRATION_POINTS||je,Ge=e.HTML_INTEGRATION_POINTS||Ge,ue=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ue.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ue.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ue.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pe&&(de=!1),be&&(Be=!0),_e&&(ie=addToSet({},Yh),se=[],!0===_e.html&&(addToSet(ie,Gh),addToSet(se,Kh)),!0===_e.svg&&(addToSet(ie,Hh),addToSet(se,Xh),addToSet(se,Zh)),!0===_e.svgFilters&&(addToSet(ie,$h),addToSet(se,Xh),addToSet(se,Zh)),!0===_e.mathMl&&(addToSet(ie,Jh),addToSet(se,Qh),addToSet(se,Zh))),e.ADD_TAGS&&(ie===oe&&(ie=clone(ie)),addToSet(ie,e.ADD_TAGS,Je)),e.ADD_ATTR&&(se===le&&(se=clone(se)),addToSet(se,e.ADD_ATTR,Je)),e.ADD_URI_SAFE_ATTR&&addToSet(Me,e.ADD_URI_SAFE_ATTR,Je),e.FORBID_CONTENTS&&(Oe===Ae&&(Oe=clone(Oe)),addToSet(Oe,e.FORBID_CONTENTS,Je)),xe&&(ie["#text"]=!0),Pe&&addToSet(ie,["html","head","body"]),ie.table&&(addToSet(ie,["tbody"]),delete ce.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Uh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Uh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=e.TRUSTED_TYPES_POLICY,D=N.createHTML("")}else void 0===N&&(N=function(e,n){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let l=null;const u="data-tt-policy-suffix";n&&n.hasAttribute(u)&&(l=n.getAttribute(u));const h="dompurify"+(l?"#"+l:"");try{return e.createPolicy(h,{createHTML:e=>e,createScriptURL:e=>e})}catch(d){return null}}(S,u)),null!==N&&"string"==typeof D&&(D=N.createHTML(""));Th&&Th(e),We=e}},Ke=addToSet({},[...Hh,...$h,...zh]),Xe=addToSet({},[...Jh,...Wh]),_forceRemove=function(e){wh(DOMPurify.removed,{element:e});try{q(e).removeChild(e)}catch(n){_(e)}},_removeAttribute=function(e,n){try{wh(DOMPurify.removed,{attribute:n.getAttributeNode(e),from:n})}catch(l){wh(DOMPurify.removed,{attribute:null,from:n})}if(n.removeAttribute(e),"is"===e)if(Be||be)try{_forceRemove(n)}catch(l){}else try{n.setAttribute(e,"")}catch(l){}},_initDocument=function(e){let l=null,u=null;if(Ve)e="<remove></remove>"+e;else{const n=Nh(e,/^[\r\n\t ]+/);u=n&&n[0]}"application/xhtml+xml"===$e&&De===ke&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const h=N?N.createHTML(e):e;if(De===ke)try{l=(new C).parseFromString(h,$e)}catch(f){}if(!l||!l.documentElement){l=L.createDocument(De,"template",null);try{l.documentElement.innerHTML=Le?D:h}catch(f){}}const d=l.body||l.documentElement;return e&&u&&d.insertBefore(n.createTextNode(u),d.childNodes[0]||null),De===ke?$.call(l,Pe?"html":"body")[0]:Pe?l.documentElement:d},_createNodeIterator=function(e){return U.call(e.ownerDocument||e,e,V.SHOW_ELEMENT|V.SHOW_COMMENT|V.SHOW_TEXT|V.SHOW_PROCESSING_INSTRUCTION|V.SHOW_CDATA_SECTION,null)},_isClobbered=function(e){return e instanceof b&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof B)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},_isNode=function(e){return"function"==typeof f&&e instanceof f};function _executeHooks(e,n,l){_h(e,e=>{e.call(DOMPurify,n,l,We)})}const _sanitizeElements=function(e){let n=null;if(_executeHooks(W.beforeSanitizeElements,e,null),_isClobbered(e))return _forceRemove(e),!0;const l=Je(e.nodeName);if(_executeHooks(W.uponSanitizeElement,e,{tagName:l,allowedTags:ie}),me&&e.hasChildNodes()&&!_isNode(e.firstElementChild)&&Fh(/<[/\w!]/g,e.innerHTML)&&Fh(/<[/\w!]/g,e.textContent))return _forceRemove(e),!0;if(e.nodeType===dy)return _forceRemove(e),!0;if(me&&e.nodeType===fy&&Fh(/<[/\w]/g,e.data))return _forceRemove(e),!0;if(!ie[l]||ce[l]){if(!ce[l]&&_isBasicCustomElement(l)){if(ue.tagNameCheck instanceof RegExp&&Fh(ue.tagNameCheck,l))return!1;if(ue.tagNameCheck instanceof Function&&ue.tagNameCheck(l))return!1}if(xe&&!Oe[l]){const n=q(e)||e.parentNode,l=A(e)||e.childNodes;if(l&&n){for(let u=l.length-1;u>=0;--u){const h=E(l[u],!0);h.__removalCount=(e.__removalCount||0)+1,n.insertBefore(h,O(e))}}}return _forceRemove(e),!0}return e instanceof P&&!function(e){let n=q(e);n&&n.tagName||(n={namespaceURI:De,tagName:"template"});const l=Mh(e.tagName),u=Mh(n.tagName);return!!Fe[e.namespaceURI]&&(e.namespaceURI===Re?n.namespaceURI===ke?"svg"===l:n.namespaceURI===Ne?"svg"===l&&("annotation-xml"===u||je[u]):Boolean(Ke[l]):e.namespaceURI===Ne?n.namespaceURI===ke?"math"===l:n.namespaceURI===Re?"math"===l&&Ge[u]:Boolean(Xe[l]):e.namespaceURI===ke?!(n.namespaceURI===Re&&!Ge[u])&&!(n.namespaceURI===Ne&&!je[u])&&!Xe[l]&&(He[l]||!Ke[l]):!("application/xhtml+xml"!==$e||!Fe[e.namespaceURI]))}(e)?(_forceRemove(e),!0):"noscript"!==l&&"noembed"!==l&&"noframes"!==l||!Fh(/<\/no(script|embed|frames)/i,e.innerHTML)?(pe&&e.nodeType===yy&&(n=e.textContent,_h([Y,X,Q],e=>{n=Rh(n,e," ")}),e.textContent!==n&&(wh(DOMPurify.removed,{element:e.cloneNode()}),e.textContent=n)),_executeHooks(W.afterSanitizeElements,e,null),!1):(_forceRemove(e),!0)},_isValidAttribute=function(e,l,u){if(Ce&&("id"===l||"name"===l)&&(u in n||u in Ye))return!1;if(de&&!he[l]&&Fh(Z,l));else if(ye&&Fh(ee,l));else if(!se[l]||he[l]){if(!(_isBasicCustomElement(e)&&(ue.tagNameCheck instanceof RegExp&&Fh(ue.tagNameCheck,e)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(e))&&(ue.attributeNameCheck instanceof RegExp&&Fh(ue.attributeNameCheck,l)||ue.attributeNameCheck instanceof Function&&ue.attributeNameCheck(l))||"is"===l&&ue.allowCustomizedBuiltInElements&&(ue.tagNameCheck instanceof RegExp&&Fh(ue.tagNameCheck,u)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(u))))return!1}else if(Me[l]);else if(Fh(ae,Rh(u,ne,"")));else if("src"!==l&&"xlink:href"!==l&&"href"!==l||"script"===e||0!==kh(u,"data:")||!we[e]){if(fe&&!Fh(te,Rh(u,ne,"")));else if(u)return!1}else;return!0},_isBasicCustomElement=function(e){return"annotation-xml"!==e&&Nh(e,re)},_sanitizeAttributes=function(e){_executeHooks(W.beforeSanitizeAttributes,e,null);const{attributes:n}=e;if(!n||_isClobbered(e))return;const l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:se,forceKeepAttr:void 0};let u=n.length;for(;u--;){const d=n[u],{name:f,namespaceURI:P,value:V}=d,B=Je(f),b=V;let C="value"===f?b:Dh(b);if(l.attrName=B,l.attrValue=C,l.keepAttr=!0,l.forceKeepAttr=void 0,_executeHooks(W.uponSanitizeAttribute,e,l),C=l.attrValue,!Se||"id"!==B&&"name"!==B||(_removeAttribute(f,e),C="user-content-"+C),me&&Fh(/((--!?|])>)|<\/(style|title)/i,C)){_removeAttribute(f,e);continue}if(l.forceKeepAttr)continue;if(!l.keepAttr){_removeAttribute(f,e);continue}if(!ge&&Fh(/\/>/i,C)){_removeAttribute(f,e);continue}pe&&_h([Y,X,Q],e=>{C=Rh(C,e," ")});const x=Je(e.nodeName);if(_isValidAttribute(x,B,C)){if(N&&"object"==typeof S&&"function"==typeof S.getAttributeType)if(P);else switch(S.getAttributeType(x,B)){case"TrustedHTML":C=N.createHTML(C);break;case"TrustedScriptURL":C=N.createScriptURL(C)}if(C!==b)try{P?e.setAttributeNS(P,f,C):e.setAttribute(f,C),_isClobbered(e)?_forceRemove(e):Ah(DOMPurify.removed)}catch(h){_removeAttribute(f,e)}}else _removeAttribute(f,e)}_executeHooks(W.afterSanitizeAttributes,e,null)},Qe=function _sanitizeShadowDOM2(e){let n=null;const l=_createNodeIterator(e);for(_executeHooks(W.beforeSanitizeShadowDOM,e,null);n=l.nextNode();)_executeHooks(W.uponSanitizeShadowNode,n,null),_sanitizeElements(n),_sanitizeAttributes(n),n.content instanceof h&&_sanitizeShadowDOM2(n.content);_executeHooks(W.afterSanitizeShadowDOM,e,null)};return DOMPurify.sanitize=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=null,d=null,P=null,V=null;if(Le=!e,Le&&(e="\x3c!--\x3e"),"string"!=typeof e&&!_isNode(e)){if("function"!=typeof e.toString)throw Uh("toString is not a function");if("string"!=typeof(e=e.toString()))throw Uh("dirty is not a string, aborting")}if(!DOMPurify.isSupported)return e;if(ve||_parseConfig(n),DOMPurify.removed=[],"string"==typeof e&&(Ee=!1),Ee){if(e.nodeName){const n=Je(e.nodeName);if(!ie[n]||ce[n])throw Uh("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof f)u=_initDocument("\x3c!----\x3e"),d=u.ownerDocument.importNode(e,!0),d.nodeType===hy&&"BODY"===d.nodeName||"HTML"===d.nodeName?u=d:u.appendChild(d);else{if(!Be&&!pe&&!Pe&&-1===e.indexOf("<"))return N&&Te?N.createHTML(e):e;if(u=_initDocument(e),!u)return Be?null:Te?D:""}u&&Ve&&_forceRemove(u.firstChild);const B=_createNodeIterator(Ee?e:u);for(;P=B.nextNode();)_sanitizeElements(P),_sanitizeAttributes(P),P.content instanceof h&&Qe(P.content);if(Ee)return e;if(Be){if(be)for(V=j.call(u.ownerDocument);u.firstChild;)V.appendChild(u.firstChild);else V=u;return(se.shadowroot||se.shadowrootmode)&&(V=z.call(l,V,!0)),V}let b=Pe?u.outerHTML:u.innerHTML;return Pe&&ie["!doctype"]&&u.ownerDocument&&u.ownerDocument.doctype&&u.ownerDocument.doctype.name&&Fh(ly,u.ownerDocument.doctype.name)&&(b="<!DOCTYPE "+u.ownerDocument.doctype.name+">\n"+b),pe&&_h([Y,X,Q],e=>{b=Rh(b,e," ")}),N&&Te?N.createHTML(b):b},DOMPurify.setConfig=function(){_parseConfig(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),ve=!0},DOMPurify.clearConfig=function(){We=null,ve=!1},DOMPurify.isValidAttribute=function(e,n,l){We||_parseConfig({});const u=Je(e),h=Je(n);return _isValidAttribute(u,h,l)},DOMPurify.addHook=function(e,n){"function"==typeof n&&wh(W[e],n)},DOMPurify.removeHook=function(e,n){if(void 0!==n){const l=Oh(W[e],n);return-1===l?void 0:Ih(W[e],l,1)[0]}return Ah(W[e])},DOMPurify.removeHooks=function(e){W[e]=[]},DOMPurify.removeAllHooks=function(){W={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},DOMPurify}();const my=Object.freeze(Object.defineProperty({__proto__:null,default:py},Symbol.toStringTag,{value:"Module"}));var Py,vy,Vy={};function requireGlobalThis(){if(vy)return Py;vy=1;var check=function(e){return e&&e.Math===Math&&e};return Py=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof e&&e)||check("object"==typeof Py&&Py)||function(){return this}()||Function("return this")()}var By,by,Ty,Cy,Sy,xy,Ey,_y,Oy={};function requireFails(){return by?By:(by=1,By=function(e){try{return!!e()}catch(n){return!0}})}function requireDescriptors(){if(Cy)return Ty;Cy=1;var e=requireFails();return Ty=!e(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})}function requireFunctionBindNative(){if(xy)return Sy;xy=1;var e=requireFails();return Sy=!e(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})}function requireFunctionCall(){if(_y)return Ey;_y=1;var e=requireFunctionBindNative(),n=Function.prototype.call;return Ey=e?n.bind(n):function(){return n.apply(n,arguments)},Ey}var Ay,wy,Iy,My,qy,Ny,Ry,ky,Dy,Ly,Fy,Uy,jy,Gy,Hy,$y,zy,Jy,Wy,Yy,Ky,Xy,Qy,Zy,ed,td,nd,rd,ad,id,od,sd,ld,ud,cd,hd,yd,dd,fd,gd,pd,md={};function requireCreatePropertyDescriptor(){return Iy?wy:(Iy=1,wy=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}})}function requireFunctionUncurryThis(){if(qy)return My;qy=1;var e=requireFunctionBindNative(),n=Function.prototype,l=n.call,u=e&&n.bind.bind(l,l);return My=e?u:function(e){return function(){return l.apply(e,arguments)}},My}function requireClassofRaw(){if(Ry)return Ny;Ry=1;var e=requireFunctionUncurryThis(),n=e({}.toString),l=e("".slice);return Ny=function(e){return l(n(e),8,-1)}}function requireIndexedObject(){if(Dy)return ky;Dy=1;var e=requireFunctionUncurryThis(),n=requireFails(),l=requireClassofRaw(),u=Object,h=e("".split);return ky=n(function(){return!u("z").propertyIsEnumerable(0)})?function(e){return"String"===l(e)?h(e,""):u(e)}:u}function requireIsNullOrUndefined(){return Fy?Ly:(Fy=1,Ly=function(e){return null==e})}function requireRequireObjectCoercible(){if(jy)return Uy;jy=1;var e=requireIsNullOrUndefined(),n=TypeError;return Uy=function(l){if(e(l))throw new n("Can't call method on "+l);return l}}function requireToIndexedObject(){if(Hy)return Gy;Hy=1;var e=requireIndexedObject(),n=requireRequireObjectCoercible();return Gy=function(l){return e(n(l))}}function requireIsCallable(){if(zy)return $y;zy=1;var e="object"==typeof document&&document.all;return $y=void 0===e&&void 0!==e?function(n){return"function"==typeof n||n===e}:function(e){return"function"==typeof e}}function requireIsObject(){if(Wy)return Jy;Wy=1;var e=requireIsCallable();return Jy=function(n){return"object"==typeof n?null!==n:e(n)}}function requireGetBuiltIn(){if(Ky)return Yy;Ky=1;var e=requireGlobalThis(),n=requireIsCallable();return Yy=function(l,u){return arguments.length<2?(h=e[l],n(h)?h:void 0):e[l]&&e[l][u];var h},Yy}function requireObjectIsPrototypeOf(){if(Qy)return Xy;Qy=1;var e=requireFunctionUncurryThis();return Xy=e({}.isPrototypeOf)}function requireEnvironmentUserAgent(){if(ed)return Zy;ed=1;var e=requireGlobalThis().navigator,n=e&&e.userAgent;return Zy=n?String(n):""}function requireEnvironmentV8Version(){if(nd)return td;nd=1;var e,n,l=requireGlobalThis(),u=requireEnvironmentUserAgent(),h=l.process,d=l.Deno,f=h&&h.versions||d&&d.version,P=f&&f.v8;return P&&(n=(e=P.split("."))[0]>0&&e[0]<4?1:+(e[0]+e[1])),!n&&u&&(!(e=u.match(/Edge\/(\d+)/))||e[1]>=74)&&(e=u.match(/Chrome\/(\d+)/))&&(n=+e[1]),td=n}function requireSymbolConstructorDetection(){if(ad)return rd;ad=1;var e=requireEnvironmentV8Version(),n=requireFails(),l=requireGlobalThis().String;return rd=!!Object.getOwnPropertySymbols&&!n(function(){var n=Symbol("symbol detection");return!l(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&e&&e<41})}function requireUseSymbolAsUid(){if(od)return id;od=1;var e=requireSymbolConstructorDetection();return id=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}function requireIsSymbol(){if(ld)return sd;ld=1;var e=requireGetBuiltIn(),n=requireIsCallable(),l=requireObjectIsPrototypeOf(),u=requireUseSymbolAsUid(),h=Object;return sd=u?function(e){return"symbol"==typeof e}:function(u){var d=e("Symbol");return n(d)&&l(d.prototype,h(u))}}function requireTryToString(){if(cd)return ud;cd=1;var e=String;return ud=function(n){try{return e(n)}catch(l){return"Object"}}}function requireACallable(){if(yd)return hd;yd=1;var e=requireIsCallable(),n=requireTryToString(),l=TypeError;return hd=function(u){if(e(u))return u;throw new l(n(u)+" is not a function")}}function requireGetMethod(){if(fd)return dd;fd=1;var e=requireACallable(),n=requireIsNullOrUndefined();return dd=function(l,u){var h=l[u];return n(h)?void 0:e(h)},dd}var Pd,vd,Vd,Bd,bd,Td,Cd,Sd,xd,Ed,_d,Od,Ad,wd,Id,Md,qd,Nd,Rd,kd,Dd,Ld,Fd,Ud,jd={exports:{}};function requireIsPure(){return vd?Pd:(vd=1,Pd=!1)}function requireDefineGlobalProperty(){if(Bd)return Vd;Bd=1;var e=requireGlobalThis(),n=Object.defineProperty;return Vd=function(l,u){try{n(e,l,{value:u,configurable:!0,writable:!0})}catch(h){e[l]=u}return u}}function requireSharedStore(){if(bd)return jd.exports;bd=1;var e=requireIsPure(),n=requireGlobalThis(),l=requireDefineGlobalProperty(),u="__core-js_shared__",h=jd.exports=n[u]||l(u,{});return(h.versions||(h.versions=[])).push({version:"3.45.0",mode:e?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.0/LICENSE",source:"https://github.com/zloirock/core-js"}),jd.exports}function requireShared(){if(Cd)return Td;Cd=1;var e=requireSharedStore();return Td=function(n,l){return e[n]||(e[n]=l||{})}}function requireToObject(){if(xd)return Sd;xd=1;var e=requireRequireObjectCoercible(),n=Object;return Sd=function(l){return n(e(l))}}function requireHasOwnProperty(){if(_d)return Ed;_d=1;var e=requireFunctionUncurryThis(),n=requireToObject(),l=e({}.hasOwnProperty);return Ed=Object.hasOwn||function(e,u){return l(n(e),u)}}function requireUid(){if(Ad)return Od;Ad=1;var e=requireFunctionUncurryThis(),n=0,l=Math.random(),u=e(1.1.toString);return Od=function(e){return"Symbol("+(void 0===e?"":e)+")_"+u(++n+l,36)}}function requireWellKnownSymbol(){if(Id)return wd;Id=1;var e=requireGlobalThis(),n=requireShared(),l=requireHasOwnProperty(),u=requireUid(),h=requireSymbolConstructorDetection(),d=requireUseSymbolAsUid(),f=e.Symbol,P=n("wks"),V=d?f.for||f:f&&f.withoutSetter||u;return wd=function(e){return l(P,e)||(P[e]=h&&l(f,e)?f[e]:V("Symbol."+e)),P[e]}}function requireToPrimitive(){if(qd)return Md;qd=1;var e=requireFunctionCall(),n=requireIsObject(),l=requireIsSymbol(),u=requireGetMethod(),h=function(){if(pd)return gd;pd=1;var e=requireFunctionCall(),n=requireIsCallable(),l=requireIsObject(),u=TypeError;return gd=function(h,d){var f,P;if("string"===d&&n(f=h.toString)&&!l(P=e(f,h)))return P;if(n(f=h.valueOf)&&!l(P=e(f,h)))return P;if("string"!==d&&n(f=h.toString)&&!l(P=e(f,h)))return P;throw new u("Can't convert object to primitive value")}}(),d=requireWellKnownSymbol(),f=TypeError,P=d("toPrimitive");return Md=function(d,V){if(!n(d)||l(d))return d;var B,b=u(d,P);if(b){if(void 0===V&&(V="default"),B=e(b,d,V),!n(B)||l(B))return B;throw new f("Can't convert object to primitive value")}return void 0===V&&(V="number"),h(d,V)}}function requireToPropertyKey(){if(Rd)return Nd;Rd=1;var e=requireToPrimitive(),n=requireIsSymbol();return Nd=function(l){var u=e(l,"string");return n(u)?u:u+""}}function requireDocumentCreateElement(){if(Dd)return kd;Dd=1;var e=requireGlobalThis(),n=requireIsObject(),l=e.document,u=n(l)&&n(l.createElement);return kd=function(e){return u?l.createElement(e):{}}}function requireIe8DomDefine(){if(Fd)return Ld;Fd=1;var e=requireDescriptors(),n=requireFails(),l=requireDocumentCreateElement();return Ld=!e&&!n(function(){return 7!==Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a})}function requireObjectGetOwnPropertyDescriptor(){if(Ud)return Oy;Ud=1;var e=requireDescriptors(),n=requireFunctionCall(),l=function(){if(Ay)return md;Ay=1;var e={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,l=n&&!e.call({1:2},1);return md.f=l?function(e){var l=n(this,e);return!!l&&l.enumerable}:e,md}(),u=requireCreatePropertyDescriptor(),h=requireToIndexedObject(),d=requireToPropertyKey(),f=requireHasOwnProperty(),P=requireIe8DomDefine(),V=Object.getOwnPropertyDescriptor;return Oy.f=e?V:function(e,B){if(e=h(e),B=d(B),P)try{return V(e,B)}catch(b){}if(f(e,B))return u(!n(l.f,e,B),e[B])},Oy}var Gd,Hd,$d,zd,Jd,Wd,Yd,Kd={};function requireV8PrototypeDefineBug(){if(Hd)return Gd;Hd=1;var e=requireDescriptors(),n=requireFails();return Gd=e&&n(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})}function requireAnObject(){if(zd)return $d;zd=1;var e=requireIsObject(),n=String,l=TypeError;return $d=function(u){if(e(u))return u;throw new l(n(u)+" is not an object")}}function requireObjectDefineProperty(){if(Jd)return Kd;Jd=1;var e=requireDescriptors(),n=requireIe8DomDefine(),l=requireV8PrototypeDefineBug(),u=requireAnObject(),h=requireToPropertyKey(),d=TypeError,f=Object.defineProperty,P=Object.getOwnPropertyDescriptor,V="enumerable",B="configurable",b="writable";return Kd.f=e?l?function(e,n,l){if(u(e),n=h(n),u(l),"function"==typeof e&&"prototype"===n&&"value"in l&&b in l&&!l[b]){var d=P(e,n);d&&d[b]&&(e[n]=l.value,l={configurable:B in l?l[B]:d[B],enumerable:V in l?l[V]:d[V],writable:!1})}return f(e,n,l)}:f:function(e,l,P){if(u(e),l=h(l),u(P),n)try{return f(e,l,P)}catch(V){}if("get"in P||"set"in P)throw new d("Accessors not supported");return"value"in P&&(e[l]=P.value),e},Kd}function requireCreateNonEnumerableProperty(){if(Yd)return Wd;Yd=1;var e=requireDescriptors(),n=requireObjectDefineProperty(),l=requireCreatePropertyDescriptor();return Wd=e?function(e,u,h){return n.f(e,u,l(1,h))}:function(e,n,l){return e[n]=l,e}}var Xd,Qd,Zd,ef,tf,nf,rf,af,of,sf,lf,uf,cf,hf,yf,df={exports:{}};function requireFunctionName(){if(Qd)return Xd;Qd=1;var e=requireDescriptors(),n=requireHasOwnProperty(),l=Function.prototype,u=e&&Object.getOwnPropertyDescriptor,h=n(l,"name"),d=h&&"something"===function(){}.name,f=h&&(!e||e&&u(l,"name").configurable);return Xd={EXISTS:h,PROPER:d,CONFIGURABLE:f}}function requireInspectSource(){if(ef)return Zd;ef=1;var e=requireFunctionUncurryThis(),n=requireIsCallable(),l=requireSharedStore(),u=e(Function.toString);return n(l.inspectSource)||(l.inspectSource=function(e){return u(e)}),Zd=l.inspectSource}function requireSharedKey(){if(af)return rf;af=1;var e=requireShared(),n=requireUid(),l=e("keys");return rf=function(e){return l[e]||(l[e]=n(e))}}function requireHiddenKeys(){return sf?of:(sf=1,of={})}function requireInternalState(){if(uf)return lf;uf=1;var e,n,l,u=function(){if(nf)return tf;nf=1;var e=requireGlobalThis(),n=requireIsCallable(),l=e.WeakMap;return tf=n(l)&&/native code/.test(String(l))}(),h=requireGlobalThis(),d=requireIsObject(),f=requireCreateNonEnumerableProperty(),P=requireHasOwnProperty(),V=requireSharedStore(),B=requireSharedKey(),b=requireHiddenKeys(),C="Object already initialized",S=h.TypeError,x=h.WeakMap;if(u||V.state){var E=V.state||(V.state=new x);E.get=E.get,E.has=E.has,E.set=E.set,e=function(e,n){if(E.has(e))throw new S(C);return n.facade=e,E.set(e,n),n},n=function(e){return E.get(e)||{}},l=function(e){return E.has(e)}}else{var _=B("state");b[_]=!0,e=function(e,n){if(P(e,_))throw new S(C);return n.facade=e,f(e,_,n),n},n=function(e){return P(e,_)?e[_]:{}},l=function(e){return P(e,_)}}return lf={set:e,get:n,has:l,enforce:function(u){return l(u)?n(u):e(u,{})},getterFor:function(e){return function(l){var u;if(!d(l)||(u=n(l)).type!==e)throw new S("Incompatible receiver, "+e+" required");return u}}}}function requireMakeBuiltIn(){if(cf)return df.exports;cf=1;var e=requireFunctionUncurryThis(),n=requireFails(),l=requireIsCallable(),u=requireHasOwnProperty(),h=requireDescriptors(),d=requireFunctionName().CONFIGURABLE,f=requireInspectSource(),P=requireInternalState(),V=P.enforce,B=P.get,b=String,C=Object.defineProperty,S=e("".slice),x=e("".replace),E=e([].join),_=h&&!n(function(){return 8!==C(function(){},"length",{value:8}).length}),O=String(String).split("String"),A=df.exports=function(e,n,l){"Symbol("===S(b(n),0,7)&&(n="["+x(b(n),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),l&&l.getter&&(n="get "+n),l&&l.setter&&(n="set "+n),(!u(e,"name")||d&&e.name!==n)&&(h?C(e,"name",{value:n,configurable:!0}):e.name=n),_&&l&&u(l,"arity")&&e.length!==l.arity&&C(e,"length",{value:l.arity});try{l&&u(l,"constructor")&&l.constructor?h&&C(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(P){}var f=V(e);return u(f,"source")||(f.source=E(O,"string"==typeof n?n:"")),e};return Function.prototype.toString=A(function(){return l(this)&&B(this).source||f(this)},"toString"),df.exports}function requireDefineBuiltIn(){if(yf)return hf;yf=1;var e=requireIsCallable(),n=requireObjectDefineProperty(),l=requireMakeBuiltIn(),u=requireDefineGlobalProperty();return hf=function(h,d,f,P){P||(P={});var V=P.enumerable,B=void 0!==P.name?P.name:d;if(e(f)&&l(f,B,P),P.global)V?h[d]=f:u(d,f);else{try{P.unsafe?h[d]&&(V=!0):delete h[d]}catch(b){}V?h[d]=f:n.f(h,d,{value:f,enumerable:!1,configurable:!P.nonConfigurable,writable:!P.nonWritable})}return h}}var ff,gf,pf,mf,Pf,vf,Vf,Bf,bf,Tf,Cf,Sf,xf,Ef,_f,Of,Af,wf={};function requireToIntegerOrInfinity(){if(mf)return pf;mf=1;var e=function(){if(gf)return ff;gf=1;var e=Math.ceil,n=Math.floor;return ff=Math.trunc||function(l){var u=+l;return(u>0?n:e)(u)},ff}();return pf=function(n){var l=+n;return l!=l||0===l?0:e(l)}}function requireToLength(){if(Bf)return Vf;Bf=1;var e=requireToIntegerOrInfinity(),n=Math.min;return Vf=function(l){var u=e(l);return u>0?n(u,9007199254740991):0}}function requireLengthOfArrayLike(){if(Tf)return bf;Tf=1;var e=requireToLength();return bf=function(n){return e(n.length)}}function requireArrayIncludes(){if(Sf)return Cf;Sf=1;var e=requireToIndexedObject(),n=function(){if(vf)return Pf;vf=1;var e=requireToIntegerOrInfinity(),n=Math.max,l=Math.min;return Pf=function(u,h){var d=e(u);return d<0?n(d+h,0):l(d,h)}}(),l=requireLengthOfArrayLike(),createMethod=function(u){return function(h,d,f){var P=e(h),V=l(P);if(0===V)return!u&&-1;var B,b=n(f,V);if(u&&d!=d){for(;V>b;)if((B=P[b++])!=B)return!0}else for(;V>b;b++)if((u||b in P)&&P[b]===d)return u||b||0;return!u&&-1}};return Cf={includes:createMethod(!0),indexOf:createMethod(!1)}}function requireObjectKeysInternal(){if(Ef)return xf;Ef=1;var e=requireFunctionUncurryThis(),n=requireHasOwnProperty(),l=requireToIndexedObject(),u=requireArrayIncludes().indexOf,h=requireHiddenKeys(),d=e([].push);return xf=function(e,f){var P,V=l(e),B=0,b=[];for(P in V)!n(h,P)&&n(V,P)&&d(b,P);for(;f.length>B;)n(V,P=f[B++])&&(~u(b,P)||d(b,P));return b}}function requireEnumBugKeys(){return Of?_f:(Of=1,_f=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}var If,Mf,qf,Nf,Rf,kf,Df,Lf,Ff,Uf,jf,Gf,Hf,$f,zf,Jf,Wf,Yf,Kf,Xf,Qf,Zf,eg,tg,ng,rg,ag,ig,og,sg,lg,ug,cg,hg,yg,dg,fg,gg,pg,mg,Pg,vg,Vg,Bg,bg,Tg,Cg,Sg,xg,Eg,_g,Og,Ag,wg,Ig,Mg,qg,Ng,Rg,kg,Dg,Lg,Fg,Ug,jg,Gg,Hg,$g,zg,Jg,Wg,Yg,Kg,Xg,Qg,Zg={};function requireOwnKeys(){if(qf)return Mf;qf=1;var e=requireGetBuiltIn(),n=requireFunctionUncurryThis(),l=function(){if(Af)return wf;Af=1;var e=requireObjectKeysInternal(),n=requireEnumBugKeys().concat("length","prototype");return wf.f=Object.getOwnPropertyNames||function(l){return e(l,n)},wf}(),u=(If||(If=1,Zg.f=Object.getOwnPropertySymbols),Zg),h=requireAnObject(),d=n([].concat);return Mf=e("Reflect","ownKeys")||function(e){var n=l.f(h(e)),f=u.f;return f?d(n,f(e)):n}}function requireIsForced(){if(Df)return kf;Df=1;var e=requireFails(),n=requireIsCallable(),l=/#|\.prototype\./,isForced=function(l,P){var V=h[u(l)];return V===f||V!==d&&(n(P)?e(P):!!P)},u=isForced.normalize=function(e){return String(e).replace(l,".").toLowerCase()},h=isForced.data={},d=isForced.NATIVE="N",f=isForced.POLYFILL="P";return kf=isForced}function require_export(){if(Ff)return Lf;Ff=1;var e=requireGlobalThis(),n=requireObjectGetOwnPropertyDescriptor().f,l=requireCreateNonEnumerableProperty(),u=requireDefineBuiltIn(),h=requireDefineGlobalProperty(),d=function(){if(Rf)return Nf;Rf=1;var e=requireHasOwnProperty(),n=requireOwnKeys(),l=requireObjectGetOwnPropertyDescriptor(),u=requireObjectDefineProperty();return Nf=function(h,d,f){for(var P=n(d),V=u.f,B=l.f,b=0;b<P.length;b++){var C=P[b];e(h,C)||f&&e(f,C)||V(h,C,B(d,C))}}}(),f=requireIsForced();return Lf=function(P,V){var B,b,C,S,x,E=P.target,_=P.global,O=P.stat;if(B=_?e:O?e[E]||h(E,{}):e[E]&&e[E].prototype)for(b in V){if(S=V[b],C=P.dontCallGetSet?(x=n(B,b))&&x.value:B[b],!f(_?b:E+(O?".":"#")+b,P.forced)&&void 0!==C){if(typeof S==typeof C)continue;d(S,C)}(P.sham||C&&C.sham)&&l(S,"sham",!0),u(B,b,S,P)}}}function requireEnvironment(){if(jf)return Uf;jf=1;var e=requireGlobalThis(),n=requireEnvironmentUserAgent(),l=requireClassofRaw(),userAgentStartsWith=function(e){return n.slice(0,e.length)===e};return Uf=userAgentStartsWith("Bun/")?"BUN":userAgentStartsWith("Cloudflare-Workers")?"CLOUDFLARE":userAgentStartsWith("Deno/")?"DENO":userAgentStartsWith("Node.js/")?"NODE":e.Bun&&"string"==typeof Bun.version?"BUN":e.Deno&&"object"==typeof Deno.version?"DENO":"process"===l(e.process)?"NODE":e.window&&e.document?"BROWSER":"REST"}function requireEnvironmentIsNode(){if(Hf)return Gf;Hf=1;var e=requireEnvironment();return Gf="NODE"===e}function requireAPossiblePrototype(){if(Qf)return Xf;Qf=1;var e=function(){if(Kf)return Yf;Kf=1;var e=requireIsObject();return Yf=function(n){return e(n)||null===n}}(),n=String,l=TypeError;return Xf=function(u){if(e(u))return u;throw new l("Can't set "+n(u)+" as a prototype")}}function requireObjectSetPrototypeOf(){if(eg)return Zf;eg=1;var e=function(){if(Wf)return Jf;Wf=1;var e=requireFunctionUncurryThis(),n=requireACallable();return Jf=function(l,u,h){try{return e(n(Object.getOwnPropertyDescriptor(l,u)[h]))}catch(d){}}}(),n=requireIsObject(),l=requireRequireObjectCoercible(),u=requireAPossiblePrototype();return Zf=Object.setPrototypeOf||("__proto__"in{}?function(){var h,d=!1,f={};try{(h=e(Object.prototype,"__proto__","set"))(f,[]),d=f instanceof Array}catch(P){}return function(e,f){return l(e),u(f),n(e)?(d?h(e,f):e.__proto__=f,e):e}}():void 0)}function requireSetToStringTag(){if(ng)return tg;ng=1;var e=requireObjectDefineProperty().f,n=requireHasOwnProperty(),l=requireWellKnownSymbol()("toStringTag");return tg=function(u,h,d){u&&!d&&(u=u.prototype),u&&!n(u,l)&&e(u,l,{configurable:!0,value:h})}}function requireSetSpecies(){if(og)return ig;og=1;var e=requireGetBuiltIn(),n=function(){if(ag)return rg;ag=1;var e=requireMakeBuiltIn(),n=requireObjectDefineProperty();return rg=function(l,u,h){return h.get&&e(h.get,u,{getter:!0}),h.set&&e(h.set,u,{setter:!0}),n.f(l,u,h)}}(),l=requireWellKnownSymbol(),u=requireDescriptors(),h=l("species");return ig=function(l){var d=e(l);u&&d&&!d[h]&&n(d,h,{configurable:!0,get:function(){return this}})}}function requireClassof(){if(yg)return hg;yg=1;var e=function(){if(cg)return ug;cg=1;var e={};return e[requireWellKnownSymbol()("toStringTag")]="z",ug="[object z]"===String(e)}(),n=requireIsCallable(),l=requireClassofRaw(),u=requireWellKnownSymbol()("toStringTag"),h=Object,d="Arguments"===l(function(){return arguments}());return hg=e?l:function(e){var f,P,V;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(P=function(e,n){try{return e[n]}catch(l){}}(f=h(e),u))?P:d?l(f):"Object"===(V=l(f))&&n(f.callee)?"Arguments":V}}function requireAConstructor(){if(pg)return gg;pg=1;var e=function(){if(fg)return dg;fg=1;var e=requireFunctionUncurryThis(),n=requireFails(),l=requireIsCallable(),u=requireClassof(),h=requireGetBuiltIn(),d=requireInspectSource(),noop2=function(){},f=h("Reflect","construct"),P=/^\s*(?:class|function)\b/,V=e(P.exec),B=!P.test(noop2),isConstructorModern=function(e){if(!l(e))return!1;try{return f(noop2,[],e),!0}catch(n){return!1}},isConstructorLegacy=function(e){if(!l(e))return!1;switch(u(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return B||!!V(P,d(e))}catch(n){return!0}};return isConstructorLegacy.sham=!0,dg=!f||n(function(){var e;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){e=!0})||e})?isConstructorLegacy:isConstructorModern}(),n=requireTryToString(),l=TypeError;return gg=function(u){if(e(u))return u;throw new l(n(u)+" is not a constructor")}}function requireSpeciesConstructor(){if(Pg)return mg;Pg=1;var e=requireAnObject(),n=requireAConstructor(),l=requireIsNullOrUndefined(),u=requireWellKnownSymbol()("species");return mg=function(h,d){var f,P=e(h).constructor;return void 0===P||l(f=e(P)[u])?d:n(f)}}function requireFunctionApply(){if(Vg)return vg;Vg=1;var e=requireFunctionBindNative(),n=Function.prototype,l=n.apply,u=n.call;return vg="object"==typeof Reflect&&Reflect.apply||(e?u.bind(l):function(){return u.apply(l,arguments)}),vg}function requireFunctionUncurryThisClause(){if(bg)return Bg;bg=1;var e=requireClassofRaw(),n=requireFunctionUncurryThis();return Bg=function(l){if("Function"===e(l))return n(l)}}function requireFunctionBindContext(){if(Cg)return Tg;Cg=1;var e=requireFunctionUncurryThisClause(),n=requireACallable(),l=requireFunctionBindNative(),u=e(e.bind);return Tg=function(e,h){return n(e),void 0===h?e:l?u(e,h):function(){return e.apply(h,arguments)}},Tg}function requireHtml(){if(xg)return Sg;xg=1;var e=requireGetBuiltIn();return Sg=e("document","documentElement")}function requireEnvironmentIsIos(){if(Ig)return wg;Ig=1;var e=requireEnvironmentUserAgent();return wg=/(?:ipad|iphone|ipod).*applewebkit/i.test(e)}function requireTask(){if(qg)return Mg;qg=1;var e,n,l,u,h=requireGlobalThis(),d=requireFunctionApply(),f=requireFunctionBindContext(),P=requireIsCallable(),V=requireHasOwnProperty(),B=requireFails(),b=requireHtml(),C=function(){if(_g)return Eg;_g=1;var e=requireFunctionUncurryThis();return Eg=e([].slice)}(),S=requireDocumentCreateElement(),x=function(){if(Ag)return Og;Ag=1;var e=TypeError;return Og=function(n,l){if(n<l)throw new e("Not enough arguments");return n}}(),E=requireEnvironmentIsIos(),_=requireEnvironmentIsNode(),O=h.setImmediate,A=h.clearImmediate,q=h.process,N=h.Dispatch,D=h.Function,L=h.MessageChannel,U=h.String,j=0,$={},z="onreadystatechange";B(function(){e=h.location});var run=function(e){if(V($,e)){var n=$[e];delete $[e],n()}},runner=function(e){return function(){run(e)}},eventListener=function(e){run(e.data)},globalPostMessageDefer=function(n){h.postMessage(U(n),e.protocol+"//"+e.host)};return O&&A||(O=function(e){x(arguments.length,1);var l=P(e)?e:D(e),u=C(arguments,1);return $[++j]=function(){d(l,void 0,u)},n(j),j},A=function(e){delete $[e]},_?n=function(e){q.nextTick(runner(e))}:N&&N.now?n=function(e){N.now(runner(e))}:L&&!E?(u=(l=new L).port2,l.port1.onmessage=eventListener,n=f(u.postMessage,u)):h.addEventListener&&P(h.postMessage)&&!h.importScripts&&e&&"file:"!==e.protocol&&!B(globalPostMessageDefer)?(n=globalPostMessageDefer,h.addEventListener("message",eventListener,!1)):n=z in S("script")?function(e){b.appendChild(S("script"))[z]=function(){b.removeChild(this),run(e)}}:function(e){setTimeout(runner(e),0)}),Mg={set:O,clear:A}}function requireQueue(){if(Dg)return kg;Dg=1;var Queue=function(){this.head=null,this.tail=null};return Queue.prototype={add:function(e){var n={item:e,next:null},l=this.tail;l?l.next=n:this.head=n,this.tail=n},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},kg=Queue}function requireMicrotask(){if(Hg)return Gg;Hg=1;var e,n,l,u,h,d=requireGlobalThis(),f=function(){if(Rg)return Ng;Rg=1;var e=requireGlobalThis(),n=requireDescriptors(),l=Object.getOwnPropertyDescriptor;return Ng=function(u){if(!n)return e[u];var h=l(e,u);return h&&h.value}}(),P=requireFunctionBindContext(),V=requireTask().set,B=requireQueue(),b=requireEnvironmentIsIos(),C=function(){if(Fg)return Lg;Fg=1;var e=requireEnvironmentUserAgent();return Lg=/ipad|iphone|ipod/i.test(e)&&"undefined"!=typeof Pebble}(),S=function(){if(jg)return Ug;jg=1;var e=requireEnvironmentUserAgent();return Ug=/web0s(?!.*chrome)/i.test(e)}(),x=requireEnvironmentIsNode(),E=d.MutationObserver||d.WebKitMutationObserver,_=d.document,O=d.process,A=d.Promise,q=f("queueMicrotask");if(!q){var N=new B,flush=function(){var n,l;for(x&&(n=O.domain)&&n.exit();l=N.get();)try{l()}catch(u){throw N.head&&e(),u}n&&n.enter()};b||x||S||!E||!_?!C&&A&&A.resolve?((u=A.resolve(void 0)).constructor=A,h=P(u.then,u),e=function(){h(flush)}):x?e=function(){O.nextTick(flush)}:(V=P(V,d),e=function(){V(flush)}):(n=!0,l=_.createTextNode(""),new E(flush).observe(l,{characterData:!0}),e=function(){l.data=n=!n}),q=function(n){N.head||e(),N.add(n)}}return Gg=q}function requirePerform(){return Wg?Jg:(Wg=1,Jg=function(e){try{return{error:!1,value:e()}}catch(n){return{error:!0,value:n}}})}function requirePromiseNativeConstructor(){if(Kg)return Yg;Kg=1;var e=requireGlobalThis();return Yg=e.Promise}function requirePromiseConstructorDetection(){if(Qg)return Xg;Qg=1;var e=requireGlobalThis(),n=requirePromiseNativeConstructor(),l=requireIsCallable(),u=requireIsForced(),h=requireInspectSource(),d=requireWellKnownSymbol(),f=requireEnvironment(),P=requireIsPure(),V=requireEnvironmentV8Version(),B=n&&n.prototype,b=d("species"),C=!1,S=l(e.PromiseRejectionEvent),x=u("Promise",function(){var e=h(n),l=e!==String(n);if(!l&&66===V)return!0;if(P&&(!B.catch||!B.finally))return!0;if(!V||V<51||!/native code/.test(e)){var u=new n(function(e){e(1)}),FakePromise=function(e){e(function(){},function(){})};if((u.constructor={})[b]=FakePromise,!(C=u.then(function(){})instanceof FakePromise))return!0}return!(l||"BROWSER"!==f&&"DENO"!==f||S)});return Xg={CONSTRUCTOR:x,REJECTION_EVENT:S,SUBCLASSING:C}}var ep,tp,np={};function requireNewPromiseCapability(){if(ep)return np;ep=1;var e=requireACallable(),n=TypeError,PromiseCapability=function(l){var u,h;this.promise=new l(function(e,l){if(void 0!==u||void 0!==h)throw new n("Bad Promise constructor");u=e,h=l}),this.resolve=e(u),this.reject=e(h)};return np.f=function(e){return new PromiseCapability(e)},np}function requireEs_promise_constructor(){if(tp)return Vy;tp=1;var e,n,l,u,h=require_export(),d=requireIsPure(),f=requireEnvironmentIsNode(),P=requireGlobalThis(),V=function(){if(zf)return $f;zf=1;var e=requireGlobalThis();return $f=e}(),B=requireFunctionCall(),b=requireDefineBuiltIn(),C=requireObjectSetPrototypeOf(),S=requireSetToStringTag(),x=requireSetSpecies(),E=requireACallable(),_=requireIsCallable(),O=requireIsObject(),A=function(){if(lg)return sg;lg=1;var e=requireObjectIsPrototypeOf(),n=TypeError;return sg=function(l,u){if(e(u,l))return l;throw new n("Incorrect invocation")}}(),q=requireSpeciesConstructor(),N=requireTask().set,D=requireMicrotask(),L=zg?$g:(zg=1,$g=function(e,n){}),U=requirePerform(),j=requireQueue(),$=requireInternalState(),z=requirePromiseNativeConstructor(),W=requirePromiseConstructorDetection(),Y=requireNewPromiseCapability(),X="Promise",Q=W.CONSTRUCTOR,Z=W.REJECTION_EVENT,ee=W.SUBCLASSING,te=$.getterFor(X),ne=$.set,re=z&&z.prototype,ae=z,ie=re,oe=P.TypeError,se=P.document,le=P.process,ue=Y.f,ce=ue,he=!!(se&&se.createEvent&&P.dispatchEvent),ye="unhandledrejection",isThenable=function(e){var n;return!(!O(e)||!_(n=e.then))&&n},callReaction=function(e,n){var l,u,h,d=n.value,f=1===n.state,P=f?e.ok:e.fail,V=e.resolve,b=e.reject,C=e.domain;try{P?(f||(2===n.rejection&&onHandleUnhandled(n),n.rejection=1),!0===P?l=d:(C&&C.enter(),l=P(d),C&&(C.exit(),h=!0)),l===e.promise?b(new oe("Promise-chain cycle")):(u=isThenable(l))?B(u,l,V,b):V(l)):b(d)}catch(S){C&&!h&&C.exit(),b(S)}},notify=function(e,n){e.notified||(e.notified=!0,D(function(){for(var l,u=e.reactions;l=u.get();)callReaction(l,e);e.notified=!1,n&&!e.rejection&&onUnhandled(e)}))},dispatchEvent=function(e,n,l){var u,h;he?((u=se.createEvent("Event")).promise=n,u.reason=l,u.initEvent(e,!1,!0),P.dispatchEvent(u)):u={promise:n,reason:l},!Z&&(h=P["on"+e])?h(u):e===ye&&L("Unhandled promise rejection",l)},onUnhandled=function(e){B(N,P,function(){var n,l=e.facade,u=e.value;if(isUnhandled(e)&&(n=U(function(){f?le.emit("unhandledRejection",u,l):dispatchEvent(ye,l,u)}),e.rejection=f||isUnhandled(e)?2:1,n.error))throw n.value})},isUnhandled=function(e){return 1!==e.rejection&&!e.parent},onHandleUnhandled=function(e){B(N,P,function(){var n=e.facade;f?le.emit("rejectionHandled",n):dispatchEvent("rejectionhandled",n,e.value)})},bind=function(e,n,l){return function(u){e(n,u,l)}},internalReject=function(e,n,l){e.done||(e.done=!0,l&&(e=l),e.value=n,e.state=2,notify(e,!0))},internalResolve=function(e,n,l){if(!e.done){e.done=!0,l&&(e=l);try{if(e.facade===n)throw new oe("Promise can't be resolved itself");var u=isThenable(n);u?D(function(){var l={done:!1};try{B(u,n,bind(internalResolve,l,e),bind(internalReject,l,e))}catch(h){internalReject(l,h,e)}}):(e.value=n,e.state=1,notify(e,!1))}catch(h){internalReject({done:!1},h,e)}}};if(Q&&(ie=(ae=function(n){A(this,ie),E(n),B(e,this);var l=te(this);try{n(bind(internalResolve,l),bind(internalReject,l))}catch(u){internalReject(l,u)}}).prototype,(e=function(e){ne(this,{type:X,done:!1,notified:!1,parent:!1,reactions:new j,rejection:!1,state:0,value:null})}).prototype=b(ie,"then",function(e,n){var l=te(this),u=ue(q(this,ae));return l.parent=!0,u.ok=!_(e)||e,u.fail=_(n)&&n,u.domain=f?le.domain:void 0,0===l.state?l.reactions.add(u):D(function(){callReaction(u,l)}),u.promise}),n=function(){var n=new e,l=te(n);this.promise=n,this.resolve=bind(internalResolve,l),this.reject=bind(internalReject,l)},Y.f=ue=function(e){return e===ae||e===l?new n(e):ce(e)},!d&&_(z)&&re!==Object.prototype)){u=re.then,ee||b(re,"then",function(e,n){var l=this;return new ae(function(e,n){B(u,l,e,n)}).then(e,n)},{unsafe:!0});try{delete re.constructor}catch(de){}C&&C(re,ie)}return h({global:!0,constructor:!0,wrap:!0,forced:Q},{Promise:ae}),l=V.Promise,S(ae,X,!1,!0),x(X),Vy}var rp,ap,ip,op,sp,lp,up,cp,hp,yp,dp,fp,gp,pp,mp,Pp,vp,Vp={};function requireIterators(){return ap?rp:(ap=1,rp={})}function requireGetIteratorMethod(){if(lp)return sp;lp=1;var e=requireClassof(),n=requireGetMethod(),l=requireIsNullOrUndefined(),u=requireIterators(),h=requireWellKnownSymbol()("iterator");return sp=function(d){if(!l(d))return n(d,h)||n(d,"@@iterator")||u[e(d)]}}function requireIterate(){if(fp)return dp;fp=1;var e=requireFunctionBindContext(),n=requireFunctionCall(),l=requireAnObject(),u=requireTryToString(),h=function(){if(op)return ip;op=1;var e=requireWellKnownSymbol(),n=requireIterators(),l=e("iterator"),u=Array.prototype;return ip=function(e){return void 0!==e&&(n.Array===e||u[l]===e)}}(),d=requireLengthOfArrayLike(),f=requireObjectIsPrototypeOf(),P=function(){if(cp)return up;cp=1;var e=requireFunctionCall(),n=requireACallable(),l=requireAnObject(),u=requireTryToString(),h=requireGetIteratorMethod(),d=TypeError;return up=function(f,P){var V=arguments.length<2?h(f):P;if(n(V))return l(e(V,f));throw new d(u(f)+" is not iterable")},up}(),V=requireGetIteratorMethod(),B=function(){if(yp)return hp;yp=1;var e=requireFunctionCall(),n=requireAnObject(),l=requireGetMethod();return hp=function(u,h,d){var f,P;n(u);try{if(!(f=l(u,"return"))){if("throw"===h)throw d;return d}f=e(f,u)}catch(V){P=!0,f=V}if("throw"===h)throw d;if(P)throw f;return n(f),d}}(),b=TypeError,Result=function(e,n){this.stopped=e,this.result=n},C=Result.prototype;return dp=function(S,x,E){var _,O,A,q,N,D,L,U=E&&E.that,j=!(!E||!E.AS_ENTRIES),$=!(!E||!E.IS_RECORD),z=!(!E||!E.IS_ITERATOR),W=!(!E||!E.INTERRUPTED),Y=e(x,U),stop=function(e){return _&&B(_,"normal"),new Result(!0,e)},callFn=function(e){return j?(l(e),W?Y(e[0],e[1],stop):Y(e[0],e[1])):W?Y(e,stop):Y(e)};if($)_=S.iterator;else if(z)_=S;else{if(!(O=V(S)))throw new b(u(S)+" is not iterable");if(h(O)){for(A=0,q=d(S);q>A;A++)if((N=callFn(S[A]))&&f(C,N))return N;return new Result(!1)}_=P(S,O)}for(D=$?S.next:_.next;!(L=n(D,_)).done;){try{N=callFn(L.value)}catch(X){B(_,"throw",X)}if("object"==typeof N&&N&&f(C,N))return N}return new Result(!1)}}function requirePromiseStaticsIncorrectIteration(){if(Pp)return mp;Pp=1;var e=requirePromiseNativeConstructor(),n=function(){if(pp)return gp;pp=1;var e=requireWellKnownSymbol()("iterator"),n=!1;try{var l=0,u={next:function(){return{done:!!l++}},return:function(){n=!0}};u[e]=function(){return this},Array.from(u,function(){throw 2})}catch(h){}return gp=function(l,u){try{if(!u&&!n)return!1}catch(h){return!1}var d=!1;try{var f={};f[e]=function(){return{next:function(){return{done:d=!0}}}},l(f)}catch(h){}return d}}(),l=requirePromiseConstructorDetection().CONSTRUCTOR;return mp=l||!n(function(n){e.all(n).then(void 0,function(){})})}var Bp,bp={};var Tp,Cp={};var Sp,xp={};var Ep,_p,Op,Ap,wp={};function requireEs_promise_resolve(){if(Op)return wp;Op=1;var e=require_export(),n=requireGetBuiltIn(),l=requireIsPure(),u=requirePromiseNativeConstructor(),h=requirePromiseConstructorDetection().CONSTRUCTOR,d=function(){if(_p)return Ep;_p=1;var e=requireAnObject(),n=requireIsObject(),l=requireNewPromiseCapability();return Ep=function(u,h){if(e(u),n(h)&&h.constructor===u)return h;var d=l.f(u);return(0,d.resolve)(h),d.promise},Ep}(),f=n("Promise"),P=l&&!h;return e({target:"Promise",stat:!0,forced:l||h},{resolve:function(e){return d(P&&this===f?u:this,e)}}),wp}function asyncGeneratorStep(e,n,l,u,h,d,f){try{var P=e[d](f),V=P.value}catch(B){return void l(B)}P.done?n(V):Promise.resolve(V).then(u,h)}function _asyncToGenerator(e){return function(){var n=this,l=arguments;return new Promise(function(u,h){var d=e.apply(n,l);function _next(e){asyncGeneratorStep(d,u,h,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(d,u,h,_next,_throw,"throw",e)}_next(void 0)})}}Ap||(Ap=1,requireEs_promise_constructor(),function(){if(vp)return Vp;vp=1;var e=require_export(),n=requireFunctionCall(),l=requireACallable(),u=requireNewPromiseCapability(),h=requirePerform(),d=requireIterate();e({target:"Promise",stat:!0,forced:requirePromiseStaticsIncorrectIteration()},{all:function(e){var f=this,P=u.f(f),V=P.resolve,B=P.reject,b=h(function(){var u=l(f.resolve),h=[],P=0,b=1;d(e,function(e){var l=P++,d=!1;b++,n(u,f,e).then(function(e){d||(d=!0,h[l]=e,--b||V(h))},B)}),--b||V(h)});return b.error&&B(b.value),P.promise}})}(),function(){if(Bp)return bp;Bp=1;var e=require_export(),n=requireIsPure(),l=requirePromiseConstructorDetection().CONSTRUCTOR,u=requirePromiseNativeConstructor(),h=requireGetBuiltIn(),d=requireIsCallable(),f=requireDefineBuiltIn(),P=u&&u.prototype;if(e({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(e){return this.then(void 0,e)}}),!n&&d(u)){var V=h("Promise").prototype.catch;P.catch!==V&&f(P,"catch",V,{unsafe:!0})}}(),function(){if(Tp)return Cp;Tp=1;var e=require_export(),n=requireFunctionCall(),l=requireACallable(),u=requireNewPromiseCapability(),h=requirePerform(),d=requireIterate();e({target:"Promise",stat:!0,forced:requirePromiseStaticsIncorrectIteration()},{race:function(e){var f=this,P=u.f(f),V=P.reject,B=h(function(){var u=l(f.resolve);d(e,function(e){n(u,f,e).then(P.resolve,V)})});return B.error&&V(B.value),P.promise}})}(),function(){if(Sp)return xp;Sp=1;var e=require_export(),n=requireNewPromiseCapability();e({target:"Promise",stat:!0,forced:requirePromiseConstructorDetection().CONSTRUCTOR},{reject:function(e){var l=n.f(this);return(0,l.reject)(e),l.promise}})}(),requireEs_promise_resolve());var Ip,Mp,qp,Np,Rp,kp,Dp={},Lp={};function requireToString(){if(Mp)return Ip;Mp=1;var e=requireClassof(),n=String;return Ip=function(l){if("Symbol"===e(l))throw new TypeError("Cannot convert a Symbol value to a string");return n(l)}}function requireRegexpFlags(){if(Np)return qp;Np=1;var e=requireAnObject();return qp=function(){var n=e(this),l="";return n.hasIndices&&(l+="d"),n.global&&(l+="g"),n.ignoreCase&&(l+="i"),n.multiline&&(l+="m"),n.dotAll&&(l+="s"),n.unicode&&(l+="u"),n.unicodeSets&&(l+="v"),n.sticky&&(l+="y"),l}}function requireRegexpStickyHelpers(){if(kp)return Rp;kp=1;var e=requireFails(),n=requireGlobalThis().RegExp,l=e(function(){var e=n("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),u=l||e(function(){return!n("a","y").sticky}),h=l||e(function(){var e=n("^r","gy");return e.lastIndex=2,null!==e.exec("str")});return Rp={BROKEN_CARET:h,MISSED_STICKY:u,UNSUPPORTED_Y:l}}var Fp,Up,jp,Gp,Hp,$p,zp,Jp,Wp,Yp,Kp,Xp,Qp,Zp,em,tm,nm,rm,am,im,om,sm,lm,um,cm,hm={};function requireObjectDefineProperties(){if(jp)return hm;jp=1;var e=requireDescriptors(),n=requireV8PrototypeDefineBug(),l=requireObjectDefineProperty(),u=requireAnObject(),h=requireToIndexedObject(),d=function(){if(Up)return Fp;Up=1;var e=requireObjectKeysInternal(),n=requireEnumBugKeys();return Fp=Object.keys||function(l){return e(l,n)}}();return hm.f=e&&!n?Object.defineProperties:function(e,n){u(e);for(var f,P=h(n),V=d(n),B=V.length,b=0;B>b;)l.f(e,f=V[b++],P[f]);return e},hm}function requireObjectCreate(){if(Hp)return Gp;Hp=1;var e,n=requireAnObject(),l=requireObjectDefineProperties(),u=requireEnumBugKeys(),h=requireHiddenKeys(),d=requireHtml(),f=requireDocumentCreateElement(),P=requireSharedKey(),V="prototype",B="script",b=P("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return"<"+B+">"+e+"</"+B+">"},NullProtoObjectViaActiveX=function(e){e.write(scriptTag("")),e.close();var n=e.parentWindow.Object;return e=null,n},NullProtoObject=function(){try{e=new ActiveXObject("htmlfile")}catch(b){}var n,l,h;NullProtoObject="undefined"!=typeof document?document.domain&&e?NullProtoObjectViaActiveX(e):(l=f("iframe"),h="java"+B+":",l.style.display="none",d.appendChild(l),l.src=String(h),(n=l.contentWindow.document).open(),n.write(scriptTag("document.F=Object")),n.close(),n.F):NullProtoObjectViaActiveX(e);for(var P=u.length;P--;)delete NullProtoObject[V][u[P]];return NullProtoObject()};return h[b]=!0,Gp=Object.create||function(e,u){var h;return null!==e?(EmptyConstructor[V]=n(e),h=new EmptyConstructor,EmptyConstructor[V]=null,h[b]=e):h=NullProtoObject(),void 0===u?h:l.f(h,u)}}function requireRegexpExec(){if(Kp)return Yp;Kp=1;var e,n,l=requireFunctionCall(),u=requireFunctionUncurryThis(),h=requireToString(),d=requireRegexpFlags(),f=requireRegexpStickyHelpers(),P=requireShared(),V=requireObjectCreate(),B=requireInternalState().get,b=function(){if(zp)return $p;zp=1;var e=requireFails(),n=requireGlobalThis().RegExp;return $p=e(function(){var e=n(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)})}(),C=function(){if(Wp)return Jp;Wp=1;var e=requireFails(),n=requireGlobalThis().RegExp;return Jp=e(function(){var e=n("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})}(),S=P("native-string-replace",String.prototype.replace),x=RegExp.prototype.exec,E=x,_=u("".charAt),O=u("".indexOf),A=u("".replace),q=u("".slice),N=(n=/b*/g,l(x,e=/a/,"a"),l(x,n,"a"),0!==e.lastIndex||0!==n.lastIndex),D=f.BROKEN_CARET,L=void 0!==/()??/.exec("")[1];return(N||L||D||b||C)&&(E=function(e){var n,u,f,P,b,C,U,j=this,$=B(j),z=h(e),W=$.raw;if(W)return W.lastIndex=j.lastIndex,n=l(E,W,z),j.lastIndex=W.lastIndex,n;var Y=$.groups,X=D&&j.sticky,Q=l(d,j),Z=j.source,ee=0,te=z;if(X&&(Q=A(Q,"y",""),-1===O(Q,"g")&&(Q+="g"),te=q(z,j.lastIndex),j.lastIndex>0&&(!j.multiline||j.multiline&&"\n"!==_(z,j.lastIndex-1))&&(Z="(?: "+Z+")",te=" "+te,ee++),u=new RegExp("^(?:"+Z+")",Q)),L&&(u=new RegExp("^"+Z+"$(?!\\s)",Q)),N&&(f=j.lastIndex),P=l(x,X?u:j,te),X?P?(P.input=q(P.input,ee),P[0]=q(P[0],ee),P.index=j.lastIndex,j.lastIndex+=P[0].length):j.lastIndex=0:N&&P&&(j.lastIndex=j.global?P.index+P[0].length:f),L&&P&&P.length>1&&l(S,P[0],u,function(){for(b=1;b<arguments.length-2;b++)void 0===arguments[b]&&(P[b]=void 0)}),P&&Y)for(P.groups=C=V(null),b=0;b<Y.length;b++)C[(U=Y[b])[0]]=P[U[1]];return P}),Yp=E}function requireFixRegexpWellKnownSymbolLogic(){if(Zp)return Qp;Zp=1,function(){if(Xp)return Lp;Xp=1;var e=require_export(),n=requireRegexpExec();e({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})}();var e=requireFunctionCall(),n=requireDefineBuiltIn(),l=requireRegexpExec(),u=requireFails(),h=requireWellKnownSymbol(),d=requireCreateNonEnumerableProperty(),f=h("species"),P=RegExp.prototype;return Qp=function(V,B,b,C){var S=h(V),x=!u(function(){var e={};return e[S]=function(){return 7},7!==""[V](e)}),E=x&&!u(function(){var e=!1,n=/a/;return"split"===V&&((n={}).constructor={},n.constructor[f]=function(){return n},n.flags="",n[S]=/./[S]),n.exec=function(){return e=!0,null},n[S](""),!e});if(!x||!E||b){var _=/./[S],O=B(S,""[V],function(n,u,h,d,f){var V=u.exec;return V===l||V===P.exec?x&&!f?{done:!0,value:e(_,u,h,d)}:{done:!0,value:e(n,h,u,d)}:{done:!1}});n(String.prototype,V,O[0]),n(P,S,O[1])}C&&d(P[S],"sham",!0)}}function requireAdvanceStringIndex(){if(rm)return nm;rm=1;var e=function(){if(tm)return em;tm=1;var e=requireFunctionUncurryThis(),n=requireToIntegerOrInfinity(),l=requireToString(),u=requireRequireObjectCoercible(),h=e("".charAt),d=e("".charCodeAt),f=e("".slice),createMethod=function(e){return function(P,V){var B,b,C=l(u(P)),S=n(V),x=C.length;return S<0||S>=x?e?"":void 0:(B=d(C,S))<55296||B>56319||S+1===x||(b=d(C,S+1))<56320||b>57343?e?h(C,S):B:e?f(C,S,S+2):b-56320+(B-55296<<10)+65536}};return em={codeAt:createMethod(!1),charAt:createMethod(!0)}}().charAt;return nm=function(n,l,u){return l+(u?e(n,l).length:1)}}function requireRegexpGetFlags(){if(sm)return om;sm=1;var e=requireFunctionCall(),n=requireHasOwnProperty(),l=requireObjectIsPrototypeOf(),u=function(){if(im)return am;im=1;var e=requireGlobalThis(),n=requireFails(),l=e.RegExp,u=!n(function(){var e=!0;try{l(".","d")}catch(P){e=!1}var n={},u="",h=e?"dgimsy":"gimsy",addGetter=function(e,l){Object.defineProperty(n,e,{get:function(){return u+=l,!0}})},d={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var f in e&&(d.hasIndices="d"),d)addGetter(f,d[f]);return Object.getOwnPropertyDescriptor(l.prototype,"flags").get.call(n)!==h||u!==h});return am={correct:u}}(),h=requireRegexpFlags(),d=RegExp.prototype;return om=u.correct?function(e){return e.flags}:function(f){return u.correct||!l(d,f)||n(f,"flags")?f.flags:e(h,f)}}function requireRegexpExecAbstract(){if(um)return lm;um=1;var e=requireFunctionCall(),n=requireAnObject(),l=requireIsCallable(),u=requireClassofRaw(),h=requireRegexpExec(),d=TypeError;return lm=function(f,P){var V=f.exec;if(l(V)){var B=e(V,f,P);return null!==B&&n(B),B}if("RegExp"===u(f))return e(h,f,P);throw new d("RegExp#exec called on incompatible receiver")}}!function(){if(cm)return Dp;cm=1;var e=requireFunctionCall(),n=requireFunctionUncurryThis(),l=requireFixRegexpWellKnownSymbolLogic(),u=requireAnObject(),h=requireIsObject(),d=requireToLength(),f=requireToString(),P=requireRequireObjectCoercible(),V=requireGetMethod(),B=requireAdvanceStringIndex(),b=requireRegexpGetFlags(),C=requireRegexpExecAbstract(),S=n("".indexOf);l("match",function(n,l,x){return[function(l){var u=P(this),d=h(l)?V(l,n):void 0;return d?e(d,l,u):new RegExp(l)[n](f(u))},function(e){var n=u(this),h=f(e),P=x(l,n,h);if(P.done)return P.value;var V=f(b(n));if(-1===S(V,"g"))return C(n,h);var E=-1!==S(V,"u");n.lastIndex=0;for(var _,O=[],A=0;null!==(_=C(n,h));){var q=f(_[0]);O[A]=q,""===q&&(n.lastIndex=B(h,d(n.lastIndex),E)),A++}return 0===A?null:O}]})}();var ym,dm,fm,gm={};!function(){if(fm)return gm;fm=1;var e=requireFunctionApply(),n=requireFunctionCall(),l=requireFunctionUncurryThis(),u=requireFixRegexpWellKnownSymbolLogic(),h=requireFails(),d=requireAnObject(),f=requireIsCallable(),P=requireIsObject(),V=requireToIntegerOrInfinity(),B=requireToLength(),b=requireToString(),C=requireRequireObjectCoercible(),S=requireAdvanceStringIndex(),x=requireGetMethod(),E=function(){if(dm)return ym;dm=1;var e=requireFunctionUncurryThis(),n=requireToObject(),l=Math.floor,u=e("".charAt),h=e("".replace),d=e("".slice),f=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,P=/\$([$&'`]|\d{1,2})/g;return ym=function(e,V,B,b,C,S){var x=B+e.length,E=b.length,_=P;return void 0!==C&&(C=n(C),_=f),h(S,_,function(n,h){var f;switch(u(h,0)){case"$":return"$";case"&":return e;case"`":return d(V,0,B);case"'":return d(V,x);case"<":f=C[d(h,1,-1)];break;default:var P=+h;if(0===P)return n;if(P>E){var S=l(P/10);return 0===S?n:S<=E?void 0===b[S-1]?u(h,1):b[S-1]+u(h,1):n}f=b[P-1]}return void 0===f?"":f})}}(),_=requireRegexpGetFlags(),O=requireRegexpExecAbstract(),A=requireWellKnownSymbol()("replace"),q=Math.max,N=Math.min,D=l([].concat),L=l([].push),U=l("".indexOf),j=l("".slice),maybeToString=function(e){return void 0===e?e:String(e)},$="$0"==="a".replace(/./,"$0"),z=!!/./[A]&&""===/./[A]("a","$0");u("replace",function(l,u,h){var $=z?"$":"$0";return[function(e,l){var h=C(this),d=P(e)?x(e,A):void 0;return d?n(d,e,h,l):n(u,b(h),e,l)},function(n,l){var P=d(this),C=b(n);if("string"==typeof l&&-1===U(l,$)&&-1===U(l,"$<")){var x=h(u,P,C,l);if(x.done)return x.value}var A=f(l);A||(l=b(l));var z,W=b(_(P)),Y=-1!==U(W,"g");Y&&(z=-1!==U(W,"u"),P.lastIndex=0);for(var X,Q=[];null!==(X=O(P,C))&&(L(Q,X),Y);){""===b(X[0])&&(P.lastIndex=S(C,B(P.lastIndex),z))}for(var Z="",ee=0,te=0;te<Q.length;te++){for(var ne,re=b((X=Q[te])[0]),ae=q(N(V(X.index),C.length),0),ie=[],oe=1;oe<X.length;oe++)L(ie,maybeToString(X[oe]));var se=X.groups;if(A){var le=D([re],ie,ae,C);void 0!==se&&L(le,se),ne=b(e(l,void 0,le))}else ne=E(re,C,ae,ie,se,l);ae>=ee&&(Z+=j(C,ee,ae)+ne,ee=ae+re.length)}return Z+j(C,ee)}]},!!h(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!$||z)}();var pm,mm,Pm,vm,Vm,Bm,bm,Tm,Cm,Sm,xm,Em,_m,Om,Am,wm,Im,Mm,qm,Nm,Rm,km,Dm,Lm={};function requireNotARegexp(){if(vm)return Pm;vm=1;var e=function(){if(mm)return pm;mm=1;var e=requireIsObject(),n=requireClassofRaw(),l=requireWellKnownSymbol()("match");return pm=function(u){var h;return e(u)&&(void 0!==(h=u[l])?!!h:"RegExp"===n(u))}}(),n=TypeError;return Pm=function(l){if(e(l))throw new n("The method doesn't accept regular expressions");return l}}function requireCorrectIsRegexpLogic(){if(Bm)return Vm;Bm=1;var e=requireWellKnownSymbol()("match");return Vm=function(n){var l=/./;try{"/./"[n](l)}catch(u){try{return l[e]=!1,"/./"[n](l)}catch(h){}}return!1}}function requireObjectGetPrototypeOf(){if(_m)return Em;_m=1;var e=requireHasOwnProperty(),n=requireIsCallable(),l=requireToObject(),u=requireSharedKey(),h=function(){if(xm)return Sm;xm=1;var e=requireFails();return Sm=!e(function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype})}(),d=u("IE_PROTO"),f=Object,P=f.prototype;return Em=h?f.getPrototypeOf:function(u){var h=l(u);if(e(h,d))return h[d];var V=h.constructor;return n(V)&&h instanceof V?V.prototype:h instanceof f?P:null}}function requireIteratorsCore(){if(Am)return Om;Am=1;var e,n,l,u=requireFails(),h=requireIsCallable(),d=requireIsObject(),f=requireObjectCreate(),P=requireObjectGetPrototypeOf(),V=requireDefineBuiltIn(),B=requireWellKnownSymbol(),b=requireIsPure(),C=B("iterator"),S=!1;return[].keys&&("next"in(l=[].keys())?(n=P(P(l)))!==Object.prototype&&(e=n):S=!0),!d(e)||u(function(){var n={};return e[C].call(n)!==n})?e={}:b&&(e=f(e)),h(e[C])||V(e,C,function(){return this}),Om={IteratorPrototype:e,BUGGY_SAFARI_ITERATORS:S}}function requireIteratorDefine(){if(qm)return Mm;qm=1;var e=require_export(),n=requireFunctionCall(),l=requireIsPure(),u=requireFunctionName(),h=requireIsCallable(),d=function(){if(Im)return wm;Im=1;var e=requireIteratorsCore().IteratorPrototype,n=requireObjectCreate(),l=requireCreatePropertyDescriptor(),u=requireSetToStringTag(),h=requireIterators(),returnThis=function(){return this};return wm=function(d,f,P,V){var B=f+" Iterator";return d.prototype=n(e,{next:l(+!V,P)}),u(d,B,!1,!0),h[B]=returnThis,d}}(),f=requireObjectGetPrototypeOf(),P=requireObjectSetPrototypeOf(),V=requireSetToStringTag(),B=requireCreateNonEnumerableProperty(),b=requireDefineBuiltIn(),C=requireWellKnownSymbol(),S=requireIterators(),x=requireIteratorsCore(),E=u.PROPER,_=u.CONFIGURABLE,O=x.IteratorPrototype,A=x.BUGGY_SAFARI_ITERATORS,q=C("iterator"),N="keys",D="values",L="entries",returnThis=function(){return this};return Mm=function(u,C,x,U,j,$,z){d(x,C,U);var W,Y,X,getIterationMethod=function(e){if(e===j&&ne)return ne;if(!A&&e&&e in ee)return ee[e];switch(e){case N:case D:case L:return function(){return new x(this,e)}}return function(){return new x(this)}},Q=C+" Iterator",Z=!1,ee=u.prototype,te=ee[q]||ee["@@iterator"]||j&&ee[j],ne=!A&&te||getIterationMethod(j),re="Array"===C&&ee.entries||te;if(re&&(W=f(re.call(new u)))!==Object.prototype&&W.next&&(l||f(W)===O||(P?P(W,O):h(W[q])||b(W,q,returnThis)),V(W,Q,!0,!0),l&&(S[Q]=returnThis)),E&&j===D&&te&&te.name!==D&&(!l&&_?B(ee,"name",D):(Z=!0,ne=function(){return n(te,this)})),j)if(Y={values:getIterationMethod(D),keys:$?ne:getIterationMethod(N),entries:getIterationMethod(L)},z)for(X in Y)(A||Z||!(X in ee))&&b(ee,X,Y[X]);else e({target:C,proto:!0,forced:A||Z},Y);return l&&!z||ee[q]===ne||b(ee,q,ne,{name:j}),S[C]=ne,Y}}function requireEs_array_iterator(){if(Dm)return km;Dm=1;var e=requireToIndexedObject(),n=function(){if(Cm)return Tm;Cm=1;var e=requireWellKnownSymbol(),n=requireObjectCreate(),l=requireObjectDefineProperty().f,u=e("unscopables"),h=Array.prototype;return void 0===h[u]&&l(h,u,{configurable:!0,value:n(null)}),Tm=function(e){h[u][e]=!0}}(),l=requireIterators(),u=requireInternalState(),h=requireObjectDefineProperty().f,d=requireIteratorDefine(),f=Rm?Nm:(Rm=1,Nm=function(e,n){return{value:e,done:n}}),P=requireIsPure(),V=requireDescriptors(),B="Array Iterator",b=u.set,C=u.getterFor(B);km=d(Array,"Array",function(n,l){b(this,{type:B,target:e(n),index:0,kind:l})},function(){var e=C(this),n=e.target,l=e.index++;if(!n||l>=n.length)return e.target=null,f(void 0,!0);switch(e.kind){case"keys":return f(l,!1);case"values":return f(n[l],!1)}return f([l,n[l]],!1)},"values");var S=l.Arguments=l.Array;if(n("keys"),n("values"),n("entries"),!P&&V&&"values"!==S.name)try{h(S,"name",{value:"values"})}catch(x){}return km}!function(){if(bm)return Lm;bm=1;var e,n=require_export(),l=requireFunctionUncurryThisClause(),u=requireObjectGetOwnPropertyDescriptor().f,h=requireToLength(),d=requireToString(),f=requireNotARegexp(),P=requireRequireObjectCoercible(),V=requireCorrectIsRegexpLogic(),B=requireIsPure(),b=l("".slice),C=Math.min,S=V("startsWith");n({target:"String",proto:!0,forced:!!(B||S||(e=u(String.prototype,"startsWith"),!e||e.writable))&&!S},{startsWith:function(e){var n=d(P(this));f(e);var l=h(C(arguments.length>1?arguments[1]:void 0,n.length)),u=d(e);return b(n,l,l+u.length)===u}})}(),requireEs_array_iterator();var Fm,Um,jm,Gm,Hm,$m={};function toPropertyKey(e){var n=function(e,n){if("object"!=_typeof$1(e)||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var u=l.call(e,n);if("object"!=_typeof$1(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==_typeof$1(n)?n:n+""}function _defineProperty(e,n,l){return(n=toPropertyKey(n))in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}!function(){if(Hm)return $m;Hm=1;var e=requireGlobalThis(),n=Um?Fm:(Um=1,Fm={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),l=function(){if(Gm)return jm;Gm=1;var e=requireDocumentCreateElement()("span").classList,n=e&&e.constructor&&e.constructor.prototype;return jm=n===Object.prototype?void 0:n}(),u=requireEs_array_iterator(),h=requireCreateNonEnumerableProperty(),d=requireSetToStringTag(),f=requireWellKnownSymbol()("iterator"),P=u.values,handlePrototype=function(e,l){if(e){if(e[f]!==P)try{h(e,f,P)}catch(B){e[f]=P}if(d(e,l,!0),n[l])for(var V in u)if(e[V]!==u[V])try{h(e,V,u[V])}catch(B){e[V]=u[V]}}};for(var V in n)handlePrototype(e[V]&&e[V].prototype,V);handlePrototype(l,"DOMTokenList")}();var zm,Jm,Wm,Ym,Km,Xm={};function requireArrayMethodIsStrict(){if(Ym)return Wm;Ym=1;var e=requireFails();return Wm=function(n,l){var u=[][n];return!!u&&e(function(){u.call(null,l||function(){return 1},1)})}}!function(){if(Km)return Xm;Km=1;var e=require_export(),n=function(){if(Jm)return zm;Jm=1;var e=requireACallable(),n=requireToObject(),l=requireIndexedObject(),u=requireLengthOfArrayLike(),h=TypeError,d="Reduce of empty array with no initial value",createMethod=function(f){return function(P,V,B,b){var C=n(P),S=l(C),x=u(C);if(e(V),0===x&&B<2)throw new h(d);var E=f?x-1:0,_=f?-1:1;if(B<2)for(;;){if(E in S){b=S[E],E+=_;break}if(E+=_,f?E<0:x<=E)throw new h(d)}for(;f?E>=0:x>E;E+=_)E in S&&(b=V(b,S[E],E,C));return b}};return zm={left:createMethod(!1),right:createMethod(!0)}}().left,l=requireArrayMethodIsStrict(),u=requireEnvironmentV8Version();e({target:"Array",proto:!0,forced:!requireEnvironmentIsNode()&&u>79&&u<83||!l("reduce")},{reduce:function(e){var l=arguments.length;return n(this,e,l,l>1?arguments[1]:void 0)}})}();var Qm,Zm={};!function(){if(Qm)return Zm;Qm=1;var e,n=require_export(),l=requireFunctionUncurryThisClause(),u=requireObjectGetOwnPropertyDescriptor().f,h=requireToLength(),d=requireToString(),f=requireNotARegexp(),P=requireRequireObjectCoercible(),V=requireCorrectIsRegexpLogic(),B=requireIsPure(),b=l("".slice),C=Math.min,S=V("endsWith");n({target:"String",proto:!0,forced:!!(B||S||(e=u(String.prototype,"endsWith"),!e||e.writable))&&!S},{endsWith:function(e){var n=d(P(this));f(e);var l=arguments.length>1?arguments[1]:void 0,u=n.length,V=void 0===l?u:C(h(l),u),B=d(e);return b(n,V-B.length,V)===B}})}();var eP,tP={};!function(){if(eP)return tP;eP=1;var e=requireFunctionCall(),n=requireFunctionUncurryThis(),l=requireFixRegexpWellKnownSymbolLogic(),u=requireAnObject(),h=requireIsObject(),d=requireRequireObjectCoercible(),f=requireSpeciesConstructor(),P=requireAdvanceStringIndex(),V=requireToLength(),B=requireToString(),b=requireGetMethod(),C=requireRegexpExecAbstract(),S=requireRegexpStickyHelpers(),x=requireFails(),E=S.UNSUPPORTED_Y,_=Math.min,O=n([].push),A=n("".slice),q=!x(function(){var e=/(?:)/,n=e.exec;e.exec=function(){return n.apply(this,arguments)};var l="ab".split(e);return 2!==l.length||"a"!==l[0]||"b"!==l[1]}),N="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;l("split",function(n,l,S){var x="0".split(void 0,0).length?function(n,u){return void 0===n&&0===u?[]:e(l,this,n,u)}:l;return[function(l,u){var f=d(this),P=h(l)?b(l,n):void 0;return P?e(P,l,f,u):e(x,B(f),l,u)},function(e,n){var h=u(this),d=B(e);if(!N){var b=S(x,h,d,n,x!==l);if(b.done)return b.value}var q=f(h,RegExp),D=h.unicode,L=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(E?"g":"y"),U=new q(E?"^(?:"+h.source+")":h,L),j=void 0===n?4294967295:n>>>0;if(0===j)return[];if(0===d.length)return null===C(U,d)?[d]:[];for(var $=0,z=0,W=[];z<d.length;){U.lastIndex=E?0:z;var Y,X=C(U,E?A(d,z):d);if(null===X||(Y=_(V(U.lastIndex+(E?z:0)),d.length))===$)z=P(d,z,D);else{if(O(W,A(d,$,z)),W.length===j)return W;for(var Q=1;Q<=X.length-1;Q++)if(O(W,X[Q]),W.length===j)return W;z=$=Y}}return O(W,A(d,$)),W}]},N||!q,E)}();var nP,rP,aP={exports:{}},iP={exports:{}},oP=iP.exports;const sP=n(function(){if(rP)return aP.exports;rP=1;for(var n=(nP||(nP=1,function(){var e,n,l,u,h,d;"undefined"!=typeof performance&&null!==performance&&performance.now?iP.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(iP.exports=function(){return(e()-h)/1e6},n=process.hrtime,u=(e=function(){var e;return 1e9*(e=n())[0]+e[1]})(),d=1e9*process.uptime(),h=u-d):Date.now?(iP.exports=function(){return Date.now()-l},l=Date.now()):(iP.exports=function(){return(new Date).getTime()-l},l=(new Date).getTime())}.call(oP)),iP.exports),l="undefined"==typeof window?e:window,u=["moz","webkit"],h="AnimationFrame",d=l["request"+h],f=l["cancel"+h]||l["cancelRequest"+h],P=0;!d&&P<u.length;P++)d=l[u[P]+"Request"+h],f=l[u[P]+"Cancel"+h]||l[u[P]+"CancelRequest"+h];if(!d||!f){var V=0,B=0,b=[],C=1e3/60;d=function(e){if(0===b.length){var l=n(),u=Math.max(0,C-(l-V));V=u+l,setTimeout(function(){var e=b.slice(0);b.length=0;for(var n=0;n<e.length;n++)if(!e[n].cancelled)try{e[n].callback(V)}catch(gV){setTimeout(function(){throw gV},0)}},Math.round(u))}return b.push({handle:++B,callback:e,cancelled:!1}),B},f=function(e){for(var n=0;n<b.length;n++)b[n].handle===e&&(b[n].cancelled=!0)}}return aP.exports=function(e){return d.call(l,e)},aP.exports.cancel=function(){f.apply(l,arguments)},aP.exports.polyfill=function(e){e||(e=l),e.requestAnimationFrame=d,e.cancelAnimationFrame=f},aP.exports}());var lP,uP,cP,hP,yP,dP,fP,gP,pP,mP={};function requireWhitespaces(){return uP?lP:(uP=1,lP="\t\n\v\f\r                　\u2028\u2029\ufeff")}!function(){if(fP)return mP;fP=1;var e=require_export(),n=function(){if(hP)return cP;hP=1;var e=requireFunctionUncurryThis(),n=requireRequireObjectCoercible(),l=requireToString(),u=requireWhitespaces(),h=e("".replace),d=RegExp("^["+u+"]+"),f=RegExp("(^|[^"+u+"])["+u+"]+$"),createMethod=function(e){return function(u){var P=l(n(u));return 1&e&&(P=h(P,d,"")),2&e&&(P=h(P,f,"$1")),P}};return cP={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}}().trim;e({target:"String",proto:!0,forced:function(){if(dP)return yP;dP=1;var e=requireFunctionName().PROPER,n=requireFails(),l=requireWhitespaces();return yP=function(u){return n(function(){return!!l[u]()||"​᠎"!=="​᠎"[u]()||e&&l[u].name!==u})}}()("trim")},{trim:function(){return n(this)}})}();const PP=n(pP?gP:(pP=1,gP=function(e){this.ok=!1,this.alpha=1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=n[e]||e;for(var l=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],u=0;u<l.length;u++){var h=l[u].re,d=l[u].process,f=h.exec(e);if(f){var P=d(f);this.r=P[0],this.g=P[1],this.b=P[2],P.length>3&&(this.alpha=P[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var e=this.r.toString(16),n=this.g.toString(16),l=this.b.toString(16);return 1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),1==l.length&&(l="0"+l),"#"+e+n+l},this.getHelpXML=function(){for(var e=new Array,u=0;u<l.length;u++)for(var h=l[u].example,d=0;d<h.length;d++)e[e.length]=h[d];for(var f in n)e[e.length]=f;var P=document.createElement("ul");for(P.setAttribute("id","rgbcolor-examples"),u=0;u<e.length;u++)try{var V=document.createElement("li"),B=new RGBColor(e[u]),b=document.createElement("div");b.style.cssText="margin: 3px; border: 1px solid black; background:"+B.toHex()+"; color:"+B.toHex(),b.appendChild(document.createTextNode("test"));var C=document.createTextNode(" "+e[u]+" -> "+B.toRGB()+" -> "+B.toHex());V.appendChild(b),V.appendChild(C),P.appendChild(V)}catch(gV){}return P}}));var vP,VP={};!function(){if(vP)return VP;vP=1;var e=require_export(),n=requireFunctionUncurryThisClause(),l=requireArrayIncludes().indexOf,u=requireArrayMethodIsStrict(),h=n([].indexOf),d=!!h&&1/h([1],1,-0)<0;e({target:"Array",proto:!0,forced:d||!u("indexOf")},{indexOf:function(e){var n=arguments.length>1?arguments[1]:void 0;return d?h(this,e,n)||0:l(this,e,n)}})}();var BP,bP={};!function(){if(BP)return bP;BP=1;var e=require_export(),n=requireFunctionUncurryThis(),l=requireNotARegexp(),u=requireRequireObjectCoercible(),h=requireToString(),d=requireCorrectIsRegexpLogic(),f=n("".indexOf);e({target:"String",proto:!0,forced:!d("includes")},{includes:function(e){return!!~f(h(u(this)),h(l(e)),arguments.length>1?arguments[1]:void 0)}})}();var TP,CP,SP,xP={};!function(){if(SP)return xP;SP=1;var e=require_export(),n=requireFunctionUncurryThis(),l=function(){if(CP)return TP;CP=1;var e=requireClassofRaw();return TP=Array.isArray||function(n){return"Array"===e(n)}}(),u=n([].reverse),h=[1,2];e({target:"Array",proto:!0,forced:String(h)===String(h.reverse())},{reverse:function(){return l(this)&&(this.length=this.length),u(this)}})}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])})(e,n)};function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i2(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i2.prototype=n.prototype,new i2)}function i(e,n){var l=e[0],u=e[1];return[l*Math.cos(n)-u*Math.sin(n),l*Math.sin(n)+u*Math.cos(n)]}function a(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var l=0;l<e.length;l++)if("number"!=typeof e[l])throw new Error("assertNumbers arguments["+l+"] is not a number. "+typeof e[l]+" == typeof "+e[l]);return!0}var EP=Math.PI;function o(e,n,l){e.lArcFlag=0===e.lArcFlag?0:1,e.sweepFlag=0===e.sweepFlag?0:1;var u=e.rX,h=e.rY,d=e.x,f=e.y;u=Math.abs(e.rX),h=Math.abs(e.rY);var P=i([(n-d)/2,(l-f)/2],-e.xRot/180*EP),V=P[0],B=P[1],b=Math.pow(V,2)/Math.pow(u,2)+Math.pow(B,2)/Math.pow(h,2);1<b&&(u*=Math.sqrt(b),h*=Math.sqrt(b)),e.rX=u,e.rY=h;var C=Math.pow(u,2)*Math.pow(B,2)+Math.pow(h,2)*Math.pow(V,2),S=(e.lArcFlag!==e.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(u,2)*Math.pow(h,2)-C)/C)),x=u*B/h*S,E=-h*V/u*S,_=i([x,E],e.xRot/180*EP);e.cX=_[0]+(n+d)/2,e.cY=_[1]+(l+f)/2,e.phi1=Math.atan2((B-E)/h,(V-x)/u),e.phi2=Math.atan2((-B-E)/h,(-V-x)/u),0===e.sweepFlag&&e.phi2>e.phi1&&(e.phi2-=2*EP),1===e.sweepFlag&&e.phi2<e.phi1&&(e.phi2+=2*EP),e.phi1*=180/EP,e.phi2*=180/EP}function s(e,n,l){a(e,n,l);var u=e*e+n*n-l*l;if(0>u)return[];if(0===u)return[[e*l/(e*e+n*n),n*l/(e*e+n*n)]];var h=Math.sqrt(u);return[[(e*l+n*h)/(e*e+n*n),(n*l-e*h)/(e*e+n*n)],[(e*l-n*h)/(e*e+n*n),(n*l+e*h)/(e*e+n*n)]]}var _P,OP=Math.PI/180;function c$1(e,n,l){return(1-l)*e+l*n}function y(e,n,l,u){return e+Math.cos(u/180*EP)*n+Math.sin(u/180*EP)*l}function p(e,n,l,u){var h=1e-6,d=n-e,f=l-n,P=3*d+3*(u-l)-6*f,V=6*(f-d),B=3*d;return Math.abs(P)<h?[-B/V]:function(e,n,l){var u=e*e/4-n;if(u<-l)return[];if(u<=l)return[-e/2];var h=Math.sqrt(u);return[-e/2-h,-e/2+h]}(V/P,B/P,h)}function m$1(e,n,l,u,h){var d=1-h;return e*(d*d*d)+n*(3*d*d*h)+l*(3*d*h*h)+u*(h*h*h)}!function(e){function r2(){return u2(function(e,n,l){return e.relative&&(void 0!==e.x1&&(e.x1+=n),void 0!==e.y1&&(e.y1+=l),void 0!==e.x2&&(e.x2+=n),void 0!==e.y2&&(e.y2+=l),void 0!==e.x&&(e.x+=n),void 0!==e.y&&(e.y+=l),e.relative=!1),e})}function e2(){var e=NaN,n=NaN,l=NaN,u=NaN;return u2(function(h,d,f){return h.type&qP.SMOOTH_CURVE_TO&&(h.type=qP.CURVE_TO,e=isNaN(e)?d:e,n=isNaN(n)?f:n,h.x1=h.relative?d-e:2*d-e,h.y1=h.relative?f-n:2*f-n),h.type&qP.CURVE_TO?(e=h.relative?d+h.x2:h.x2,n=h.relative?f+h.y2:h.y2):(e=NaN,n=NaN),h.type&qP.SMOOTH_QUAD_TO&&(h.type=qP.QUAD_TO,l=isNaN(l)?d:l,u=isNaN(u)?f:u,h.x1=h.relative?d-l:2*d-l,h.y1=h.relative?f-u:2*f-u),h.type&qP.QUAD_TO?(l=h.relative?d+h.x1:h.x1,u=h.relative?f+h.y1:h.y1):(l=NaN,u=NaN),h})}function n2(){var e=NaN,n=NaN;return u2(function(l,u,h){if(l.type&qP.SMOOTH_QUAD_TO&&(l.type=qP.QUAD_TO,e=isNaN(e)?u:e,n=isNaN(n)?h:n,l.x1=l.relative?u-e:2*u-e,l.y1=l.relative?h-n:2*h-n),l.type&qP.QUAD_TO){e=l.relative?u+l.x1:l.x1,n=l.relative?h+l.y1:l.y1;var d=l.x1,f=l.y1;l.type=qP.CURVE_TO,l.x1=((l.relative?0:u)+2*d)/3,l.y1=((l.relative?0:h)+2*f)/3,l.x2=(l.x+2*d)/3,l.y2=(l.y+2*f)/3}else e=NaN,n=NaN;return l})}function u2(e){var n=0,l=0,u=NaN,h=NaN;return function(d){if(isNaN(u)&&!(d.type&qP.MOVE_TO))throw new Error("path must start with moveto");var f=e(d,n,l,u,h);return d.type&qP.CLOSE_PATH&&(n=u,l=h),void 0!==d.x&&(n=d.relative?n+d.x:d.x),void 0!==d.y&&(l=d.relative?l+d.y:d.y),d.type&qP.MOVE_TO&&(u=n,h=l),f}}function O2(e,n,l,u,h,d){return a(e,n,l,u,h,d),u2(function(f,P,V,B){var b=f.x1,C=f.x2,S=f.relative&&!isNaN(B),x=void 0!==f.x?f.x:S?0:P,E=void 0!==f.y?f.y:S?0:V;function l3(e){return e*e}f.type&qP.HORIZ_LINE_TO&&0!==n&&(f.type=qP.LINE_TO,f.y=f.relative?0:V),f.type&qP.VERT_LINE_TO&&0!==l&&(f.type=qP.LINE_TO,f.x=f.relative?0:P),void 0!==f.x&&(f.x=f.x*e+E*l+(S?0:h)),void 0!==f.y&&(f.y=x*n+f.y*u+(S?0:d)),void 0!==f.x1&&(f.x1=f.x1*e+f.y1*l+(S?0:h)),void 0!==f.y1&&(f.y1=b*n+f.y1*u+(S?0:d)),void 0!==f.x2&&(f.x2=f.x2*e+f.y2*l+(S?0:h)),void 0!==f.y2&&(f.y2=C*n+f.y2*u+(S?0:d));var _=e*u-n*l;if(void 0!==f.xRot&&(1!==e||0!==n||0!==l||1!==u))if(0===_)delete f.rX,delete f.rY,delete f.xRot,delete f.lArcFlag,delete f.sweepFlag,f.type=qP.LINE_TO;else{var O=f.xRot*Math.PI/180,A=Math.sin(O),q=Math.cos(O),N=1/l3(f.rX),D=1/l3(f.rY),L=l3(q)*N+l3(A)*D,U=2*A*q*(N-D),j=l3(A)*N+l3(q)*D,$=L*u*u-U*n*u+j*n*n,z=U*(e*u+n*l)-2*(L*l*u+j*e*n),W=L*l*l-U*e*l+j*e*e,Y=(Math.atan2(z,$-W)+Math.PI)%Math.PI/2,X=Math.sin(Y),Q=Math.cos(Y);f.rX=Math.abs(_)/Math.sqrt($*l3(Q)+z*X*Q+W*l3(X)),f.rY=Math.abs(_)/Math.sqrt($*l3(X)-z*X*Q+W*l3(Q)),f.xRot=180*Y/Math.PI}return void 0!==f.sweepFlag&&0>_&&(f.sweepFlag=+!f.sweepFlag),f})}e.ROUND=function(e){function r3(n){return Math.round(n*e)/e}return void 0===e&&(e=1e13),a(e),function(e){return void 0!==e.x1&&(e.x1=r3(e.x1)),void 0!==e.y1&&(e.y1=r3(e.y1)),void 0!==e.x2&&(e.x2=r3(e.x2)),void 0!==e.y2&&(e.y2=r3(e.y2)),void 0!==e.x&&(e.x=r3(e.x)),void 0!==e.y&&(e.y=r3(e.y)),void 0!==e.rX&&(e.rX=r3(e.rX)),void 0!==e.rY&&(e.rY=r3(e.rY)),e}},e.TO_ABS=r2,e.TO_REL=function(){return u2(function(e,n,l){return e.relative||(void 0!==e.x1&&(e.x1-=n),void 0!==e.y1&&(e.y1-=l),void 0!==e.x2&&(e.x2-=n),void 0!==e.y2&&(e.y2-=l),void 0!==e.x&&(e.x-=n),void 0!==e.y&&(e.y-=l),e.relative=!0),e})},e.NORMALIZE_HVZ=function(e,n,l){return void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===l&&(l=!0),u2(function(u,h,d,f,P){if(isNaN(f)&&!(u.type&qP.MOVE_TO))throw new Error("path must start with moveto");return n&&u.type&qP.HORIZ_LINE_TO&&(u.type=qP.LINE_TO,u.y=u.relative?0:d),l&&u.type&qP.VERT_LINE_TO&&(u.type=qP.LINE_TO,u.x=u.relative?0:h),e&&u.type&qP.CLOSE_PATH&&(u.type=qP.LINE_TO,u.x=u.relative?f-h:f,u.y=u.relative?P-d:P),u.type&qP.ARC&&(0===u.rX||0===u.rY)&&(u.type=qP.LINE_TO,delete u.rX,delete u.rY,delete u.xRot,delete u.lArcFlag,delete u.sweepFlag),u})},e.NORMALIZE_ST=e2,e.QT_TO_C=n2,e.INFO=u2,e.SANITIZE=function(e){void 0===e&&(e=0),a(e);var n=NaN,l=NaN,u=NaN,h=NaN;return u2(function(d,f,P,V,B){var b=Math.abs,C=!1,S=0,x=0;if(d.type&qP.SMOOTH_CURVE_TO&&(S=isNaN(n)?0:f-n,x=isNaN(l)?0:P-l),d.type&(qP.CURVE_TO|qP.SMOOTH_CURVE_TO)?(n=d.relative?f+d.x2:d.x2,l=d.relative?P+d.y2:d.y2):(n=NaN,l=NaN),d.type&qP.SMOOTH_QUAD_TO?(u=isNaN(u)?f:2*f-u,h=isNaN(h)?P:2*P-h):d.type&qP.QUAD_TO?(u=d.relative?f+d.x1:d.x1,h=d.relative?P+d.y1:d.y2):(u=NaN,h=NaN),d.type&qP.LINE_COMMANDS||d.type&qP.ARC&&(0===d.rX||0===d.rY||!d.lArcFlag)||d.type&qP.CURVE_TO||d.type&qP.SMOOTH_CURVE_TO||d.type&qP.QUAD_TO||d.type&qP.SMOOTH_QUAD_TO){var E=void 0===d.x?0:d.relative?d.x:d.x-f,_=void 0===d.y?0:d.relative?d.y:d.y-P;S=isNaN(u)?void 0===d.x1?S:d.relative?d.x:d.x1-f:u-f,x=isNaN(h)?void 0===d.y1?x:d.relative?d.y:d.y1-P:h-P;var O=void 0===d.x2?0:d.relative?d.x:d.x2-f,A=void 0===d.y2?0:d.relative?d.y:d.y2-P;b(E)<=e&&b(_)<=e&&b(S)<=e&&b(x)<=e&&b(O)<=e&&b(A)<=e&&(C=!0)}return d.type&qP.CLOSE_PATH&&b(f-V)<=e&&b(P-B)<=e&&(C=!0),C?[]:d})},e.MATRIX=O2,e.ROTATE=function(e,n,l){void 0===n&&(n=0),void 0===l&&(l=0),a(e,n,l);var u=Math.sin(e),h=Math.cos(e);return O2(h,u,-u,h,n-n*h+l*u,l-n*u-l*h)},e.TRANSLATE=function(e,n){return void 0===n&&(n=0),a(e,n),O2(1,0,0,1,e,n)},e.SCALE=function(e,n){return void 0===n&&(n=e),a(e,n),O2(e,0,0,n,0,0)},e.SKEW_X=function(e){return a(e),O2(1,0,Math.atan(e),1,0,0)},e.SKEW_Y=function(e){return a(e),O2(1,Math.atan(e),0,1,0,0)},e.X_AXIS_SYMMETRY=function(e){return void 0===e&&(e=0),a(e),O2(-1,0,0,1,e,0)},e.Y_AXIS_SYMMETRY=function(e){return void 0===e&&(e=0),a(e),O2(1,0,0,-1,0,e)},e.A_TO_C=function(){return u2(function(e,n,l){return qP.ARC===e.type?function(e,n,l){var u,h,d,f;e.cX||o(e,n,l);for(var P=Math.min(e.phi1,e.phi2),V=Math.max(e.phi1,e.phi2)-P,B=Math.ceil(V/90),b=new Array(B),C=n,S=l,x=0;x<B;x++){var E=c$1(e.phi1,e.phi2,x/B),_=c$1(e.phi1,e.phi2,(x+1)/B),O=_-E,A=4/3*Math.tan(O*OP/4),q=[Math.cos(E*OP)-A*Math.sin(E*OP),Math.sin(E*OP)+A*Math.cos(E*OP)],N=q[0],D=q[1],L=[Math.cos(_*OP),Math.sin(_*OP)],U=L[0],j=L[1],$=[U+A*Math.sin(_*OP),j-A*Math.cos(_*OP)],z=$[0],W=$[1];b[x]={relative:e.relative,type:qP.CURVE_TO};var H=function(n,l){var u=i([n*e.rX,l*e.rY],e.xRot),h=u[0],d=u[1];return[e.cX+h,e.cY+d]};u=H(N,D),b[x].x1=u[0],b[x].y1=u[1],h=H(z,W),b[x].x2=h[0],b[x].y2=h[1],d=H(U,j),b[x].x=d[0],b[x].y=d[1],e.relative&&(b[x].x1-=C,b[x].y1-=S,b[x].x2-=C,b[x].y2-=S,b[x].x-=C,b[x].y-=S),C=(f=[b[x].x,b[x].y])[0],S=f[1]}return b}(e,e.relative?0:n,e.relative?0:l):e})},e.ANNOTATE_ARCS=function(){return u2(function(e,n,l){return e.relative&&(n=0,l=0),qP.ARC===e.type&&o(e,n,l),e})},e.CLONE=function(){return function(e){var n={};for(var l in e)n[l]=e[l];return n}},e.CALCULATE_BOUNDS=function(){var e=r2(),n=n2(),l=e2(),u=u2(function(h,d,f){var P=l(n(e(function(e){var n={};for(var l in e)n[l]=e[l];return n}(h))));function O3(e){e>u.maxX&&(u.maxX=e),e<u.minX&&(u.minX=e)}function l3(e){e>u.maxY&&(u.maxY=e),e<u.minY&&(u.minY=e)}if(P.type&qP.DRAWING_COMMANDS&&(O3(d),l3(f)),P.type&qP.HORIZ_LINE_TO&&O3(P.x),P.type&qP.VERT_LINE_TO&&l3(P.y),P.type&qP.LINE_TO&&(O3(P.x),l3(P.y)),P.type&qP.CURVE_TO){O3(P.x),l3(P.y);for(var V=0,B=p(d,P.x1,P.x2,P.x);V<B.length;V++)0<($=B[V])&&1>$&&O3(m$1(d,P.x1,P.x2,P.x,$));for(var b=0,C=p(f,P.y1,P.y2,P.y);b<C.length;b++)0<($=C[b])&&1>$&&l3(m$1(f,P.y1,P.y2,P.y,$))}if(P.type&qP.ARC){O3(P.x),l3(P.y),o(P,d,f);for(var S=P.xRot/180*Math.PI,x=Math.cos(S)*P.rX,E=Math.sin(S)*P.rX,_=-Math.sin(S)*P.rY,O=Math.cos(S)*P.rY,A=P.phi1<P.phi2?[P.phi1,P.phi2]:-180>P.phi2?[P.phi2+360,P.phi1+360]:[P.phi2,P.phi1],q=A[0],N=A[1],I=function(e){var n=e[0],l=e[1],u=180*Math.atan2(l,n)/Math.PI;return u<q?u+360:u},D=0,L=s(_,-x,0).map(I);D<L.length;D++)($=L[D])>q&&$<N&&O3(y(P.cX,x,_,$));for(var U=0,j=s(O,-E,0).map(I);U<j.length;U++){var $;($=j[U])>q&&$<N&&l3(y(P.cY,E,O,$))}}return h});return u.minX=1/0,u.maxX=-1/0,u.minY=1/0,u.maxY=-1/0,u}}(_P||(_P={}));var AP,wP,IP=function(){function t2(){}return t2.prototype.round=function(e){return this.transform(_P.ROUND(e))},t2.prototype.toAbs=function(){return this.transform(_P.TO_ABS())},t2.prototype.toRel=function(){return this.transform(_P.TO_REL())},t2.prototype.normalizeHVZ=function(e,n,l){return this.transform(_P.NORMALIZE_HVZ(e,n,l))},t2.prototype.normalizeST=function(){return this.transform(_P.NORMALIZE_ST())},t2.prototype.qtToC=function(){return this.transform(_P.QT_TO_C())},t2.prototype.aToC=function(){return this.transform(_P.A_TO_C())},t2.prototype.sanitize=function(e){return this.transform(_P.SANITIZE(e))},t2.prototype.translate=function(e,n){return this.transform(_P.TRANSLATE(e,n))},t2.prototype.scale=function(e,n){return this.transform(_P.SCALE(e,n))},t2.prototype.rotate=function(e,n,l){return this.transform(_P.ROTATE(e,n,l))},t2.prototype.matrix=function(e,n,l,u,h,d){return this.transform(_P.MATRIX(e,n,l,u,h,d))},t2.prototype.skewX=function(e){return this.transform(_P.SKEW_X(e))},t2.prototype.skewY=function(e){return this.transform(_P.SKEW_Y(e))},t2.prototype.xSymmetry=function(e){return this.transform(_P.X_AXIS_SYMMETRY(e))},t2.prototype.ySymmetry=function(e){return this.transform(_P.Y_AXIS_SYMMETRY(e))},t2.prototype.annotateArcs=function(){return this.transform(_P.ANNOTATE_ARCS())},t2}(),T=function(e){return" "===e||"\t"===e||"\r"===e||"\n"===e},v=function(e){return"0".charCodeAt(0)<=e.charCodeAt(0)&&e.charCodeAt(0)<="9".charCodeAt(0)},MP=function(e){function e2(){var n=e.call(this)||this;return n.curNumber="",n.curCommandType=-1,n.curCommandRelative=!1,n.canParseCommandOrComma=!0,n.curNumberHasExp=!1,n.curNumberHasExpDigits=!1,n.curNumberHasDecimal=!1,n.curArgs=[],n}return r(e2,e),e2.prototype.finish=function(e){if(void 0===e&&(e=[]),this.parse(" ",e),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return e},e2.prototype.parse=function(e,n){var l=this;void 0===n&&(n=[]);for(var i2=function(e){n.push(e),l.curArgs.length=0,l.canParseCommandOrComma=!0},u=0;u<e.length;u++){var h=e[u],d=!(this.curCommandType!==qP.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),f=v(h)&&("0"===this.curNumber&&"0"===h||d);if(!v(h)||f)if("e"!==h&&"E"!==h)if("-"!==h&&"+"!==h||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==h||this.curNumberHasExp||this.curNumberHasDecimal||d){if(this.curNumber&&-1!==this.curCommandType){var P=Number(this.curNumber);if(isNaN(P))throw new SyntaxError("Invalid number ending at "+u);if(this.curCommandType===qP.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>P)throw new SyntaxError('Expected positive number, got "'+P+'" at index "'+u+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+u+'"');this.curArgs.push(P),this.curArgs.length===NP[this.curCommandType]&&(qP.HORIZ_LINE_TO===this.curCommandType?i2({type:qP.HORIZ_LINE_TO,relative:this.curCommandRelative,x:P}):qP.VERT_LINE_TO===this.curCommandType?i2({type:qP.VERT_LINE_TO,relative:this.curCommandRelative,y:P}):this.curCommandType===qP.MOVE_TO||this.curCommandType===qP.LINE_TO||this.curCommandType===qP.SMOOTH_QUAD_TO?(i2({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),qP.MOVE_TO===this.curCommandType&&(this.curCommandType=qP.LINE_TO)):this.curCommandType===qP.CURVE_TO?i2({type:qP.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===qP.SMOOTH_CURVE_TO?i2({type:qP.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===qP.QUAD_TO?i2({type:qP.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===qP.ARC&&i2({type:qP.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!T(h))if(","===h&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==h&&"-"!==h&&"."!==h)if(f)this.curNumber=h,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+u+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+h+'" at index '+u+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==h&&"Z"!==h)if("h"===h||"H"===h)this.curCommandType=qP.HORIZ_LINE_TO,this.curCommandRelative="h"===h;else if("v"===h||"V"===h)this.curCommandType=qP.VERT_LINE_TO,this.curCommandRelative="v"===h;else if("m"===h||"M"===h)this.curCommandType=qP.MOVE_TO,this.curCommandRelative="m"===h;else if("l"===h||"L"===h)this.curCommandType=qP.LINE_TO,this.curCommandRelative="l"===h;else if("c"===h||"C"===h)this.curCommandType=qP.CURVE_TO,this.curCommandRelative="c"===h;else if("s"===h||"S"===h)this.curCommandType=qP.SMOOTH_CURVE_TO,this.curCommandRelative="s"===h;else if("q"===h||"Q"===h)this.curCommandType=qP.QUAD_TO,this.curCommandRelative="q"===h;else if("t"===h||"T"===h)this.curCommandType=qP.SMOOTH_QUAD_TO,this.curCommandRelative="t"===h;else{if("a"!==h&&"A"!==h)throw new SyntaxError('Unexpected character "'+h+'" at index '+u+".");this.curCommandType=qP.ARC,this.curCommandRelative="a"===h}else n.push({type:qP.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=h,this.curNumberHasDecimal="."===h}else this.curNumber+=h,this.curNumberHasDecimal=!0;else this.curNumber+=h;else this.curNumber+=h,this.curNumberHasExp=!0;else this.curNumber+=h,this.curNumberHasExpDigits=this.curNumberHasExp}return n},e2.prototype.transform=function(e){return Object.create(this,{parse:{value:function(n,l){void 0===l&&(l=[]);for(var u=0,h=Object.getPrototypeOf(this).parse.call(this,n);u<h.length;u++){var d=h[u],f=e(d);Array.isArray(f)?l.push.apply(l,f):l.push(f)}return l}}})},e2}(IP),qP=function(e){function i2(n){var l=e.call(this)||this;return l.commands="string"==typeof n?i2.parse(n):n,l}return r(i2,e),i2.prototype.encode=function(){return i2.encode(this.commands)},i2.prototype.getBounds=function(){var e=_P.CALCULATE_BOUNDS();return this.transform(e),e},i2.prototype.transform=function(e){for(var n=[],l=0,u=this.commands;l<u.length;l++){var h=e(u[l]);Array.isArray(h)?n.push.apply(n,h):n.push(h)}return this.commands=n,this},i2.encode=function(e){return function(e){var n="";Array.isArray(e)||(e=[e]);for(var l=0;l<e.length;l++){var u=e[l];if(u.type===qP.CLOSE_PATH)n+="z";else if(u.type===qP.HORIZ_LINE_TO)n+=(u.relative?"h":"H")+u.x;else if(u.type===qP.VERT_LINE_TO)n+=(u.relative?"v":"V")+u.y;else if(u.type===qP.MOVE_TO)n+=(u.relative?"m":"M")+u.x+" "+u.y;else if(u.type===qP.LINE_TO)n+=(u.relative?"l":"L")+u.x+" "+u.y;else if(u.type===qP.CURVE_TO)n+=(u.relative?"c":"C")+u.x1+" "+u.y1+" "+u.x2+" "+u.y2+" "+u.x+" "+u.y;else if(u.type===qP.SMOOTH_CURVE_TO)n+=(u.relative?"s":"S")+u.x2+" "+u.y2+" "+u.x+" "+u.y;else if(u.type===qP.QUAD_TO)n+=(u.relative?"q":"Q")+u.x1+" "+u.y1+" "+u.x+" "+u.y;else if(u.type===qP.SMOOTH_QUAD_TO)n+=(u.relative?"t":"T")+u.x+" "+u.y;else{if(u.type!==qP.ARC)throw new Error('Unexpected command type "'+u.type+'" at index '+l+".");n+=(u.relative?"a":"A")+u.rX+" "+u.rY+" "+u.xRot+" "+ +u.lArcFlag+" "+ +u.sweepFlag+" "+u.x+" "+u.y}}return n}(e)},i2.parse=function(e){var n=new MP,l=[];return n.parse(e,l),n.finish(l),l},i2.CLOSE_PATH=1,i2.MOVE_TO=2,i2.HORIZ_LINE_TO=4,i2.VERT_LINE_TO=8,i2.LINE_TO=16,i2.CURVE_TO=32,i2.SMOOTH_CURVE_TO=64,i2.QUAD_TO=128,i2.SMOOTH_QUAD_TO=256,i2.ARC=512,i2.LINE_COMMANDS=i2.LINE_TO|i2.HORIZ_LINE_TO|i2.VERT_LINE_TO,i2.DRAWING_COMMANDS=i2.HORIZ_LINE_TO|i2.VERT_LINE_TO|i2.LINE_TO|i2.CURVE_TO|i2.SMOOTH_CURVE_TO|i2.QUAD_TO|i2.SMOOTH_QUAD_TO|i2.ARC,i2}(IP),NP=((AP={})[qP.MOVE_TO]=2,AP[qP.LINE_TO]=2,AP[qP.HORIZ_LINE_TO]=1,AP[qP.VERT_LINE_TO]=1,AP[qP.CLOSE_PATH]=0,AP[qP.QUAD_TO]=4,AP[qP.SMOOTH_QUAD_TO]=2,AP[qP.CURVE_TO]=6,AP[qP.SMOOTH_CURVE_TO]=4,AP[qP.ARC]=7,AP),RP={};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){if(wP)return RP;wP=1;var e=requireFunctionName().PROPER,n=requireDefineBuiltIn(),l=requireAnObject(),u=requireToString(),h=requireFails(),d=requireRegexpGetFlags(),f="toString",P=RegExp.prototype,V=P[f],B=h(function(){return"/a/b"!==V.call({source:"a",flags:"b"})}),b=e&&V.name!==f;(B||b)&&n(P,f,function(){var e=l(this);return"/"+u(e.source)+"/"+u(d(e))},{unsafe:!0})}();var kP=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],DP=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function processCanvasRGBA(e,n,l,u,h,d){if(!(isNaN(d)||d<1)){d|=0;var f=function(e,n,l,u,h){if("string"==typeof e&&(e=document.getElementById(e)),!e||"object"!==_typeof(e)||!("getContext"in e))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var d=e.getContext("2d");try{return d.getImageData(n,l,u,h)}catch(gV){throw new Error("unable to access image data: "+gV)}}(e,n,l,u,h);f=function(e,n,l,u,h,d){for(var f,P=e.data,V=2*d+1,B=u-1,b=h-1,C=d+1,S=C*(C+1)/2,x=new LP,E=x,_=1;_<V;_++)E=E.next=new LP,_===C&&(f=E);E.next=x;for(var O=null,A=null,q=0,N=0,D=kP[d],L=DP[d],U=0;U<h;U++){E=x;for(var j=P[N],$=P[N+1],z=P[N+2],W=P[N+3],Y=0;Y<C;Y++)E.r=j,E.g=$,E.b=z,E.a=W,E=E.next;for(var X=0,Q=0,Z=0,ee=0,te=C*j,ne=C*$,re=C*z,ae=C*W,ie=S*j,oe=S*$,se=S*z,le=S*W,ue=1;ue<C;ue++){var ce=N+((B<ue?B:ue)<<2),he=P[ce],ye=P[ce+1],de=P[ce+2],fe=P[ce+3],ge=C-ue;ie+=(E.r=he)*ge,oe+=(E.g=ye)*ge,se+=(E.b=de)*ge,le+=(E.a=fe)*ge,X+=he,Q+=ye,Z+=de,ee+=fe,E=E.next}O=x,A=f;for(var pe=0;pe<u;pe++){var me=le*D>>>L;if(P[N+3]=me,0!==me){var Pe=255/me;P[N]=(ie*D>>>L)*Pe,P[N+1]=(oe*D>>>L)*Pe,P[N+2]=(se*D>>>L)*Pe}else P[N]=P[N+1]=P[N+2]=0;ie-=te,oe-=ne,se-=re,le-=ae,te-=O.r,ne-=O.g,re-=O.b,ae-=O.a;var ve=pe+d+1;ve=q+(ve<B?ve:B)<<2,ie+=X+=O.r=P[ve],oe+=Q+=O.g=P[ve+1],se+=Z+=O.b=P[ve+2],le+=ee+=O.a=P[ve+3],O=O.next;var Ve=A,Be=Ve.r,be=Ve.g,Te=Ve.b,Ce=Ve.a;te+=Be,ne+=be,re+=Te,ae+=Ce,X-=Be,Q-=be,Z-=Te,ee-=Ce,A=A.next,N+=4}q+=u}for(var Se=0;Se<u;Se++){var xe=P[N=Se<<2],Ee=P[N+1],_e=P[N+2],Oe=P[N+3],Ae=C*xe,we=C*Ee,Ie=C*_e,Me=C*Oe,qe=S*xe,Ne=S*Ee,Re=S*_e,ke=S*Oe;E=x;for(var De=0;De<C;De++)E.r=xe,E.g=Ee,E.b=_e,E.a=Oe,E=E.next;for(var Le=u,Fe=0,Ue=0,je=0,Ge=0,He=1;He<=d;He++){N=Le+Se<<2;var $e=C-He;qe+=(E.r=xe=P[N])*$e,Ne+=(E.g=Ee=P[N+1])*$e,Re+=(E.b=_e=P[N+2])*$e,ke+=(E.a=Oe=P[N+3])*$e,Ge+=xe,Fe+=Ee,Ue+=_e,je+=Oe,E=E.next,He<b&&(Le+=u)}N=Se,O=x,A=f;for(var ze=0;ze<h;ze++){var Je=N<<2;P[Je+3]=Oe=ke*D>>>L,Oe>0?(Oe=255/Oe,P[Je]=(qe*D>>>L)*Oe,P[Je+1]=(Ne*D>>>L)*Oe,P[Je+2]=(Re*D>>>L)*Oe):P[Je]=P[Je+1]=P[Je+2]=0,qe-=Ae,Ne-=we,Re-=Ie,ke-=Me,Ae-=O.r,we-=O.g,Ie-=O.b,Me-=O.a,Je=Se+((Je=ze+C)<b?Je:b)*u<<2,qe+=Ge+=O.r=P[Je],Ne+=Fe+=O.g=P[Je+1],Re+=Ue+=O.b=P[Je+2],ke+=je+=O.a=P[Je+3],O=O.next,Ae+=xe=A.r,we+=Ee=A.g,Ie+=_e=A.b,Me+=Oe=A.a,Ge-=xe,Fe-=Ee,Ue-=_e,je-=Oe,A=A.next,N+=u}}return e}(f,0,0,u,h,d),e.getContext("2d").putImageData(f,n,l)}}var LP=function BlurStack2(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,BlurStack2),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};var FP=Object.freeze({__proto__:null,offscreen:function(){var{DOMParser:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,createCanvas:(e,n)=>new OffscreenCanvas(e,n),createImage:e=>_asyncToGenerator(function*(){var n=yield fetch(e),l=yield n.blob();return yield createImageBitmap(l)})()};return"undefined"==typeof DOMParser&&void 0!==e||Reflect.deleteProperty(n,"DOMParser"),n},node:function(e){var{DOMParser:n,canvas:l,fetch:u}=e;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:n,fetch:u,createCanvas:l.createCanvas,createImage:l.loadImage}}});function compressSpaces(e){return e.replace(/(?!\u3000)\s+/gm," ")}function trimLeft(e){return e.replace(/^[\n \t]+/,"")}function trimRight(e){return e.replace(/[\n \t]+$/,"")}function toNumbers(e){return((e||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}var UP=/^[A-Z-]+$/;function normalizeAttributeName(e){return UP.test(e)?e.toLowerCase():e}function parseExternalUrl(e){var n=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(e)||[];return n[2]||n[3]||n[4]}function normalizeColor(e){if(!e.startsWith("rgb"))return e;var n=3;return e.replace(/\d+(\.\d+)?/g,(e,l)=>n--&&l?String(Math.round(parseFloat(e))):e)}var jP=/(\[[^\]]+\])/g,GP=/(#[^\s+>~.[:]+)/g,HP=/(\.[^\s+>~.[:]+)/g,$P=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,zP=/(:[\w-]+\([^)]*\))/gi,JP=/(:[^\s+>~.[:]+)/g,WP=/([^\s+>~.[:]+)/g;function findSelectorMatch(e,n){var l=n.exec(e);return l?[e.replace(n," "),l.length]:[e,0]}function getSelectorSpecificity(e){var n=[0,0,0],l=e.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),u=0;return[l,u]=findSelectorMatch(l,jP),n[1]+=u,[l,u]=findSelectorMatch(l,GP),n[0]+=u,[l,u]=findSelectorMatch(l,HP),n[1]+=u,[l,u]=findSelectorMatch(l,$P),n[2]+=u,[l,u]=findSelectorMatch(l,zP),n[1]+=u,[l,u]=findSelectorMatch(l,JP),n[1]+=u,l=l.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[l,u]=findSelectorMatch(l,WP),n[2]+=u,n.join("")}var YP=1e-8;function vectorMagnitude(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function vectorsRatio(e,n){return(e[0]*n[0]+e[1]*n[1])/(vectorMagnitude(e)*vectorMagnitude(n))}function vectorsAngle(e,n){return(e[0]*n[1]<e[1]*n[0]?-1:1)*Math.acos(vectorsRatio(e,n))}function CB1(e){return e*e*e}function CB2(e){return 3*e*e*(1-e)}function CB3(e){return 3*e*(1-e)*(1-e)}function CB4(e){return(1-e)*(1-e)*(1-e)}function QB1(e){return e*e}function QB2(e){return 2*e*(1-e)}function QB3(e){return(1-e)*(1-e)}class KP{constructor(e,n,l){this.document=e,this.name=n,this.value=l,this.isNormalizedColor=!1}static empty(e){return new KP(e,"EMPTY","")}split(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",{document:n,name:l}=this;return compressSpaces(this.getString()).trim().split(e).map(e=>new KP(n,l,e))}hasValue(e){var{value:n}=this;return null!==n&&""!==n&&(e||0!==n)&&void 0!==n}isString(e){var{value:n}=this,l="string"==typeof n;return l&&e?e.test(n):l}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case e.endsWith("px"):case/^[0-9]+$/.test(e):return!0;default:return!1}}setValue(e){return this.value=e,this}getValue(e){return void 0===e||this.hasValue()?this.value:e}getNumber(e){if(!this.hasValue())return void 0===e?0:parseFloat(e);var{value:n}=this,l=parseFloat(n);return this.isString(/%$/)&&(l/=100),l}getString(e){return void 0===e||this.hasValue()?void 0===this.value?"":String(this.value):String(e)}getColor(e){var n=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,n=normalizeColor(n),this.value=n),n}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var[l,u]="boolean"==typeof e?[void 0,e]:[e],{viewPort:h}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(h.computeSize("x"),h.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(h.computeSize("x"),h.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*h.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*h.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&u:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*h.computeSize(l);default:var d=this.getNumber();return n&&d<1?d*h.computeSize(l):d}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var e=this.getString(),n=/#([^)'"]+)/.exec(e);return n&&(n=n[1]),n||(n=e),this.document.definitions[n]}getFillStyleDefinition(e,n){var l=this.getDefinition();if(!l)return null;if("function"==typeof l.createGradient)return l.createGradient(this.document.ctx,e,n);if("function"==typeof l.createPattern){if(l.getHrefAttribute().hasValue()){var u=l.getAttribute("patternTransform");l=l.getHrefAttribute().getDefinition(),u.hasValue()&&l.getAttribute("patternTransform",!0).setValue(u.value)}return l.createPattern(this.document.ctx,e,n)}return null}getTextBaseline(){return this.hasValue()?KP.textBaselineMapping[this.getString()]:null}addOpacity(e){for(var n=this.getColor(),l=n.length,u=0,h=0;h<l&&(","===n[h]&&u++,3!==u);h++);if(e.hasValue()&&this.isString()&&3!==u){var d=new PP(n);d.ok&&(d.alpha=e.getNumber(),n=d.toRGBA())}return new KP(this.document,this.name,n)}}KP.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class XP{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(e,n){this.viewPorts.push({width:e,height:n})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:e}=this;return e[e.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(e){return"number"==typeof e?e:"x"===e?this.width:"y"===e?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class QP{constructor(e,n){this.x=e,this.y=n}static parse(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[l=n,u=n]=toNumbers(e);return new QP(l,u)}static parseScale(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,[l=n,u=l]=toNumbers(e);return new QP(l,u)}static parsePath(e){for(var n=toNumbers(e),l=n.length,u=[],h=0;h<l;h+=2)u.push(new QP(n[h],n[h+1]));return u}angleTo(e){return Math.atan2(e.y-this.y,e.x-this.x)}applyTransform(e){var{x:n,y:l}=this,u=n*e[0]+l*e[2]+e[4],h=n*e[1]+l*e[3]+e[5];this.x=u,this.y=h}}class ZP{constructor(e){this.screen=e,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:e,onClick:n,onMouseMove:l}=this,u=e.ctx.canvas;u.onclick=n,u.onmousemove=l,this.working=!0}}stop(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:e,events:n,eventElements:l}=this,{style:u}=e.ctx.canvas;u&&(u.cursor=""),n.forEach((e,n)=>{for(var{run:u}=e,h=l[n];h;)u(h),h=h.parent}),this.events=[],this.eventElements=[]}}checkPath(e,n){if(this.working&&n){var{events:l,eventElements:u}=this;l.forEach((l,h)=>{var{x:d,y:f}=l;!u[h]&&n.isPointInPath&&n.isPointInPath(d,f)&&(u[h]=e)})}}checkBoundingBox(e,n){if(this.working&&n){var{events:l,eventElements:u}=this;l.forEach((l,h)=>{var{x:d,y:f}=l;!u[h]&&n.isPointInBox(d,f)&&(u[h]=e)})}}mapXY(e,n){for(var{window:l,ctx:u}=this.screen,h=new QP(e,n),d=u.canvas;d;)h.x-=d.offsetLeft,h.y-=d.offsetTop,d=d.offsetParent;return l.scrollX&&(h.x+=l.scrollX),l.scrollY&&(h.y+=l.scrollY),h}onClick(e){var{x:n,y:l}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onclick",x:n,y:l,run(e){e.onClick&&e.onClick()}})}onMouseMove(e){var{x:n,y:l}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onmousemove",x:n,y:l,run(e){e.onMouseMove&&e.onMouseMove()}})}}var ev="undefined"!=typeof window?window:null,tv="undefined"!=typeof fetch?fetch.bind(void 0):null;class nv{constructor(e){var{fetch:n=tv,window:l=ev}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ctx=e,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new XP,this.mouse=new ZP(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=l,this.fetch=n}wait(e){this.waits.push(e)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var e=this.waits.every(e=>e());return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}setDefaults(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}setViewBox(e){var{document:n,ctx:l,aspectRatio:u,width:h,desiredWidth:d,height:f,desiredHeight:P,minX:V=0,minY:B=0,refX:b,refY:C,clip:S=!1,clipX:x=0,clipY:E=0}=e,_=compressSpaces(u).replace(/^defer\s/,""),[O,A]=_.split(" "),q=O||"xMidYMid",N=A||"meet",D=h/d,L=f/P,U=Math.min(D,L),j=Math.max(D,L),$=d,z=P;"meet"===N&&($*=U,z*=U),"slice"===N&&($*=j,z*=j);var W=new KP(n,"refX",b),Y=new KP(n,"refY",C),X=W.hasValue()&&Y.hasValue();if(X&&l.translate(-U*W.getPixels("x"),-U*Y.getPixels("y")),S){var Q=U*x,Z=U*E;l.beginPath(),l.moveTo(Q,Z),l.lineTo(h,Z),l.lineTo(h,f),l.lineTo(Q,f),l.closePath(),l.clip()}if(!X){var ee="meet"===N&&U===L,te="slice"===N&&j===L,ne="meet"===N&&U===D,re="slice"===N&&j===D;q.startsWith("xMid")&&(ee||te)&&l.translate(h/2-$/2,0),q.endsWith("YMid")&&(ne||re)&&l.translate(0,f/2-z/2),q.startsWith("xMax")&&(ee||te)&&l.translate(h-$,0),q.endsWith("YMax")&&(ne||re)&&l.translate(0,f-z)}switch(!0){case"none"===q:l.scale(D,L);break;case"meet"===N:l.scale(U,U);break;case"slice"===N:l.scale(j,j)}l.translate(-V,-B)}start(e){var{enableRedraw:n=!1,ignoreMouse:l=!1,ignoreAnimation:u=!1,ignoreDimensions:h=!1,ignoreClear:d=!1,forceRedraw:f,scaleWidth:P,scaleHeight:V,offsetX:B,offsetY:b}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{FRAMERATE:C,mouse:S}=this,x=1e3/C;if(this.frameDuration=x,this.readyPromise=new Promise(e=>{this.resolveReady=e}),this.isReady()&&this.render(e,h,d,P,V,B,b),n){var E=Date.now(),_=E,O=0,tick=()=>{E=Date.now(),(O=E-_)>=x&&(_=E-O%x,this.shouldUpdate(u,f)&&(this.render(e,h,d,P,V,B,b),S.runEvents())),this.intervalId=sP(tick)};l||S.start(),this.intervalId=sP(tick)}}stop(){this.intervalId&&(sP.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(e,n){if(!e){var{frameDuration:l}=this;if(this.animations.reduce((e,n)=>n.update(l)||e,!1))return!0}return!("function"!=typeof n||!n())||(!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents())}render(e,n,l,u,h,d,f){var{CLIENT_WIDTH:P,CLIENT_HEIGHT:V,viewPort:B,ctx:b,isFirstRender:C}=this,S=b.canvas;B.clear(),S.width&&S.height?B.setCurrent(S.width,S.height):B.setCurrent(P,V);var x=e.getStyle("width"),E=e.getStyle("height");!n&&(C||"number"!=typeof u&&"number"!=typeof h)&&(x.hasValue()&&(S.width=x.getPixels("x"),S.style&&(S.style.width="".concat(S.width,"px"))),E.hasValue()&&(S.height=E.getPixels("y"),S.style&&(S.style.height="".concat(S.height,"px"))));var _=S.clientWidth||S.width,O=S.clientHeight||S.height;if(n&&x.hasValue()&&E.hasValue()&&(_=x.getPixels("x"),O=E.getPixels("y")),B.setCurrent(_,O),"number"==typeof d&&e.getAttribute("x",!0).setValue(d),"number"==typeof f&&e.getAttribute("y",!0).setValue(f),"number"==typeof u||"number"==typeof h){var A=toNumbers(e.getAttribute("viewBox").getString()),q=0,N=0;if("number"==typeof u){var D=e.getStyle("width");D.hasValue()?q=D.getPixels("x")/u:isNaN(A[2])||(q=A[2]/u)}if("number"==typeof h){var L=e.getStyle("height");L.hasValue()?N=L.getPixels("y")/h:isNaN(A[3])||(N=A[3]/h)}q||(q=N),N||(N=q),e.getAttribute("width",!0).setValue(u),e.getAttribute("height",!0).setValue(h);var U=e.getStyle("transform",!0,!0);U.setValue("".concat(U.getString()," scale(").concat(1/q,", ").concat(1/N,")"))}l||b.clearRect(0,0,_,O),e.render(b),C&&(this.isFirstRender=!1)}}nv.defaultWindow=ev,nv.defaultFetch=tv;var{defaultFetch:rv}=nv,av="undefined"!=typeof DOMParser?DOMParser:null;class iv{constructor(){var{fetch:e=rv,DOMParser:n=av}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fetch=e,this.DOMParser=n}parse(e){var n=this;return _asyncToGenerator(function*(){return e.startsWith("<")?n.parseFromString(e):n.load(e)})()}parseFromString(e){var n=new this.DOMParser;try{return this.checkDocument(n.parseFromString(e,"image/svg+xml"))}catch(l){return this.checkDocument(n.parseFromString(e,"text/xml"))}}checkDocument(e){var n=e.getElementsByTagName("parsererror")[0];if(n)throw new Error(n.textContent);return e}load(e){var n=this;return _asyncToGenerator(function*(){var l=yield n.fetch(e),u=yield l.text();return n.parseFromString(u)})()}}class ov{constructor(e,n){this.type="translate",this.point=null,this.point=QP.parse(n)}apply(e){var{x:n,y:l}=this.point;e.translate(n||0,l||0)}unapply(e){var{x:n,y:l}=this.point;e.translate(-1*n||0,-1*l||0)}applyToPoint(e){var{x:n,y:l}=this.point;e.applyTransform([1,0,0,1,n||0,l||0])}}class sv{constructor(e,n,l){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var u=toNumbers(n);this.angle=new KP(e,"angle",u[0]),this.originX=l[0],this.originY=l[1],this.cx=u[1]||0,this.cy=u[2]||0}apply(e){var{cx:n,cy:l,originX:u,originY:h,angle:d}=this,f=n+u.getPixels("x"),P=l+h.getPixels("y");e.translate(f,P),e.rotate(d.getRadians()),e.translate(-f,-P)}unapply(e){var{cx:n,cy:l,originX:u,originY:h,angle:d}=this,f=n+u.getPixels("x"),P=l+h.getPixels("y");e.translate(f,P),e.rotate(-1*d.getRadians()),e.translate(-f,-P)}applyToPoint(e){var{cx:n,cy:l,angle:u}=this,h=u.getRadians();e.applyTransform([1,0,0,1,n||0,l||0]),e.applyTransform([Math.cos(h),Math.sin(h),-Math.sin(h),Math.cos(h),0,0]),e.applyTransform([1,0,0,1,-n||0,-l||0])}}class lv{constructor(e,n,l){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var u=QP.parseScale(n);0!==u.x&&0!==u.y||(u.x=YP,u.y=YP),this.scale=u,this.originX=l[0],this.originY=l[1]}apply(e){var{scale:{x:n,y:l},originX:u,originY:h}=this,d=u.getPixels("x"),f=h.getPixels("y");e.translate(d,f),e.scale(n,l||n),e.translate(-d,-f)}unapply(e){var{scale:{x:n,y:l},originX:u,originY:h}=this,d=u.getPixels("x"),f=h.getPixels("y");e.translate(d,f),e.scale(1/n,1/l||n),e.translate(-d,-f)}applyToPoint(e){var{x:n,y:l}=this.scale;e.applyTransform([n||0,0,0,l||0,0,0])}}class uv{constructor(e,n,l){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=toNumbers(n),this.originX=l[0],this.originY=l[1]}apply(e){var{originX:n,originY:l,matrix:u}=this,h=n.getPixels("x"),d=l.getPixels("y");e.translate(h,d),e.transform(u[0],u[1],u[2],u[3],u[4],u[5]),e.translate(-h,-d)}unapply(e){var{originX:n,originY:l,matrix:u}=this,h=u[0],d=u[2],f=u[4],P=u[1],V=u[3],B=u[5],b=1/(h*(1*V-0*B)-d*(1*P-0*B)+f*(0*P-0*V)),C=n.getPixels("x"),S=l.getPixels("y");e.translate(C,S),e.transform(b*(1*V-0*B),b*(0*B-1*P),b*(0*f-1*d),b*(1*h-0*f),b*(d*B-f*V),b*(f*P-h*B)),e.translate(-C,-S)}applyToPoint(e){e.applyTransform(this.matrix)}}class cv extends uv{constructor(e,n,l){super(e,n,l),this.type="skew",this.angle=null,this.angle=new KP(e,"angle",n)}}class hv extends cv{constructor(e,n,l){super(e,n,l),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class yv extends cv{constructor(e,n,l){super(e,n,l),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}class dv{constructor(e,n,l){this.document=e,this.transforms=[];var u=function(e){return compressSpaces(e).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}(n);u.forEach(e=>{if("none"!==e){var[n,u]=function(e){var[n,l]=e.split("(");return[n.trim(),l.trim().replace(")","")]}(e),h=dv.transformTypes[n];void 0!==h&&this.transforms.push(new h(this.document,u,l))}})}static fromElement(e,n){var l=n.getStyle("transform",!1,!0),[u,h=u]=n.getStyle("transform-origin",!1,!0).split(),d=[u,h];return l.hasValue()?new dv(e,l.getString(),d):null}apply(e){for(var{transforms:n}=this,l=n.length,u=0;u<l;u++)n[u].apply(e)}unapply(e){for(var{transforms:n}=this,l=n.length-1;l>=0;l--)n[l].unapply(e)}applyToPoint(e){for(var{transforms:n}=this,l=n.length,u=0;u<l;u++)n[u].applyToPoint(e)}}dv.transformTypes={translate:ov,rotate:sv,scale:lv,matrix:uv,skewX:hv,skewY:yv};class fv{constructor(e,n){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.document=e,this.node=n,this.captureTextNodes=l,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],n&&1===n.nodeType){if(Array.from(n.attributes).forEach(n=>{var l=normalizeAttributeName(n.nodeName);this.attributes[l]=new KP(e,l,n.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue())this.getAttribute("style").getString().split(";").map(e=>e.trim()).forEach(n=>{if(n){var[l,u]=n.split(":").map(e=>e.trim());this.styles[l]=new KP(e,l,u)}});var{definitions:u}=e,h=this.getAttribute("id");h.hasValue()&&(u[h.getString()]||(u[h.getString()]=this)),Array.from(n.childNodes).forEach(n=>{if(1===n.nodeType)this.addChild(n);else if(l&&(3===n.nodeType||4===n.nodeType)){var u=e.createTextNode(n);u.getText().length>0&&this.addChild(u)}})}}getAttribute(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.attributes[e];if(!l&&n){var u=new KP(this.document,e,"");return this.attributes[e]=u,u}return l||KP.empty(this.document)}getHrefAttribute(){for(var e in this.attributes)if("href"===e||e.endsWith(":href"))return this.attributes[e];return KP.empty(this.document)}getStyle(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=this.styles[e];if(u)return u;var h=this.getAttribute(e);if(null!=h&&h.hasValue())return this.styles[e]=h,h;if(!l){var{parent:d}=this;if(d){var f=d.getStyle(e);if(null!=f&&f.hasValue())return f}}if(n){var P=new KP(this.document,e,"");return this.styles[e]=P,P}return u||KP.empty(this.document)}render(e){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(e.save(),this.getStyle("mask").hasValue()){var n=this.getStyle("mask").getDefinition();n&&(this.applyEffects(e),n.apply(e,this))}else if("none"!==this.getStyle("filter").getValue("none")){var l=this.getStyle("filter").getDefinition();l&&(this.applyEffects(e),l.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}setContext(e){}applyEffects(e){var n=dv.fromElement(this.document,this);n&&n.apply(e);var l=this.getStyle("clip-path",!1,!0);if(l.hasValue()){var u=l.getDefinition();u&&u.apply(e)}}clearContext(e){}renderChildren(e){this.children.forEach(n=>{n.render(e)})}addChild(e){var n=e instanceof fv?e:this.document.createElement(e);n.parent=this,fv.ignoreChildTypes.includes(n.type)||this.children.push(n)}matchesSelector(e){var n,{node:l}=this;if("function"==typeof l.matches)return l.matches(e);var u=null===(n=l.getAttribute)||void 0===n?void 0:n.call(l,"class");return!(!u||""===u)&&u.split(" ").some(n=>".".concat(n)===e)}addStylesFromStyleDefinition(){var{styles:e,stylesSpecificity:n}=this.document;for(var l in e)if(!l.startsWith("@")&&this.matchesSelector(l)){var u=e[l],h=n[l];if(u)for(var d in u){var f=this.stylesSpecificity[d];void 0===f&&(f="000"),h>=f&&(this.styles[d]=u[d],this.stylesSpecificity[d]=h)}}}removeStyles(e,n){return n.reduce((n,l)=>{var u=e.getStyle(l);if(!u.hasValue())return n;var h=u.getString();return u.setValue(""),[...n,[l,h]]},[])}restoreStyles(e,n){n.forEach(n=>{var[l,u]=n;e.getStyle(l,!0).setValue(u)})}isFirstChild(){var e;return 0===(null===(e=this.parent)||void 0===e?void 0:e.children.indexOf(this))}}fv.ignoreChildTypes=["title"];class gv extends fv{constructor(e,n,l){super(e,n,l)}}function wrapFontFamily(e){var n=e.trim();return/^('|")/.test(n)?n:'"'.concat(n,'"')}function prepareFontStyle(e){if(!e)return"";var n=e.trim().toLowerCase();switch(n){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return n;default:return/^oblique\s+(-|)\d+deg$/.test(n)?n:""}}function prepareFontWeight(e){if(!e)return"";var n=e.trim().toLowerCase();switch(n){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return n;default:return/^[\d.]+$/.test(n)?n:""}}class pv{constructor(e,n,l,u,h,d){var f=d?"string"==typeof d?pv.parse(d):d:{};this.fontFamily=h||f.fontFamily,this.fontSize=u||f.fontSize,this.fontStyle=e||f.fontStyle,this.fontWeight=l||f.fontWeight,this.fontVariant=n||f.fontVariant}static parse(){var e=arguments.length>1?arguments[1]:void 0,n="",l="",u="",h="",d="",f=compressSpaces(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().split(" "),P={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return f.forEach(e=>{switch(!0){case!P.fontStyle&&pv.styles.includes(e):"inherit"!==e&&(n=e),P.fontStyle=!0;break;case!P.fontVariant&&pv.variants.includes(e):"inherit"!==e&&(l=e),P.fontStyle=!0,P.fontVariant=!0;break;case!P.fontWeight&&pv.weights.includes(e):"inherit"!==e&&(u=e),P.fontStyle=!0,P.fontVariant=!0,P.fontWeight=!0;break;case!P.fontSize:"inherit"!==e&&([h]=e.split("/")),P.fontStyle=!0,P.fontVariant=!0,P.fontWeight=!0,P.fontSize=!0;break;default:"inherit"!==e&&(d+=e)}}),new pv(n,l,u,h,d,e)}toString(){return[prepareFontStyle(this.fontStyle),this.fontVariant,prepareFontWeight(this.fontWeight),this.fontSize,(e=this.fontFamily,"undefined"==typeof process?e:e.trim().split(",").map(wrapFontFamily).join(","))].join(" ").trim();var e}}pv.styles="normal|italic|oblique|inherit",pv.variants="normal|small-caps|inherit",pv.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class mv{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=e,this.y1=n,this.x2=l,this.y2=u,this.addPoint(e,n),this.addPoint(l,u)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(e,n){void 0!==e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),void 0!==n&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=n,this.y2=n),n<this.y1&&(this.y1=n),n>this.y2&&(this.y2=n))}addX(e){this.addPoint(e,null)}addY(e){this.addPoint(null,e)}addBoundingBox(e){if(e){var{x1:n,y1:l,x2:u,y2:h}=e;this.addPoint(n,l),this.addPoint(u,h)}}sumCubic(e,n,l,u,h){return Math.pow(1-e,3)*n+3*Math.pow(1-e,2)*e*l+3*(1-e)*Math.pow(e,2)*u+Math.pow(e,3)*h}bezierCurveAdd(e,n,l,u,h){var d=6*n-12*l+6*u,f=-3*n+9*l-9*u+3*h,P=3*l-3*n;if(0!==f){var V=Math.pow(d,2)-4*P*f;if(!(V<0)){var B=(-d+Math.sqrt(V))/(2*f);0<B&&B<1&&(e?this.addX(this.sumCubic(B,n,l,u,h)):this.addY(this.sumCubic(B,n,l,u,h)));var b=(-d-Math.sqrt(V))/(2*f);0<b&&b<1&&(e?this.addX(this.sumCubic(b,n,l,u,h)):this.addY(this.sumCubic(b,n,l,u,h)))}}else{if(0===d)return;var C=-P/d;0<C&&C<1&&(e?this.addX(this.sumCubic(C,n,l,u,h)):this.addY(this.sumCubic(C,n,l,u,h)))}}addBezierCurve(e,n,l,u,h,d,f,P){this.addPoint(e,n),this.addPoint(f,P),this.bezierCurveAdd(!0,e,l,h,f),this.bezierCurveAdd(!1,n,u,d,P)}addQuadraticCurve(e,n,l,u,h,d){var f=e+2/3*(l-e),P=n+2/3*(u-n),V=f+1/3*(h-e),B=P+1/3*(d-n);this.addBezierCurve(e,n,f,V,P,B,h,d)}isPointInBox(e,n){var{x1:l,y1:u,x2:h,y2:d}=this;return l<=e&&e<=h&&u<=n&&n<=d}}class Pv extends qP{constructor(e){super(e.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new QP(0,0),this.control=new QP(0,0),this.current=new QP(0,0),this.points=[],this.angles=[]}isEnd(){var{i:e,commands:n}=this;return e>=n.length-1}next(){var e=this.commands[++this.i];return this.previousCommand=this.command,this.command=e,e}getPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",l=new QP(this.command[e],this.command[n]);return this.makeAbsolute(l)}getAsControlPoint(e,n){var l=this.getPoint(e,n);return this.control=l,l}getAsCurrentPoint(e,n){var l=this.getPoint(e,n);return this.current=l,l}getReflectedControlPoint(){var e=this.previousCommand.type;if(e!==qP.CURVE_TO&&e!==qP.SMOOTH_CURVE_TO&&e!==qP.QUAD_TO&&e!==qP.SMOOTH_QUAD_TO)return this.current;var{current:{x:n,y:l},control:{x:u,y:h}}=this;return new QP(2*n-u,2*l-h)}makeAbsolute(e){if(this.command.relative){var{x:n,y:l}=this.current;e.x+=n,e.y+=l}return e}addMarker(e,n,l){var{points:u,angles:h}=this;l&&h.length>0&&!h[h.length-1]&&(h[h.length-1]=u[u.length-1].angleTo(l)),this.addMarkerAngle(e,n?n.angleTo(e):null)}addMarkerAngle(e,n){this.points.push(e),this.angles.push(n)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:e}=this,n=e.length,l=0;l<n;l++)if(!e[l])for(var u=l+1;u<n;u++)if(e[u]){e[l]=e[u];break}return e}}class vv extends fv{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var e=1,n=this;n;){var l=n.getStyle("opacity",!1,!0);l.hasValue(!0)&&(e*=l.getNumber()),n=n.parent}return e}setContext(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!n){var l=this.getStyle("fill"),u=this.getStyle("fill-opacity"),h=this.getStyle("stroke"),d=this.getStyle("stroke-opacity");if(l.isUrlDefinition()){var f=l.getFillStyleDefinition(this,u);f&&(e.fillStyle=f)}else if(l.hasValue()){"currentColor"===l.getString()&&l.setValue(this.getStyle("color").getColor());var P=l.getColor();"inherit"!==P&&(e.fillStyle="none"===P?"rgba(0,0,0,0)":P)}if(u.hasValue()){var V=new KP(this.document,"fill",e.fillStyle).addOpacity(u).getColor();e.fillStyle=V}if(h.isUrlDefinition()){var B=h.getFillStyleDefinition(this,d);B&&(e.strokeStyle=B)}else if(h.hasValue()){"currentColor"===h.getString()&&h.setValue(this.getStyle("color").getColor());var b=h.getString();"inherit"!==b&&(e.strokeStyle="none"===b?"rgba(0,0,0,0)":b)}if(d.hasValue()){var C=new KP(this.document,"stroke",e.strokeStyle).addOpacity(d).getString();e.strokeStyle=C}var S=this.getStyle("stroke-width");if(S.hasValue()){var x=S.getPixels();e.lineWidth=x||YP}var E=this.getStyle("stroke-linecap"),_=this.getStyle("stroke-linejoin"),O=this.getStyle("stroke-miterlimit"),A=this.getStyle("stroke-dasharray"),q=this.getStyle("stroke-dashoffset");if(E.hasValue()&&(e.lineCap=E.getString()),_.hasValue()&&(e.lineJoin=_.getString()),O.hasValue()&&(e.miterLimit=O.getNumber()),A.hasValue()&&"none"!==A.getString()){var N=toNumbers(A.getString());void 0!==e.setLineDash?e.setLineDash(N):void 0!==e.webkitLineDash?e.webkitLineDash=N:void 0===e.mozDash||1===N.length&&0===N[0]||(e.mozDash=N);var D=q.getPixels();void 0!==e.lineDashOffset?e.lineDashOffset=D:void 0!==e.webkitLineDashOffset?e.webkitLineDashOffset=D:void 0!==e.mozDashOffset&&(e.mozDashOffset=D)}}if(this.modifiedEmSizeStack=!1,void 0!==e.font){var L=this.getStyle("font"),U=this.getStyle("font-style"),j=this.getStyle("font-variant"),$=this.getStyle("font-weight"),z=this.getStyle("font-size"),W=this.getStyle("font-family"),Y=new pv(U.getString(),j.getString(),$.getString(),z.hasValue()?"".concat(z.getPixels(!0),"px"):"",W.getString(),pv.parse(L.getString(),e.font));U.setValue(Y.fontStyle),j.setValue(Y.fontVariant),$.setValue(Y.fontWeight),z.setValue(Y.fontSize),W.setValue(Y.fontFamily),e.font=Y.toString(),z.isPixels()&&(this.document.emSize=z.getPixels(),this.modifiedEmSizeStack=!0)}n||(this.applyEffects(e),e.globalAlpha=this.calculateOpacity())}clearContext(e){super.clearContext(e),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Vv extends vv{constructor(e,n,l){super(e,n,l),this.type="path",this.pathParser=null,this.pathParser=new Pv(this.getAttribute("d").getString())}path(e){var{pathParser:n}=this,l=new mv;for(n.reset(),e&&e.beginPath();!n.isEnd();)switch(n.next().type){case Pv.MOVE_TO:this.pathM(e,l);break;case Pv.LINE_TO:this.pathL(e,l);break;case Pv.HORIZ_LINE_TO:this.pathH(e,l);break;case Pv.VERT_LINE_TO:this.pathV(e,l);break;case Pv.CURVE_TO:this.pathC(e,l);break;case Pv.SMOOTH_CURVE_TO:this.pathS(e,l);break;case Pv.QUAD_TO:this.pathQ(e,l);break;case Pv.SMOOTH_QUAD_TO:this.pathT(e,l);break;case Pv.ARC:this.pathA(e,l);break;case Pv.CLOSE_PATH:this.pathZ(e,l)}return l}getBoundingBox(e){return this.path()}getMarkers(){var{pathParser:e}=this,n=e.getMarkerPoints(),l=e.getMarkerAngles();return n.map((e,n)=>[e,l[n]])}renderChildren(e){this.path(e),this.document.screen.mouse.checkPath(this,e);var n=this.getStyle("fill-rule");""!==e.fillStyle&&("inherit"!==n.getString("inherit")?e.fill(n.getString()):e.fill()),""!==e.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(e.save(),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):e.stroke());var l=this.getMarkers();if(l){var u=l.length-1,h=this.getStyle("marker-start"),d=this.getStyle("marker-mid"),f=this.getStyle("marker-end");if(h.isUrlDefinition()){var P=h.getDefinition(),[V,B]=l[0];P.render(e,V,B)}if(d.isUrlDefinition())for(var b=d.getDefinition(),C=1;C<u;C++){var[S,x]=l[C];b.render(e,S,x)}if(f.isUrlDefinition()){var E=f.getDefinition(),[_,O]=l[u];E.render(e,_,O)}}}static pathM(e){var n=e.getAsCurrentPoint();return e.start=e.current,{point:n}}pathM(e,n){var{pathParser:l}=this,{point:u}=Vv.pathM(l),{x:h,y:d}=u;l.addMarker(u),n.addPoint(h,d),e&&e.moveTo(h,d)}static pathL(e){var{current:n}=e;return{current:n,point:e.getAsCurrentPoint()}}pathL(e,n){var{pathParser:l}=this,{current:u,point:h}=Vv.pathL(l),{x:d,y:f}=h;l.addMarker(h,u),n.addPoint(d,f),e&&e.lineTo(d,f)}static pathH(e){var{current:n,command:l}=e,u=new QP((l.relative?n.x:0)+l.x,n.y);return e.current=u,{current:n,point:u}}pathH(e,n){var{pathParser:l}=this,{current:u,point:h}=Vv.pathH(l),{x:d,y:f}=h;l.addMarker(h,u),n.addPoint(d,f),e&&e.lineTo(d,f)}static pathV(e){var{current:n,command:l}=e,u=new QP(n.x,(l.relative?n.y:0)+l.y);return e.current=u,{current:n,point:u}}pathV(e,n){var{pathParser:l}=this,{current:u,point:h}=Vv.pathV(l),{x:d,y:f}=h;l.addMarker(h,u),n.addPoint(d,f),e&&e.lineTo(d,f)}static pathC(e){var{current:n}=e;return{current:n,point:e.getPoint("x1","y1"),controlPoint:e.getAsControlPoint("x2","y2"),currentPoint:e.getAsCurrentPoint()}}pathC(e,n){var{pathParser:l}=this,{current:u,point:h,controlPoint:d,currentPoint:f}=Vv.pathC(l);l.addMarker(f,d,h),n.addBezierCurve(u.x,u.y,h.x,h.y,d.x,d.y,f.x,f.y),e&&e.bezierCurveTo(h.x,h.y,d.x,d.y,f.x,f.y)}static pathS(e){var{current:n}=e;return{current:n,point:e.getReflectedControlPoint(),controlPoint:e.getAsControlPoint("x2","y2"),currentPoint:e.getAsCurrentPoint()}}pathS(e,n){var{pathParser:l}=this,{current:u,point:h,controlPoint:d,currentPoint:f}=Vv.pathS(l);l.addMarker(f,d,h),n.addBezierCurve(u.x,u.y,h.x,h.y,d.x,d.y,f.x,f.y),e&&e.bezierCurveTo(h.x,h.y,d.x,d.y,f.x,f.y)}static pathQ(e){var{current:n}=e;return{current:n,controlPoint:e.getAsControlPoint("x1","y1"),currentPoint:e.getAsCurrentPoint()}}pathQ(e,n){var{pathParser:l}=this,{current:u,controlPoint:h,currentPoint:d}=Vv.pathQ(l);l.addMarker(d,h,h),n.addQuadraticCurve(u.x,u.y,h.x,h.y,d.x,d.y),e&&e.quadraticCurveTo(h.x,h.y,d.x,d.y)}static pathT(e){var{current:n}=e,l=e.getReflectedControlPoint();return e.control=l,{current:n,controlPoint:l,currentPoint:e.getAsCurrentPoint()}}pathT(e,n){var{pathParser:l}=this,{current:u,controlPoint:h,currentPoint:d}=Vv.pathT(l);l.addMarker(d,h,h),n.addQuadraticCurve(u.x,u.y,h.x,h.y,d.x,d.y),e&&e.quadraticCurveTo(h.x,h.y,d.x,d.y)}static pathA(e){var{current:n,command:l}=e,{rX:u,rY:h,xRot:d,lArcFlag:f,sweepFlag:P}=l,V=d*(Math.PI/180),B=e.getAsCurrentPoint(),b=new QP(Math.cos(V)*(n.x-B.x)/2+Math.sin(V)*(n.y-B.y)/2,-Math.sin(V)*(n.x-B.x)/2+Math.cos(V)*(n.y-B.y)/2),C=Math.pow(b.x,2)/Math.pow(u,2)+Math.pow(b.y,2)/Math.pow(h,2);C>1&&(u*=Math.sqrt(C),h*=Math.sqrt(C));var S=(f===P?-1:1)*Math.sqrt((Math.pow(u,2)*Math.pow(h,2)-Math.pow(u,2)*Math.pow(b.y,2)-Math.pow(h,2)*Math.pow(b.x,2))/(Math.pow(u,2)*Math.pow(b.y,2)+Math.pow(h,2)*Math.pow(b.x,2)));isNaN(S)&&(S=0);var x=new QP(S*u*b.y/h,S*-h*b.x/u),E=new QP((n.x+B.x)/2+Math.cos(V)*x.x-Math.sin(V)*x.y,(n.y+B.y)/2+Math.sin(V)*x.x+Math.cos(V)*x.y),_=vectorsAngle([1,0],[(b.x-x.x)/u,(b.y-x.y)/h]),O=[(b.x-x.x)/u,(b.y-x.y)/h],A=[(-b.x-x.x)/u,(-b.y-x.y)/h],q=vectorsAngle(O,A);return vectorsRatio(O,A)<=-1&&(q=Math.PI),vectorsRatio(O,A)>=1&&(q=0),{currentPoint:B,rX:u,rY:h,sweepFlag:P,xAxisRotation:V,centp:E,a1:_,ad:q}}pathA(e,n){var{pathParser:l}=this,{currentPoint:u,rX:h,rY:d,sweepFlag:f,xAxisRotation:P,centp:V,a1:B,ad:b}=Vv.pathA(l),C=1-f?1:-1,S=B+C*(b/2),x=new QP(V.x+h*Math.cos(S),V.y+d*Math.sin(S));if(l.addMarkerAngle(x,S-C*Math.PI/2),l.addMarkerAngle(u,S-C*Math.PI),n.addPoint(u.x,u.y),e&&!isNaN(B)&&!isNaN(b)){var E=h>d?h:d,_=h>d?1:h/d,O=h>d?d/h:1;e.translate(V.x,V.y),e.rotate(P),e.scale(_,O),e.arc(0,0,E,B,B+b,Boolean(1-f)),e.scale(1/_,1/O),e.rotate(-P),e.translate(-V.x,-V.y)}}static pathZ(e){e.current=e.start}pathZ(e,n){Vv.pathZ(this.pathParser),e&&n.x1!==n.x2&&n.y1!==n.y2&&e.closePath()}}class Bv extends Vv{constructor(e,n,l){super(e,n,l),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class bv extends vv{constructor(e,n,l){super(e,n,new.target===bv||l),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.setContext(e,n);var l=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();l&&(e.textBaseline=l)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(e){if("text"!==this.type)return this.getTElementBoundingBox(e);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e);var n=null;return this.children.forEach((l,u)=>{var h=this.getChildBoundingBox(e,this,this,u);n?n.addBoundingBox(h):n=h}),n}getFontSize(){var{document:e,parent:n}=this,l=pv.parse(e.ctx.font).fontSize;return n.getStyle("font-size").getNumber(l)}getTElementBoundingBox(e){var n=this.getFontSize();return new mv(this.x,this.y-n,this.x+this.measureText(e),this.y)}getGlyph(e,n,l){var u=n[l],h=null;if(e.isArabic){var d=n.length,f=n[l-1],P=n[l+1],V="isolated";if((0===l||" "===f)&&l<d-1&&" "!==P&&(V="terminal"),l>0&&" "!==f&&l<d-1&&" "!==P&&(V="medial"),l>0&&" "!==f&&(l===d-1||" "===P)&&(V="initial"),void 0!==e.glyphs[u]){var B=e.glyphs[u];h=B instanceof Bv?B:B[V]}}else h=e.glyphs[u];return h||(h=e.missingGlyph),h}getText(){return""}getTextFromNode(e){var n=e||this.node,l=Array.from(n.parentNode.childNodes),u=l.indexOf(n),h=l.length-1,d=compressSpaces(n.textContent||"");return 0===u&&(d=trimLeft(d)),u===h&&(d=trimRight(d)),d}renderChildren(e){if("text"===this.type){this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e),this.children.forEach((n,l)=>{this.renderChild(e,this,this,l)});var{mouse:n}=this.document.screen;n.isWorking()&&n.checkBoundingBox(this,this.getBoundingBox(e))}else this.renderTElementChildren(e)}renderTElementChildren(e){var{document:n,parent:l}=this,u=this.getText(),h=l.getStyle("font-family").getDefinition();if(h)for(var{unitsPerEm:d}=h.fontFace,f=pv.parse(n.ctx.font),P=l.getStyle("font-size").getNumber(f.fontSize),V=l.getStyle("font-style").getString(f.fontStyle),B=P/d,b=h.isRTL?u.split("").reverse().join(""):u,C=toNumbers(l.getAttribute("dx").getString()),S=b.length,x=0;x<S;x++){var E=this.getGlyph(h,b,x);e.translate(this.x,this.y),e.scale(B,-B);var _=e.lineWidth;e.lineWidth=e.lineWidth*d/P,"italic"===V&&e.transform(1,0,.4,1,0,0),E.render(e),"italic"===V&&e.transform(1,0,-.4,1,0,0),e.lineWidth=_,e.scale(1/B,-1/B),e.translate(-this.x,-this.y),this.x+=P*(E.horizAdvX||h.horizAdvX)/d,void 0===C[x]||isNaN(C[x])||(this.x+=C[x])}else{var{x:O,y:A}=this;e.fillStyle&&e.fillText(u,O,A),e.strokeStyle&&e.strokeText(u,O,A)}}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var e=this.leafTexts[this.textChunkStart],n=e.getStyle("text-anchor").getString("start"),l=0;l="start"===n?e.x-this.minX:"end"===n?e.x-this.maxX:e.x-(this.minX+this.maxX)/2;for(var u=this.textChunkStart;u<this.leafTexts.length;u++)this.leafTexts[u].x+=l;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(e){this.children.forEach((n,l)=>{this.adjustChildCoordinatesRecursiveCore(e,this,this,l)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(e,n,l,u){var h=l.children[u];h.children.length>0?h.children.forEach((l,u)=>{n.adjustChildCoordinatesRecursiveCore(e,n,h,u)}):this.adjustChildCoordinates(e,n,l,u)}adjustChildCoordinates(e,n,l,u){var h=l.children[u];if("function"!=typeof h.measureText)return h;e.save(),h.setContext(e,!0);var d=h.getAttribute("x"),f=h.getAttribute("y"),P=h.getAttribute("dx"),V=h.getAttribute("dy"),B=h.getStyle("font-family").getDefinition(),b=Boolean(B)&&B.isRTL;0===u&&(d.hasValue()||d.setValue(h.getInheritedAttribute("x")),f.hasValue()||f.setValue(h.getInheritedAttribute("y")),P.hasValue()||P.setValue(h.getInheritedAttribute("dx")),V.hasValue()||V.setValue(h.getInheritedAttribute("dy")));var C=h.measureText(e);return b&&(n.x-=C),d.hasValue()?(n.applyAnchoring(),h.x=d.getPixels("x"),P.hasValue()&&(h.x+=P.getPixels("x"))):(P.hasValue()&&(n.x+=P.getPixels("x")),h.x=n.x),n.x=h.x,b||(n.x+=C),f.hasValue()?(h.y=f.getPixels("y"),V.hasValue()&&(h.y+=V.getPixels("y"))):(V.hasValue()&&(n.y+=V.getPixels("y")),h.y=n.y),n.y=h.y,n.leafTexts.push(h),n.minX=Math.min(n.minX,h.x,h.x+C),n.maxX=Math.max(n.maxX,h.x,h.x+C),h.clearContext(e),e.restore(),h}getChildBoundingBox(e,n,l,u){var h=l.children[u];if("function"!=typeof h.getBoundingBox)return null;var d=h.getBoundingBox(e);return d?(h.children.forEach((l,u)=>{var f=n.getChildBoundingBox(e,n,h,u);d.addBoundingBox(f)}),d):null}renderChild(e,n,l,u){var h=l.children[u];h.render(e),h.children.forEach((l,u)=>{n.renderChild(e,n,h,u)})}measureText(e){var{measureCache:n}=this;if(~n)return n;var l=this.getText(),u=this.measureTargetText(e,l);return this.measureCache=u,u}measureTargetText(e,n){if(!n.length)return 0;var{parent:l}=this,u=l.getStyle("font-family").getDefinition();if(u){for(var h=this.getFontSize(),d=u.isRTL?n.split("").reverse().join(""):n,f=toNumbers(l.getAttribute("dx").getString()),P=d.length,V=0,B=0;B<P;B++){V+=(this.getGlyph(u,d,B).horizAdvX||u.horizAdvX)*h/u.fontFace.unitsPerEm,void 0===f[B]||isNaN(f[B])||(V+=f[B])}return V}if(!e.measureText)return 10*n.length;e.save(),this.setContext(e,!0);var{width:b}=e.measureText(n);return this.clearContext(e),e.restore(),b}getInheritedAttribute(e){for(var n=this;n instanceof bv&&n.isFirstChild();){var l=n.parent.getAttribute(e);if(l.hasValue(!0))return l.getValue("0");n=n.parent}return null}}class Tv extends bv{constructor(e,n,l){super(e,n,new.target===Tv||l),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class Cv extends Tv{constructor(){super(...arguments),this.type="textNode"}}class Sv extends vv{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(e){var n,{document:l}=this,{screen:u,window:h}=l,d=e.canvas;if(u.setDefaults(e),d.style&&void 0!==e.font&&h&&void 0!==h.getComputedStyle){e.font=h.getComputedStyle(d).getPropertyValue("font");var f=new KP(l,"fontSize",pv.parse(e.font).fontSize);f.hasValue()&&(l.rootEmSize=f.getPixels("y"),l.emSize=l.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:P,height:V}=u.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var B=this.getAttribute("refX"),b=this.getAttribute("refY"),C=this.getAttribute("viewBox"),S=C.hasValue()?toNumbers(C.getString()):null,x=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),E=0,_=0,O=0,A=0;S&&(E=S[0],_=S[1]),this.root||(P=this.getStyle("width").getPixels("x"),V=this.getStyle("height").getPixels("y"),"marker"===this.type&&(O=E,A=_,E=0,_=0)),u.viewPort.setCurrent(P,V),!this.node||this.parent&&"foreignObject"!==(null===(n=this.node.parentNode)||void 0===n?void 0:n.nodeName)||!this.getStyle("transform",!1,!0).hasValue()||this.getStyle("transform-origin",!1,!0).hasValue()||this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),S&&(P=S[2],V=S[3]),l.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:u.viewPort.width,desiredWidth:P,height:u.viewPort.height,desiredHeight:V,minX:E,minY:_,refX:B.getValue(),refY:b.getValue(),clip:x,clipX:O,clipY:A}),S&&(u.viewPort.removeCurrent(),u.viewPort.setCurrent(P,V))}clearContext(e){super.clearContext(e),this.document.screen.viewPort.removeCurrent()}resize(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=this.getAttribute("width",!0),h=this.getAttribute("height",!0),d=this.getAttribute("viewBox"),f=this.getAttribute("style"),P=u.getNumber(0),V=h.getNumber(0);if(l)if("string"==typeof l)this.getAttribute("preserveAspectRatio",!0).setValue(l);else{var B=this.getAttribute("preserveAspectRatio");B.hasValue()&&B.setValue(B.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(u.setValue(e),h.setValue(n),d.hasValue()||d.setValue("0 0 ".concat(P||e," ").concat(V||n)),f.hasValue()){var b=this.getStyle("width"),C=this.getStyle("height");b.hasValue()&&b.setValue("".concat(e,"px")),C.hasValue()&&C.setValue("".concat(n,"px"))}}}class xv extends Vv{constructor(){super(...arguments),this.type="rect"}path(e){var n=this.getAttribute("x").getPixels("x"),l=this.getAttribute("y").getPixels("y"),u=this.getStyle("width",!1,!0).getPixels("x"),h=this.getStyle("height",!1,!0).getPixels("y"),d=this.getAttribute("rx"),f=this.getAttribute("ry"),P=d.getPixels("x"),V=f.getPixels("y");if(d.hasValue()&&!f.hasValue()&&(V=P),f.hasValue()&&!d.hasValue()&&(P=V),P=Math.min(P,u/2),V=Math.min(V,h/2),e){var B=(Math.sqrt(2)-1)/3*4;e.beginPath(),h>0&&u>0&&(e.moveTo(n+P,l),e.lineTo(n+u-P,l),e.bezierCurveTo(n+u-P+B*P,l,n+u,l+V-B*V,n+u,l+V),e.lineTo(n+u,l+h-V),e.bezierCurveTo(n+u,l+h-V+B*V,n+u-P+B*P,l+h,n+u-P,l+h),e.lineTo(n+P,l+h),e.bezierCurveTo(n+P-B*P,l+h,n,l+h-V+B*V,n,l+h-V),e.lineTo(n,l+V),e.bezierCurveTo(n,l+V-B*V,n+P-B*P,l,n+P,l),e.closePath())}return new mv(n,l,n+u,l+h)}getMarkers(){return null}}class Ev extends Vv{constructor(){super(...arguments),this.type="circle"}path(e){var n=this.getAttribute("cx").getPixels("x"),l=this.getAttribute("cy").getPixels("y"),u=this.getAttribute("r").getPixels();return e&&u>0&&(e.beginPath(),e.arc(n,l,u,0,2*Math.PI,!1),e.closePath()),new mv(n-u,l-u,n+u,l+u)}getMarkers(){return null}}class _v extends Vv{constructor(){super(...arguments),this.type="ellipse"}path(e){var n=(Math.sqrt(2)-1)/3*4,l=this.getAttribute("rx").getPixels("x"),u=this.getAttribute("ry").getPixels("y"),h=this.getAttribute("cx").getPixels("x"),d=this.getAttribute("cy").getPixels("y");return e&&l>0&&u>0&&(e.beginPath(),e.moveTo(h+l,d),e.bezierCurveTo(h+l,d+n*u,h+n*l,d+u,h,d+u),e.bezierCurveTo(h-n*l,d+u,h-l,d+n*u,h-l,d),e.bezierCurveTo(h-l,d-n*u,h-n*l,d-u,h,d-u),e.bezierCurveTo(h+n*l,d-u,h+l,d-n*u,h+l,d),e.closePath()),new mv(h-l,d-u,h+l,d+u)}getMarkers(){return null}}class Ov extends Vv{constructor(){super(...arguments),this.type="line"}getPoints(){return[new QP(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new QP(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(e){var[{x:n,y:l},{x:u,y:h}]=this.getPoints();return e&&(e.beginPath(),e.moveTo(n,l),e.lineTo(u,h)),new mv(n,l,u,h)}getMarkers(){var[e,n]=this.getPoints(),l=e.angleTo(n);return[[e,l],[n,l]]}}class Av extends Vv{constructor(e,n,l){super(e,n,l),this.type="polyline",this.points=[],this.points=QP.parsePath(this.getAttribute("points").getString())}path(e){var{points:n}=this,[{x:l,y:u}]=n,h=new mv(l,u);return e&&(e.beginPath(),e.moveTo(l,u)),n.forEach(n=>{var{x:l,y:u}=n;h.addPoint(l,u),e&&e.lineTo(l,u)}),h}getMarkers(){var{points:e}=this,n=e.length-1,l=[];return e.forEach((u,h)=>{h!==n&&l.push([u,u.angleTo(e[h+1])])}),l.length>0&&l.push([e[e.length-1],l[l.length-1][1]]),l}}class wv extends Av{constructor(){super(...arguments),this.type="polygon"}path(e){var n=super.path(e),[{x:l,y:u}]=this.points;return e&&(e.lineTo(l,u),e.closePath()),n}}class Iv extends fv{constructor(){super(...arguments),this.type="pattern"}createPattern(e,n,l){var u=this.getStyle("width").getPixels("x",!0),h=this.getStyle("height").getPixels("y",!0),d=new Sv(this.document,null);d.attributes.viewBox=new KP(this.document,"viewBox",this.getAttribute("viewBox").getValue()),d.attributes.width=new KP(this.document,"width","".concat(u,"px")),d.attributes.height=new KP(this.document,"height","".concat(h,"px")),d.attributes.transform=new KP(this.document,"transform",this.getAttribute("patternTransform").getValue()),d.children=this.children;var f=this.document.createCanvas(u,h),P=f.getContext("2d"),V=this.getAttribute("x"),B=this.getAttribute("y");V.hasValue()&&B.hasValue()&&P.translate(V.getPixels("x",!0),B.getPixels("y",!0)),l.hasValue()?this.styles["fill-opacity"]=l:Reflect.deleteProperty(this.styles,"fill-opacity");for(var b=-1;b<=1;b++)for(var C=-1;C<=1;C++)P.save(),d.attributes.x=new KP(this.document,"x",b*f.width),d.attributes.y=new KP(this.document,"y",C*f.height),d.render(P),P.restore();return e.createPattern(f,"repeat")}}class Mv extends fv{constructor(){super(...arguments),this.type="marker"}render(e,n,l){if(n){var{x:u,y:h}=n,d=this.getAttribute("orient").getString("auto"),f=this.getAttribute("markerUnits").getString("strokeWidth");e.translate(u,h),"auto"===d&&e.rotate(l),"strokeWidth"===f&&e.scale(e.lineWidth,e.lineWidth),e.save();var P=new Sv(this.document,null);P.type=this.type,P.attributes.viewBox=new KP(this.document,"viewBox",this.getAttribute("viewBox").getValue()),P.attributes.refX=new KP(this.document,"refX",this.getAttribute("refX").getValue()),P.attributes.refY=new KP(this.document,"refY",this.getAttribute("refY").getValue()),P.attributes.width=new KP(this.document,"width",this.getAttribute("markerWidth").getValue()),P.attributes.height=new KP(this.document,"height",this.getAttribute("markerHeight").getValue()),P.attributes.overflow=new KP(this.document,"overflow",this.getAttribute("overflow").getValue()),P.attributes.fill=new KP(this.document,"fill",this.getAttribute("fill").getColor("black")),P.attributes.stroke=new KP(this.document,"stroke",this.getAttribute("stroke").getValue("none")),P.children=this.children,P.render(e),e.restore(),"strokeWidth"===f&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"===d&&e.rotate(-l),e.translate(-u,-h)}}}class qv extends fv{constructor(){super(...arguments),this.type="defs"}render(){}}class Nv extends vv{constructor(){super(...arguments),this.type="g"}getBoundingBox(e){var n=new mv;return this.children.forEach(l=>{n.addBoundingBox(l.getBoundingBox(e))}),n}}class Rv extends fv{constructor(e,n,l){super(e,n,l),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:u,children:h}=this;h.forEach(e=>{"stop"===e.type&&u.push(e)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(e,n,l){var u=this;this.getHrefAttribute().hasValue()&&(u=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(u));var{stops:h}=u,d=this.getGradient(e,n);if(!d)return this.addParentOpacity(l,h[h.length-1].color);if(h.forEach(e=>{d.addColorStop(e.offset,this.addParentOpacity(l,e.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:f}=this,{MAX_VIRTUAL_PIXELS:P,viewPort:V}=f.screen,[B]=V.viewPorts,b=new xv(f,null);b.attributes.x=new KP(f,"x",-P/3),b.attributes.y=new KP(f,"y",-P/3),b.attributes.width=new KP(f,"width",P),b.attributes.height=new KP(f,"height",P);var C=new Nv(f,null);C.attributes.transform=new KP(f,"transform",this.getAttribute("gradientTransform").getValue()),C.children=[b];var S=new Sv(f,null);S.attributes.x=new KP(f,"x",0),S.attributes.y=new KP(f,"y",0),S.attributes.width=new KP(f,"width",B.width),S.attributes.height=new KP(f,"height",B.height),S.children=[C];var x=f.createCanvas(B.width,B.height),E=x.getContext("2d");return E.fillStyle=d,S.render(E),E.createPattern(x,"no-repeat")}return d}inheritStopContainer(e){this.attributesToInherit.forEach(n=>{!this.getAttribute(n).hasValue()&&e.getAttribute(n).hasValue()&&this.getAttribute(n,!0).setValue(e.getAttribute(n).getValue())})}addParentOpacity(e,n){return e.hasValue()?new KP(this.document,"color",n).addOpacity(e).getColor():n}}class kv extends Rv{constructor(e,n,l){super(e,n,l),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(e,n){var l="objectBoundingBox"===this.getGradientUnits(),u=l?n.getBoundingBox(e):null;if(l&&!u)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var h=l?u.x+u.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),d=l?u.y+u.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),f=l?u.x+u.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),P=l?u.y+u.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return h===f&&d===P?null:e.createLinearGradient(h,d,f,P)}}class Dv extends Rv{constructor(e,n,l){super(e,n,l),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(e,n){var l="objectBoundingBox"===this.getGradientUnits(),u=n.getBoundingBox(e);if(l&&!u)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var h=l?u.x+u.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),d=l?u.y+u.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),f=h,P=d;this.getAttribute("fx").hasValue()&&(f=l?u.x+u.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(P=l?u.y+u.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var V=l?(u.width+u.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),B=this.getAttribute("fr").getPixels();return e.createRadialGradient(f,P,B,h,d,V)}}class Lv extends fv{constructor(e,n,l){super(e,n,l),this.type="stop";var u=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),h=this.getStyle("stop-opacity"),d=this.getStyle("stop-color",!0);""===d.getString()&&d.setValue("#000"),h.hasValue()&&(d=d.addOpacity(h)),this.offset=u,this.color=d.getColor()}}class Fv extends fv{constructor(e,n,l){super(e,n,l),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,e.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new KP(e,"values",null);var u=this.getAttribute("values");u.hasValue()&&this.values.setValue(u.getString().split(";"))}getProperty(){var e=this.getAttribute("attributeType").getString(),n=this.getAttribute("attributeName").getString();return"CSS"===e?this.parent.getStyle(n,!0):this.parent.getAttribute(n,!0)}calcValue(){var{initialUnits:e}=this,{progress:n,from:l,to:u}=this.getProgress(),h=l.getNumber()+(u.getNumber()-l.getNumber())*n;return"%"===e&&(h*=100),"".concat(h).concat(e)}update(e){var{parent:n}=this,l=this.getProperty();if(this.initialValue||(this.initialValue=l.getString(),this.initialUnits=l.getUnits()),this.duration>this.maxDuration){var u=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==u||this.frozen){if("remove"===u&&!this.removed)return this.removed=!0,l.setValue(n.animationFrozen?n.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,n.animationFrozen=!0,n.animationFrozenValue=l.getString();return!1}this.duration+=e;var h=!1;if(this.begin<this.duration){var d=this.calcValue(),f=this.getAttribute("type");if(f.hasValue()){var P=f.getString();d="".concat(P,"(").concat(d,")")}l.setValue(d),h=!0}return h}getProgress(){var{document:e,values:n}=this,l={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(n.hasValue()){var u=l.progress*(n.getValue().length-1),h=Math.floor(u),d=Math.ceil(u);l.from=new KP(e,"from",parseFloat(n.getValue()[h])),l.to=new KP(e,"to",parseFloat(n.getValue()[d])),l.progress=(u-h)/(d-h)}else l.from=this.from,l.to=this.to;return l}}class Uv extends Fv{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:e,from:n,to:l}=this.getProgress(),u=new PP(n.getColor()),h=new PP(l.getColor());if(u.ok&&h.ok){var d=u.r+(h.r-u.r)*e,f=u.g+(h.g-u.g)*e,P=u.b+(h.b-u.b)*e;return"rgb(".concat(Math.floor(d),", ").concat(Math.floor(f),", ").concat(Math.floor(P),")")}return this.getAttribute("from").getColor()}}class jv extends Fv{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:e,from:n,to:l}=this.getProgress(),u=toNumbers(n.getString()),h=toNumbers(l.getString());return u.map((n,l)=>n+(h[l]-n)*e).join(" ")}}class Gv extends fv{constructor(e,n,l){super(e,n,l),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:u}=e,{children:h}=this;for(var d of h)switch(d.type){case"font-face":this.fontFace=d;var f=d.getStyle("font-family");f.hasValue()&&(u[f.getString()]=this);break;case"missing-glyph":this.missingGlyph=d;break;case"glyph":var P=d;P.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[P.unicode]&&(this.glyphs[P.unicode]=Object.create(null)),this.glyphs[P.unicode][P.arabicForm]=P):this.glyphs[P.unicode]=P}}render(){}}class Hv extends fv{constructor(e,n,l){super(e,n,l),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class $v extends Vv{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class zv extends bv{constructor(){super(...arguments),this.type="tref"}getText(){var e=this.getHrefAttribute().getDefinition();if(e){var n=e.children[0];if(n)return n.getText()}return""}}class Jv extends bv{constructor(e,n,l){super(e,n,l),this.type="a";var{childNodes:u}=n,h=u[0],d=u.length>0&&Array.from(u).every(e=>3===e.nodeType);this.hasText=d,this.text=d?this.getTextFromNode(h):""}getText(){return this.text}renderChildren(e){if(this.hasText){super.renderChildren(e);var{document:n,x:l,y:u}=this,{mouse:h}=n.screen,d=new KP(n,"fontSize",pv.parse(n.ctx.font).fontSize);h.isWorking()&&h.checkBoundingBox(this,new mv(l,u-d.getPixels("y"),l+this.measureText(e),u))}else if(this.children.length>0){var f=new Nv(this.document,null);f.children=this.children,f.parent=this,f.render(e)}}onClick(){var{window:e}=this.document;e&&e.open(this.getHrefAttribute().getString())}onMouseMove(){this.document.ctx.canvas.style.cursor="pointer"}}function ownKeys$2(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),l.push.apply(l,u)}return l}function _objectSpread$2(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?ownKeys$2(Object(l),!0).forEach(function(n){_defineProperty(e,n,l[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):ownKeys$2(Object(l)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(l,n))})}return e}class Wv extends bv{constructor(e,n,l){super(e,n,l),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var u=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(u)}getText(){return this.text}path(e){var{dataArray:n}=this;e&&e.beginPath(),n.forEach(n=>{var{type:l,points:u}=n;switch(l){case Pv.LINE_TO:e&&e.lineTo(u[0],u[1]);break;case Pv.MOVE_TO:e&&e.moveTo(u[0],u[1]);break;case Pv.CURVE_TO:e&&e.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case Pv.QUAD_TO:e&&e.quadraticCurveTo(u[0],u[1],u[2],u[3]);break;case Pv.ARC:var[h,d,f,P,V,B,b,C]=u,S=f>P?f:P,x=f>P?1:f/P,E=f>P?P/f:1;e&&(e.translate(h,d),e.rotate(b),e.scale(x,E),e.arc(0,0,S,V,V+B,Boolean(1-C)),e.scale(1/x,1/E),e.rotate(-b),e.translate(-h,-d));break;case Pv.CLOSE_PATH:e&&e.closePath()}})}renderChildren(e){this.setTextData(e),e.save();var n=this.parent.getStyle("text-decoration").getString(),l=this.getFontSize(),{glyphInfo:u}=this,h=e.fillStyle;"underline"===n&&e.beginPath(),u.forEach((u,h)=>{var{p0:d,p1:f,rotation:P,text:V}=u;e.save(),e.translate(d.x,d.y),e.rotate(P),e.fillStyle&&e.fillText(V,0,0),e.strokeStyle&&e.strokeText(V,0,0),e.restore(),"underline"===n&&(0===h&&e.moveTo(d.x,d.y+l/8),e.lineTo(f.x,f.y+l/5))}),"underline"===n&&(e.lineWidth=l/20,e.strokeStyle=h,e.stroke(),e.closePath()),e.restore()}getLetterSpacingAt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[e]||0}findSegmentToFitChar(e,n,l,u,h,d,f,P,V){var B=d,b=this.measureText(e,P);" "===P&&"justify"===n&&l<u&&(b+=(u-l)/h),V>-1&&(B+=this.getLetterSpacingAt(V));var C=this.textHeight/20,S=this.getEquidistantPointOnPath(B,C,0),x=this.getEquidistantPointOnPath(B+b,C,0),E={p0:S,p1:x},_=S&&x?Math.atan2(x.y-S.y,x.x-S.x):0;if(f){var O=Math.cos(Math.PI/2+_)*f,A=Math.cos(-_)*f;E.p0=_objectSpread$2(_objectSpread$2({},S),{},{x:S.x+O,y:S.y+A}),E.p1=_objectSpread$2(_objectSpread$2({},x),{},{x:x.x+O,y:x.y+A})}return{offset:B+=b,segment:E,rotation:_}}measureText(e,n){var{measuresCache:l}=this,u=n||this.getText();if(l.has(u))return l.get(u);var h=this.measureTargetText(e,u);return l.set(u,h),h}setTextData(e){if(!this.glyphInfo){var n=this.getText(),l=n.split(""),u=n.split(" ").length-1,h=this.parent.getAttribute("dx").split().map(e=>e.getPixels("x")),d=this.parent.getAttribute("dy").getPixels("y"),f=this.parent.getStyle("text-anchor").getString("start"),P=this.getStyle("letter-spacing"),V=this.parent.getStyle("letter-spacing"),B=0;P.hasValue()&&"inherit"!==P.getValue()?P.hasValue()&&"initial"!==P.getValue()&&"unset"!==P.getValue()&&(B=P.getPixels()):B=V.getPixels();var b=[],C=n.length;this.letterSpacingCache=b;for(var S=0;S<C;S++)b.push(void 0!==h[S]?h[S]:B);var x=b.reduce((e,n,l)=>0===l?0:e+n||0,0),E=this.measureText(e),_=Math.max(E+x,0);this.textWidth=E,this.textHeight=this.getFontSize(),this.glyphInfo=[];var O=this.getPathLength(),A=this.getStyle("startOffset").getNumber(0)*O,q=0;"middle"!==f&&"center"!==f||(q=-_/2),"end"!==f&&"right"!==f||(q=-_),q+=A,l.forEach((n,h)=>{var{offset:P,segment:V,rotation:B}=this.findSegmentToFitChar(e,f,_,O,u,q,d,n,h);q=P,V.p0&&V.p1&&this.glyphInfo.push({text:l[h],p0:V.p0,p1:V.p1,rotation:B})})}}parsePathData(e){if(this.pathLength=-1,!e)return[];var n=[],{pathParser:l}=e;for(l.reset();!l.isEnd();){var{current:u}=l,h=u?u.x:0,d=u?u.y:0,f=l.next(),P=f.type,V=[];switch(f.type){case Pv.MOVE_TO:this.pathM(l,V);break;case Pv.LINE_TO:P=this.pathL(l,V);break;case Pv.HORIZ_LINE_TO:P=this.pathH(l,V);break;case Pv.VERT_LINE_TO:P=this.pathV(l,V);break;case Pv.CURVE_TO:this.pathC(l,V);break;case Pv.SMOOTH_CURVE_TO:P=this.pathS(l,V);break;case Pv.QUAD_TO:this.pathQ(l,V);break;case Pv.SMOOTH_QUAD_TO:P=this.pathT(l,V);break;case Pv.ARC:V=this.pathA(l);break;case Pv.CLOSE_PATH:Vv.pathZ(l)}f.type!==Pv.CLOSE_PATH?n.push({type:P,points:V,start:{x:h,y:d},pathLength:this.calcLength(h,d,P,V)}):n.push({type:Pv.CLOSE_PATH,points:[],pathLength:0})}return n}pathM(e,n){var{x:l,y:u}=Vv.pathM(e).point;n.push(l,u)}pathL(e,n){var{x:l,y:u}=Vv.pathL(e).point;return n.push(l,u),Pv.LINE_TO}pathH(e,n){var{x:l,y:u}=Vv.pathH(e).point;return n.push(l,u),Pv.LINE_TO}pathV(e,n){var{x:l,y:u}=Vv.pathV(e).point;return n.push(l,u),Pv.LINE_TO}pathC(e,n){var{point:l,controlPoint:u,currentPoint:h}=Vv.pathC(e);n.push(l.x,l.y,u.x,u.y,h.x,h.y)}pathS(e,n){var{point:l,controlPoint:u,currentPoint:h}=Vv.pathS(e);return n.push(l.x,l.y,u.x,u.y,h.x,h.y),Pv.CURVE_TO}pathQ(e,n){var{controlPoint:l,currentPoint:u}=Vv.pathQ(e);n.push(l.x,l.y,u.x,u.y)}pathT(e,n){var{controlPoint:l,currentPoint:u}=Vv.pathT(e);return n.push(l.x,l.y,u.x,u.y),Pv.QUAD_TO}pathA(e){var{rX:n,rY:l,sweepFlag:u,xAxisRotation:h,centp:d,a1:f,ad:P}=Vv.pathA(e);return 0===u&&P>0&&(P-=2*Math.PI),1===u&&P<0&&(P+=2*Math.PI),[d.x,d.y,n,l,f,P,h,u]}calcLength(e,n,l,u){var h=0,d=null,f=null,P=0;switch(l){case Pv.LINE_TO:return this.getLineLength(e,n,u[0],u[1]);case Pv.CURVE_TO:for(h=0,d=this.getPointOnCubicBezier(0,e,n,u[0],u[1],u[2],u[3],u[4],u[5]),P=.01;P<=1;P+=.01)f=this.getPointOnCubicBezier(P,e,n,u[0],u[1],u[2],u[3],u[4],u[5]),h+=this.getLineLength(d.x,d.y,f.x,f.y),d=f;return h;case Pv.QUAD_TO:for(h=0,d=this.getPointOnQuadraticBezier(0,e,n,u[0],u[1],u[2],u[3]),P=.01;P<=1;P+=.01)f=this.getPointOnQuadraticBezier(P,e,n,u[0],u[1],u[2],u[3]),h+=this.getLineLength(d.x,d.y,f.x,f.y),d=f;return h;case Pv.ARC:h=0;var V=u[4],B=u[5],b=u[4]+B,C=Math.PI/180;if(Math.abs(V-b)<C&&(C=Math.abs(V-b)),d=this.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],V,0),B<0)for(P=V-C;P>b;P-=C)f=this.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],P,0),h+=this.getLineLength(d.x,d.y,f.x,f.y),d=f;else for(P=V+C;P<b;P+=C)f=this.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],P,0),h+=this.getLineLength(d.x,d.y,f.x,f.y),d=f;return f=this.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],b,0),h+=this.getLineLength(d.x,d.y,f.x,f.y)}return 0}getPointOnLine(e,n,l,u,h){var d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:n,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:l,P=(h-l)/(u-n+YP),V=Math.sqrt(e*e/(1+P*P));u<n&&(V*=-1);var B=P*V,b=null;if(u===n)b={x:d,y:f+B};else if((f-l)/(d-n+YP)===P)b={x:d+V,y:f+B};else{var C,S,x=this.getLineLength(n,l,u,h);if(x<YP)return null;var E=(d-n)*(u-n)+(f-l)*(h-l);C=n+(E/=x*x)*(u-n),S=l+E*(h-l);var _=this.getLineLength(d,f,C,S),O=Math.sqrt(e*e-_*_);V=Math.sqrt(O*O/(1+P*P)),u<n&&(V*=-1),b={x:C+V,y:S+(B=P*V)}}return b}getPointOnPath(e){var n=this.getPathLength(),l=0,u=null;if(e<-5e-5||e-5e-5>n)return null;var{dataArray:h}=this;for(var d of h){if(!d||!(d.pathLength<5e-5||l+d.pathLength+5e-5<e)){var f=e-l,P=0;switch(d.type){case Pv.LINE_TO:u=this.getPointOnLine(f,d.start.x,d.start.y,d.points[0],d.points[1],d.start.x,d.start.y);break;case Pv.ARC:var V=d.points[4],B=d.points[5],b=d.points[4]+B;if(P=V+f/d.pathLength*B,B<0&&P<b||B>=0&&P>b)break;u=this.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],P,d.points[6]);break;case Pv.CURVE_TO:(P=f/d.pathLength)>1&&(P=1),u=this.getPointOnCubicBezier(P,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);break;case Pv.QUAD_TO:(P=f/d.pathLength)>1&&(P=1),u=this.getPointOnQuadraticBezier(P,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3])}if(u)return u;break}l+=d.pathLength}return null}getLineLength(e,n,l,u){return Math.sqrt((l-e)*(l-e)+(u-n)*(u-n))}getPathLength(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce((e,n)=>n.pathLength>0?e+n.pathLength:e,0)),this.pathLength}getPointOnCubicBezier(e,n,l,u,h,d,f,P,V){return{x:P*CB1(e)+d*CB2(e)+u*CB3(e)+n*CB4(e),y:V*CB1(e)+f*CB2(e)+h*CB3(e)+l*CB4(e)}}getPointOnQuadraticBezier(e,n,l,u,h,d,f){return{x:d*QB1(e)+u*QB2(e)+n*QB3(e),y:f*QB1(e)+h*QB2(e)+l*QB3(e)}}getPointOnEllipticalArc(e,n,l,u,h,d){var f=Math.cos(d),P=Math.sin(d),V=l*Math.cos(h),B=u*Math.sin(h);return{x:e+(V*f-B*P),y:n+(V*P+B*f)}}buildEquidistantCache(e,n){var l=this.getPathLength(),u=n||.25,h=e||l/100;if(!this.equidistantCache||this.equidistantCache.step!==h||this.equidistantCache.precision!==u){this.equidistantCache={step:h,precision:u,points:[]};for(var d=0,f=0;f<=l;f+=u){var P=this.getPointOnPath(f),V=this.getPointOnPath(f+u);P&&V&&((d+=this.getLineLength(P.x,P.y,V.x,V.y))>=h&&(this.equidistantCache.points.push({x:P.x,y:P.y,distance:f}),d-=h))}}}getEquidistantPointOnPath(e,n,l){if(this.buildEquidistantCache(n,l),e<0||e-this.getPathLength()>5e-5)return null;var u=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[u]||null}}var Yv=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class Kv extends vv{constructor(e,n,l){super(e,n,l),this.type="image",this.loaded=!1;var u=this.getHrefAttribute().getString();if(u){var h=u.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(u);e.images.push(this),h?this.loadSvg(u):this.loadImage(u),this.isSvg=h}}loadImage(e){var n=this;return _asyncToGenerator(function*(){try{var l=yield n.document.createImage(e);n.image=l}catch(u){}n.loaded=!0})()}loadSvg(e){var n=this;return _asyncToGenerator(function*(){var l=Yv.exec(e);if(l){var u=l[5];"base64"===l[4]?n.image=atob(u):n.image=decodeURIComponent(u)}else try{var h=yield n.document.fetch(e),d=yield h.text();n.image=d}catch(f){}n.loaded=!0})()}renderChildren(e){var{document:n,image:l,loaded:u}=this,h=this.getAttribute("x").getPixels("x"),d=this.getAttribute("y").getPixels("y"),f=this.getStyle("width").getPixels("x"),P=this.getStyle("height").getPixels("y");if(u&&l&&f&&P){if(e.save(),e.translate(h,d),this.isSvg){var V=n.canvg.forkString(e,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:f,scaleHeight:P});V.document.documentElement.parent=this,V.render()}else{var B=this.image;n.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:f,desiredWidth:B.width,height:P,desiredHeight:B.height}),this.loaded&&(void 0===B.complete||B.complete)&&e.drawImage(B,0,0)}e.restore()}}getBoundingBox(){var e=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),l=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y");return new mv(e,n,e+l,n+u)}}class Xv extends vv{constructor(){super(...arguments),this.type="symbol"}render(e){}}class Qv{constructor(e){this.document=e,this.loaded=!1,e.fonts.push(this)}load(e,n){var l=this;return _asyncToGenerator(function*(){try{var{document:u}=l,h=(yield u.canvg.parser.load(n)).getElementsByTagName("font");Array.from(h).forEach(n=>{var l=u.createElement(n);u.definitions[e]=l})}catch(d){}l.loaded=!0})()}}class Zv extends fv{constructor(e,n,l){super(e,n,l),this.type="style",compressSpaces(Array.from(n.childNodes).map(e=>e.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach(n=>{var l=n.trim();if(l){var u=l.split("{"),h=u[0].split(","),d=u[1].split(";");h.forEach(n=>{var l=n.trim();if(l){var u=e.styles[l]||{};if(d.forEach(n=>{var l=n.indexOf(":"),h=n.substr(0,l).trim(),d=n.substr(l+1,n.length-l).trim();h&&d&&(u[h]=new KP(e,h,d))}),e.styles[l]=u,e.stylesSpecificity[l]=getSelectorSpecificity(l),"@font-face"===l){var h=u["font-family"].getString().replace(/"|'/g,"");u.src.getString().split(",").forEach(n=>{if(n.indexOf('format("svg")')>0){var l=parseExternalUrl(n);l&&new Qv(e).load(h,l)}})}}})}})}}Zv.parseExternalUrl=parseExternalUrl;class eV extends vv{constructor(){super(...arguments),this.type="use"}setContext(e){super.setContext(e);var n=this.getAttribute("x"),l=this.getAttribute("y");n.hasValue()&&e.translate(n.getPixels("x"),0),l.hasValue()&&e.translate(0,l.getPixels("y"))}path(e){var{element:n}=this;n&&n.path(e)}renderChildren(e){var{document:n,element:l}=this;if(l){var u=l;if("symbol"===l.type&&((u=new Sv(n,null)).attributes.viewBox=new KP(n,"viewBox",l.getAttribute("viewBox").getString()),u.attributes.preserveAspectRatio=new KP(n,"preserveAspectRatio",l.getAttribute("preserveAspectRatio").getString()),u.attributes.overflow=new KP(n,"overflow",l.getAttribute("overflow").getString()),u.children=l.children,l.styles.opacity=new KP(n,"opacity",this.calculateOpacity())),"svg"===u.type){var h=this.getStyle("width",!1,!0),d=this.getStyle("height",!1,!0);h.hasValue()&&(u.attributes.width=new KP(n,"width",h.getString())),d.hasValue()&&(u.attributes.height=new KP(n,"height",d.getString()))}var f=u.parent;u.parent=this,u.render(e),u.parent=f}}getBoundingBox(e){var{element:n}=this;return n?n.getBoundingBox(e):null}elementTransform(){var{document:e,element:n}=this;return dv.fromElement(e,n)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function imGet(e,n,l,u,h,d){return e[l*u*4+4*n+d]}function imSet(e,n,l,u,h,d,f){e[l*u*4+4*n+d]=f}function m(e,n,l){return e[n]*l}function c(e,n,l,u){return n+Math.cos(e)*l+Math.sin(e)*u}class tV extends fv{constructor(e,n,l){super(e,n,l),this.type="feColorMatrix";var u=toNumbers(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":var h=u[0];u=[.213+.787*h,.715-.715*h,.072-.072*h,0,0,.213-.213*h,.715+.285*h,.072-.072*h,0,0,.213-.213*h,.715-.715*h,.072+.928*h,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var d=u[0]*Math.PI/180;u=[c(d,.213,.787,-.213),c(d,.715,-.715,-.715),c(d,.072,-.072,.928),0,0,c(d,.213,-.213,.143),c(d,.715,.285,.14),c(d,.072,-.072,-.283),0,0,c(d,.213,-.213,-.787),c(d,.715,-.715,.715),c(d,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.matrix=u,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(e,n,l,u,h){for(var{includeOpacity:d,matrix:f}=this,P=e.getImageData(0,0,u,h),V=0;V<h;V++)for(var B=0;B<u;B++){var b=imGet(P.data,B,V,u,0,0),C=imGet(P.data,B,V,u,0,1),S=imGet(P.data,B,V,u,0,2),x=imGet(P.data,B,V,u,0,3),E=m(f,0,b)+m(f,1,C)+m(f,2,S)+m(f,3,x)+m(f,4,1),_=m(f,5,b)+m(f,6,C)+m(f,7,S)+m(f,8,x)+m(f,9,1),O=m(f,10,b)+m(f,11,C)+m(f,12,S)+m(f,13,x)+m(f,14,1),A=m(f,15,b)+m(f,16,C)+m(f,17,S)+m(f,18,x)+m(f,19,1);d&&(E=0,_=0,O=0,A*=x/255),imSet(P.data,B,V,u,0,0,E),imSet(P.data,B,V,u,0,1,_),imSet(P.data,B,V,u,0,2,O),imSet(P.data,B,V,u,0,3,A)}e.clearRect(0,0,u,h),e.putImageData(P,0,0)}}class nV extends fv{constructor(){super(...arguments),this.type="mask"}apply(e,n){var{document:l}=this,u=this.getAttribute("x").getPixels("x"),h=this.getAttribute("y").getPixels("y"),d=this.getStyle("width").getPixels("x"),f=this.getStyle("height").getPixels("y");if(!d&&!f){var P=new mv;this.children.forEach(n=>{P.addBoundingBox(n.getBoundingBox(e))}),u=Math.floor(P.x1),h=Math.floor(P.y1),d=Math.floor(P.width),f=Math.floor(P.height)}var V=this.removeStyles(n,nV.ignoreStyles),B=l.createCanvas(u+d,h+f),b=B.getContext("2d");l.screen.setDefaults(b),this.renderChildren(b),new tV(l,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(b,0,0,u+d,h+f);var C=l.createCanvas(u+d,h+f),S=C.getContext("2d");l.screen.setDefaults(S),n.render(S),S.globalCompositeOperation="destination-in",S.fillStyle=b.createPattern(B,"no-repeat"),S.fillRect(0,0,u+d,h+f),e.fillStyle=S.createPattern(C,"no-repeat"),e.fillRect(0,0,u+d,h+f),this.restoreStyles(n,V)}render(e){}}nV.ignoreStyles=["mask","transform","clip-path"];var noop=()=>{};class rV extends fv{constructor(){super(...arguments),this.type="clipPath"}apply(e){var{document:n}=this,l=Reflect.getPrototypeOf(e),{beginPath:u,closePath:h}=e;l&&(l.beginPath=noop,l.closePath=noop),Reflect.apply(u,e,[]),this.children.forEach(u=>{if(void 0!==u.path){var d=void 0!==u.elementTransform?u.elementTransform():null;d||(d=dv.fromElement(n,u)),d&&d.apply(e),u.path(e),l&&(l.closePath=h),d&&d.unapply(e)}}),Reflect.apply(h,e,[]),e.clip(),l&&(l.beginPath=u,l.closePath=h)}render(e){}}class aV extends fv{constructor(){super(...arguments),this.type="filter"}apply(e,n){var{document:l,children:u}=this,h=n.getBoundingBox(e);if(h){var d=0,f=0;u.forEach(e=>{var n=e.extraFilterDistance||0;d=Math.max(d,n),f=Math.max(f,n)});var P=Math.floor(h.width),V=Math.floor(h.height),B=P+2*d,b=V+2*f;if(!(B<1||b<1)){var C=Math.floor(h.x),S=Math.floor(h.y),x=this.removeStyles(n,aV.ignoreStyles),E=l.createCanvas(B,b),_=E.getContext("2d");l.screen.setDefaults(_),_.translate(-C+d,-S+f),n.render(_),u.forEach(e=>{"function"==typeof e.apply&&e.apply(_,0,0,B,b)}),e.drawImage(E,0,0,B,b,C-d,S-f,B,b),this.restoreStyles(n,x)}}}render(e){}}aV.ignoreStyles=["filter","transform","clip-path"];class iV extends fv{constructor(e,n,l){super(e,n,l),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(e,n,l,u,h){}}class oV extends fv{constructor(){super(...arguments),this.type="feMorphology"}apply(e,n,l,u,h){}}class sV extends fv{constructor(){super(...arguments),this.type="feComposite"}apply(e,n,l,u,h){}}class lV extends fv{constructor(e,n,l){super(e,n,l),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(e,n,l,u,h){var{document:d,blurRadius:f}=this,P=d.window?d.window.document.body:null,V=e.canvas;V.id=d.getUniqueId(),P&&(V.style.display="none",P.appendChild(V)),processCanvasRGBA(V,n,l,u,h,f),P&&P.removeChild(V)}}class uV extends fv{constructor(){super(...arguments),this.type="title"}}class cV extends fv{constructor(){super(...arguments),this.type="desc"}}var hV={svg:Sv,rect:xv,circle:Ev,ellipse:_v,line:Ov,polyline:Av,polygon:wv,path:Vv,pattern:Iv,marker:Mv,defs:qv,linearGradient:kv,radialGradient:Dv,stop:Lv,animate:Fv,animateColor:Uv,animateTransform:jv,font:Gv,"font-face":Hv,"missing-glyph":$v,glyph:Bv,text:bv,tspan:Tv,tref:zv,a:Jv,textPath:Wv,image:Kv,g:Nv,symbol:Xv,style:Zv,use:eV,mask:nV,clipPath:rV,filter:aV,feDropShadow:iV,feMorphology:oV,feComposite:sV,feColorMatrix:tV,feGaussianBlur:lV,title:uV,desc:cV};function ownKeys$1(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),l.push.apply(l,u)}return l}function _createImage(){return _createImage=_asyncToGenerator(function*(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=document.createElement("img");return n&&(l.crossOrigin="Anonymous"),new Promise((n,u)=>{l.onload=()=>{n(l)},l.onerror=(e,n,l,h,d)=>{u(d)},l.src=e})}),_createImage.apply(this,arguments)}class yV{constructor(e){var{rootEmSize:n=12,emSize:l=12,createCanvas:u=yV.createCanvas,createImage:h=yV.createImage,anonymousCrossOrigin:d}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canvg=e,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=n,this.emSize=l,this.createCanvas=u,this.createImage=this.bindCreateImage(h,d),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(e,n){return"boolean"==typeof n?(l,u)=>e(l,"boolean"==typeof u?u:n):e}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:e}=this;return e[e.length-1]}set emSize(e){var{emSizeStack:n}=this;n.push(e)}popEmSize(){var{emSizeStack:e}=this;e.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(e=>e.loaded)}isFontsLoaded(){return this.fonts.every(e=>e.loaded)}createDocumentElement(e){var n=this.createElement(e.documentElement);return n.root=!0,n.addStylesFromStyleDefinition(),this.documentElement=n,n}createElement(e){var n=e.nodeName.replace(/^[^:]+:/,""),l=yV.elementTypes[n];return void 0!==l?new l(this,e):new gv(this,e)}createTextNode(e){return new Cv(this,e)}setViewBox(e){this.screen.setViewBox(function(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?ownKeys$1(Object(l),!0).forEach(function(n){_defineProperty(e,n,l[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):ownKeys$1(Object(l)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(l,n))})}return e}({document:this},e))}}function ownKeys(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),l.push.apply(l,u)}return l}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(l),!0).forEach(function(n){_defineProperty(e,n,l[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):ownKeys(Object(l)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(l,n))})}return e}yV.createCanvas=function(e,n){var l=document.createElement("canvas");return l.width=e,l.height=n,l},yV.createImage=function(e){return _createImage.apply(this,arguments)},yV.elementTypes=hV;class dV{constructor(e,n){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.parser=new iv(l),this.screen=new nv(e,l),this.options=l;var u=new yV(this,l),h=u.createDocumentElement(n);this.document=u,this.documentElement=h}static from(e,n){var l=arguments;return _asyncToGenerator(function*(){var u=l.length>2&&void 0!==l[2]?l[2]:{},h=new iv(u),d=yield h.parse(n);return new dV(e,d,u)})()}static fromString(e,n){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=new iv(l).parseFromString(n);return new dV(e,u,l)}fork(e,n){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return dV.from(e,n,_objectSpread(_objectSpread({},this.options),l))}forkString(e,n){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return dV.fromString(e,n,_objectSpread(_objectSpread({},this.options),l))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var e=arguments,n=this;return _asyncToGenerator(function*(){var l=e.length>0&&void 0!==e[0]?e[0]:{};n.start(_objectSpread({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},l)),yield n.ready(),n.stop()})()}start(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{documentElement:n,screen:l,options:u}=this;l.start(n,_objectSpread(_objectSpread({enableRedraw:!0},u),e))}stop(){this.screen.stop()}resize(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(e,n,l)}}const fV=Object.freeze(Object.defineProperty({__proto__:null,AElement:Jv,AnimateColorElement:Uv,AnimateElement:Fv,AnimateTransformElement:jv,BoundingBox:mv,CB1:CB1,CB2:CB2,CB3:CB3,CB4:CB4,Canvg:dV,CircleElement:Ev,ClipPathElement:rV,DefsElement:qv,DescElement:cV,Document:yV,Element:fv,EllipseElement:_v,FeColorMatrixElement:tV,FeCompositeElement:sV,FeDropShadowElement:iV,FeGaussianBlurElement:lV,FeMorphologyElement:oV,FilterElement:aV,Font:pv,FontElement:Gv,FontFaceElement:Hv,GElement:Nv,GlyphElement:Bv,GradientElement:Rv,ImageElement:Kv,LineElement:Ov,LinearGradientElement:kv,MarkerElement:Mv,MaskElement:nV,Matrix:uv,MissingGlyphElement:$v,Mouse:ZP,PSEUDO_ZERO:YP,Parser:iv,PathElement:Vv,PathParser:Pv,PatternElement:Iv,Point:QP,PolygonElement:wv,PolylineElement:Av,Property:KP,QB1:QB1,QB2:QB2,QB3:QB3,RadialGradientElement:Dv,RectElement:xv,RenderedElement:vv,Rotate:sv,SVGElement:Sv,SVGFontLoader:Qv,Scale:lv,Screen:nv,Skew:cv,SkewX:hv,SkewY:yv,StopElement:Lv,StyleElement:Zv,SymbolElement:Xv,TRefElement:zv,TSpanElement:Tv,TextElement:bv,TextPathElement:Wv,TitleElement:uV,Transform:dv,Translate:ov,UnknownElement:gv,UseElement:eV,ViewPort:XP,compressSpaces:compressSpaces,default:dV,getSelectorSpecificity:getSelectorSpecificity,normalizeAttributeName:normalizeAttributeName,normalizeColor:normalizeColor,parseExternalUrl:parseExternalUrl,presets:FP,toNumbers:toNumbers,trimLeft:trimLeft,trimRight:trimRight,vectorMagnitude:vectorMagnitude,vectorsAngle:vectorsAngle,vectorsRatio:vectorsRatio},Symbol.toStringTag,{value:"Module"}));export{sc as A,zlibSync as B,unzlibSync as C,cu as D,Mc as E,requireScheduler as F,qu as G,un as H,_l as I,mh as J,my as K,fV as L,Vu as P,x as T,_typeof$1 as _,Va as a,va as b,fa as c,ua as d,da as e,clsx as f,oa as g,Bs as h,ya as i,invariant as j,$l as k,Nl as l,Fl as m,Wl as n,du as o,Nu as p,Du as q,Gu as r,dl as s,El as t,ka as u,zu as v,tc as w,Bc as x,dc as y,Ac as z};
